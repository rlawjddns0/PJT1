{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\element-plus\\lib\\utils\\popup-manager.js","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\element-plus\\lib\\utils\\popup-manager.js","mtime":1627609664342},{"path":"C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627609653894},{"path":"C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\babel-loader\\lib\\index.js","mtime":1627609652222}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIGlzU2VydmVyID0gcmVxdWlyZSgnLi9pc1NlcnZlcicpOwoKdmFyIGNvbmZpZ3MgPSByZXF1aXJlKCcuL2NvbmZpZycpOwoKdmFyIGRvbSA9IHJlcXVpcmUoJy4vZG9tJyk7Cgp2YXIgYXJpYSA9IHJlcXVpcmUoJy4vYXJpYScpOwoKZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0TGVnYWN5KGUpIHsKICByZXR1cm4gZSAmJiB0eXBlb2YgZSA9PT0gJ29iamVjdCcgJiYgJ2RlZmF1bHQnIGluIGUgPyBlIDogewogICAgJ2RlZmF1bHQnOiBlCiAgfTsKfQoKdmFyIGlzU2VydmVyX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeShpc1NlcnZlcik7Cgpjb25zdCBvblRvdWNoTW92ZSA9IGUgPT4gewogIGUucHJldmVudERlZmF1bHQoKTsKICBlLnN0b3BQcm9wYWdhdGlvbigpOwp9OwoKY29uc3Qgb25Nb2RhbENsaWNrID0gKCkgPT4gewogIFBvcHVwTWFuYWdlciA9PT0gbnVsbCB8fCBQb3B1cE1hbmFnZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IFBvcHVwTWFuYWdlci5kb09uTW9kYWxDbGljaygpOwp9OwoKbGV0IGhhc01vZGFsID0gZmFsc2U7CmxldCB6SW5kZXg7Cgpjb25zdCBnZXRNb2RhbCA9IGZ1bmN0aW9uICgpIHsKICBpZiAoaXNTZXJ2ZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXSkgcmV0dXJuOwogIGxldCBtb2RhbERvbSA9IFBvcHVwTWFuYWdlci5tb2RhbERvbTsKCiAgaWYgKG1vZGFsRG9tKSB7CiAgICBoYXNNb2RhbCA9IHRydWU7CiAgfSBlbHNlIHsKICAgIGhhc01vZGFsID0gZmFsc2U7CiAgICBtb2RhbERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgUG9wdXBNYW5hZ2VyLm1vZGFsRG9tID0gbW9kYWxEb207CiAgICBkb20ub24obW9kYWxEb20sICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSk7CiAgICBkb20ub24obW9kYWxEb20sICdjbGljaycsIG9uTW9kYWxDbGljayk7CiAgfQoKICByZXR1cm4gbW9kYWxEb207Cn07Cgpjb25zdCBpbnN0YW5jZXMgPSB7fTsKY29uc3QgUG9wdXBNYW5hZ2VyID0gewogIG1vZGFsRmFkZTogdHJ1ZSwKICBtb2RhbERvbTogdW5kZWZpbmVkLAogIHpJbmRleCwKICBnZXRJbnN0YW5jZTogZnVuY3Rpb24gKGlkKSB7CiAgICByZXR1cm4gaW5zdGFuY2VzW2lkXTsKICB9LAogIHJlZ2lzdGVyOiBmdW5jdGlvbiAoaWQsIGluc3RhbmNlKSB7CiAgICBpZiAoaWQgJiYgaW5zdGFuY2UpIHsKICAgICAgaW5zdGFuY2VzW2lkXSA9IGluc3RhbmNlOwogICAgfQogIH0sCiAgZGVyZWdpc3RlcjogZnVuY3Rpb24gKGlkKSB7CiAgICBpZiAoaWQpIHsKICAgICAgaW5zdGFuY2VzW2lkXSA9IG51bGw7CiAgICAgIGRlbGV0ZSBpbnN0YW5jZXNbaWRdOwogICAgfQogIH0sCiAgbmV4dFpJbmRleDogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICsrUG9wdXBNYW5hZ2VyLnpJbmRleDsKICB9LAogIG1vZGFsU3RhY2s6IFtdLAogIGRvT25Nb2RhbENsaWNrOiBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCB0b3BJdGVtID0gUG9wdXBNYW5hZ2VyLm1vZGFsU3RhY2tbUG9wdXBNYW5hZ2VyLm1vZGFsU3RhY2subGVuZ3RoIC0gMV07CiAgICBpZiAoIXRvcEl0ZW0pIHJldHVybjsKICAgIGNvbnN0IGluc3RhbmNlID0gUG9wdXBNYW5hZ2VyLmdldEluc3RhbmNlKHRvcEl0ZW0uaWQpOwoKICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5jbG9zZU9uQ2xpY2tNb2RhbC52YWx1ZSkgewogICAgICBpbnN0YW5jZS5jbG9zZSgpOwogICAgfQogIH0sCiAgb3Blbk1vZGFsOiBmdW5jdGlvbiAoaWQsIHpJbmRleCwgZG9tJDEsIG1vZGFsQ2xhc3MsIG1vZGFsRmFkZSkgewogICAgaWYgKGlzU2VydmVyX19kZWZhdWx0WydkZWZhdWx0J10pIHJldHVybjsKICAgIGlmICghaWQgfHwgekluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgIHRoaXMubW9kYWxGYWRlID0gbW9kYWxGYWRlOwogICAgY29uc3QgbW9kYWxTdGFjayA9IHRoaXMubW9kYWxTdGFjazsKCiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG1vZGFsU3RhY2subGVuZ3RoOyBpIDwgajsgaSsrKSB7CiAgICAgIGNvbnN0IGl0ZW0gPSBtb2RhbFN0YWNrW2ldOwoKICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9CgogICAgY29uc3QgbW9kYWxEb20gPSBnZXRNb2RhbCgpOwogICAgZG9tLmFkZENsYXNzKG1vZGFsRG9tLCAndi1tb2RhbCcpOwoKICAgIGlmICh0aGlzLm1vZGFsRmFkZSAmJiAhaGFzTW9kYWwpIHsKICAgICAgZG9tLmFkZENsYXNzKG1vZGFsRG9tLCAndi1tb2RhbC1lbnRlcicpOwogICAgfQoKICAgIGlmIChtb2RhbENsYXNzKSB7CiAgICAgIGNvbnN0IGNsYXNzQXJyID0gbW9kYWxDbGFzcy50cmltKCkuc3BsaXQoL1xzKy8pOwogICAgICBjbGFzc0Fyci5mb3JFYWNoKGl0ZW0gPT4gZG9tLmFkZENsYXNzKG1vZGFsRG9tLCBpdGVtKSk7CiAgICB9CgogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIGRvbS5yZW1vdmVDbGFzcyhtb2RhbERvbSwgJ3YtbW9kYWwtZW50ZXInKTsKICAgIH0sIDIwMCk7CgogICAgaWYgKGRvbSQxICYmIGRvbSQxLnBhcmVudE5vZGUgJiYgZG9tJDEucGFyZW50Tm9kZS5ub2RlVHlwZSAhPT0gMTEpIHsKICAgICAgZG9tJDEucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChtb2RhbERvbSk7CiAgICB9IGVsc2UgewogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsRG9tKTsKICAgIH0KCiAgICBpZiAoekluZGV4KSB7CiAgICAgIG1vZGFsRG9tLnN0eWxlLnpJbmRleCA9IFN0cmluZyh6SW5kZXgpOwogICAgfQoKICAgIG1vZGFsRG9tLnRhYkluZGV4ID0gMDsKICAgIG1vZGFsRG9tLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIHRoaXMubW9kYWxTdGFjay5wdXNoKHsKICAgICAgaWQ6IGlkLAogICAgICB6SW5kZXg6IHpJbmRleCwKICAgICAgbW9kYWxDbGFzczogbW9kYWxDbGFzcwogICAgfSk7CiAgfSwKICBjbG9zZU1vZGFsOiBmdW5jdGlvbiAoaWQpIHsKICAgIGNvbnN0IG1vZGFsU3RhY2sgPSB0aGlzLm1vZGFsU3RhY2s7CiAgICBjb25zdCBtb2RhbERvbSA9IGdldE1vZGFsKCk7CgogICAgaWYgKG1vZGFsU3RhY2subGVuZ3RoID4gMCkgewogICAgICBjb25zdCB0b3BJdGVtID0gbW9kYWxTdGFja1ttb2RhbFN0YWNrLmxlbmd0aCAtIDFdOwoKICAgICAgaWYgKHRvcEl0ZW0uaWQgPT09IGlkKSB7CiAgICAgICAgaWYgKHRvcEl0ZW0ubW9kYWxDbGFzcykgewogICAgICAgICAgY29uc3QgY2xhc3NBcnIgPSB0b3BJdGVtLm1vZGFsQ2xhc3MudHJpbSgpLnNwbGl0KC9ccysvKTsKICAgICAgICAgIGNsYXNzQXJyLmZvckVhY2goaXRlbSA9PiBkb20ucmVtb3ZlQ2xhc3MobW9kYWxEb20sIGl0ZW0pKTsKICAgICAgICB9CgogICAgICAgIG1vZGFsU3RhY2sucG9wKCk7CgogICAgICAgIGlmIChtb2RhbFN0YWNrLmxlbmd0aCA+IDApIHsKICAgICAgICAgIG1vZGFsRG9tLnN0eWxlLnpJbmRleCA9IG1vZGFsU3RhY2tbbW9kYWxTdGFjay5sZW5ndGggLSAxXS56SW5kZXg7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGZvciAobGV0IGkgPSBtb2RhbFN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICBpZiAobW9kYWxTdGFja1tpXS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgbW9kYWxTdGFjay5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChtb2RhbFN0YWNrLmxlbmd0aCA9PT0gMCkgewogICAgICBpZiAodGhpcy5tb2RhbEZhZGUpIHsKICAgICAgICBkb20uYWRkQ2xhc3MobW9kYWxEb20sICd2LW1vZGFsLWxlYXZlJyk7CiAgICAgIH0KCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGlmIChtb2RhbFN0YWNrLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgaWYgKG1vZGFsRG9tLnBhcmVudE5vZGUpIG1vZGFsRG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobW9kYWxEb20pOwogICAgICAgICAgbW9kYWxEb20uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgIFBvcHVwTWFuYWdlci5tb2RhbERvbSA9IHVuZGVmaW5lZDsKICAgICAgICB9CgogICAgICAgIGRvbS5yZW1vdmVDbGFzcyhtb2RhbERvbSwgJ3YtbW9kYWwtbGVhdmUnKTsKICAgICAgfSwgMjAwKTsKICAgIH0KICB9Cn07Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb3B1cE1hbmFnZXIsICd6SW5kZXgnLCB7CiAgY29uZmlndXJhYmxlOiB0cnVlLAoKICBnZXQoKSB7CiAgICBpZiAoekluZGV4ID09PSB1bmRlZmluZWQpIHsKICAgICAgekluZGV4ID0gY29uZmlncy5nZXRDb25maWcoJ3pJbmRleCcpIHx8IDIwMDA7CiAgICB9CgogICAgcmV0dXJuIHpJbmRleDsKICB9LAoKICBzZXQodmFsdWUpIHsKICAgIHpJbmRleCA9IHZhbHVlOwogIH0KCn0pOwoKY29uc3QgZ2V0VG9wUG9wdXAgPSBmdW5jdGlvbiAoKSB7CiAgaWYgKGlzU2VydmVyX19kZWZhdWx0WydkZWZhdWx0J10pIHJldHVybjsKCiAgaWYgKFBvcHVwTWFuYWdlci5tb2RhbFN0YWNrLmxlbmd0aCA+IDApIHsKICAgIGNvbnN0IHRvcFBvcHVwID0gUG9wdXBNYW5hZ2VyLm1vZGFsU3RhY2tbUG9wdXBNYW5hZ2VyLm1vZGFsU3RhY2subGVuZ3RoIC0gMV07CiAgICBpZiAoIXRvcFBvcHVwKSByZXR1cm47CiAgICBjb25zdCBpbnN0YW5jZSA9IFBvcHVwTWFuYWdlci5nZXRJbnN0YW5jZSh0b3BQb3B1cC5pZCk7CiAgICByZXR1cm4gaW5zdGFuY2U7CiAgfQp9OwoKaWYgKCFpc1NlcnZlcl9fZGVmYXVsdFsnZGVmYXVsdCddKSB7CiAgZG9tLm9uKHdpbmRvdywgJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudC5jb2RlID09PSBhcmlhLkVWRU5UX0NPREUuZXNjKSB7CiAgICAgIGNvbnN0IHRvcFBvcHVwID0gZ2V0VG9wUG9wdXAoKTsKCiAgICAgIGlmICh0b3BQb3B1cCAmJiB0b3BQb3B1cC5jbG9zZU9uUHJlc3NFc2NhcGUudmFsdWUpIHsKICAgICAgICB0b3BQb3B1cC5oYW5kbGVDbG9zZSA/IHRvcFBvcHVwLmhhbmRsZUNsb3NlKCkgOiB0b3BQb3B1cC5oYW5kbGVBY3Rpb24gPyB0b3BQb3B1cC5oYW5kbGVBY3Rpb24oJ2NhbmNlbCcpIDogdG9wUG9wdXAuY2xvc2UoKTsKICAgICAgfQogICAgfQogIH0pOwp9CgpleHBvcnRzLmRlZmF1bHQgPSBQb3B1cE1hbmFnZXI7"},{"version":3,"sources":["C:/Users/multicampus/Desktop/pjt 1 back/cowdog_fe/node_modules/element-plus/lib/utils/popup-manager.js"],"names":["Object","defineProperty","exports","value","isServer","require","configs","dom","aria","_interopDefaultLegacy","e","isServer__default","onTouchMove","preventDefault","stopPropagation","onModalClick","PopupManager","doOnModalClick","hasModal","zIndex","getModal","modalDom","document","createElement","on","instances","modalFade","undefined","getInstance","id","register","instance","deregister","nextZIndex","modalStack","topItem","length","closeOnClickModal","close","openModal","dom$1","modalClass","i","j","item","addClass","classArr","trim","split","forEach","setTimeout","removeClass","parentNode","nodeType","appendChild","body","style","String","tabIndex","display","push","closeModal","pop","splice","removeChild","configurable","get","getConfig","set","getTopPopup","topPopup","window","event","code","EVENT_CODE","esc","closeOnPressEscape","handleClose","handleAction","default"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, '__esModule', { value: true });\r\n\r\nvar isServer = require('./isServer');\r\nvar configs = require('./config');\r\nvar dom = require('./dom');\r\nvar aria = require('./aria');\r\n\r\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\r\n\r\nvar isServer__default = /*#__PURE__*/_interopDefaultLegacy(isServer);\r\n\r\nconst onTouchMove = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n};\r\nconst onModalClick = () => {\r\n    PopupManager === null || PopupManager === void 0 ? void 0 : PopupManager.doOnModalClick();\r\n};\r\nlet hasModal = false;\r\nlet zIndex;\r\nconst getModal = function () {\r\n    if (isServer__default['default'])\r\n        return;\r\n    let modalDom = PopupManager.modalDom;\r\n    if (modalDom) {\r\n        hasModal = true;\r\n    }\r\n    else {\r\n        hasModal = false;\r\n        modalDom = document.createElement('div');\r\n        PopupManager.modalDom = modalDom;\r\n        dom.on(modalDom, 'touchmove', onTouchMove);\r\n        dom.on(modalDom, 'click', onModalClick);\r\n    }\r\n    return modalDom;\r\n};\r\nconst instances = {};\r\nconst PopupManager = {\r\n    modalFade: true,\r\n    modalDom: undefined,\r\n    zIndex,\r\n    getInstance: function (id) {\r\n        return instances[id];\r\n    },\r\n    register: function (id, instance) {\r\n        if (id && instance) {\r\n            instances[id] = instance;\r\n        }\r\n    },\r\n    deregister: function (id) {\r\n        if (id) {\r\n            instances[id] = null;\r\n            delete instances[id];\r\n        }\r\n    },\r\n    nextZIndex: function () {\r\n        return ++PopupManager.zIndex;\r\n    },\r\n    modalStack: [],\r\n    doOnModalClick: function () {\r\n        const topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1];\r\n        if (!topItem)\r\n            return;\r\n        const instance = PopupManager.getInstance(topItem.id);\r\n        if (instance && instance.closeOnClickModal.value) {\r\n            instance.close();\r\n        }\r\n    },\r\n    openModal: function (id, zIndex, dom$1, modalClass, modalFade) {\r\n        if (isServer__default['default'])\r\n            return;\r\n        if (!id || zIndex === undefined)\r\n            return;\r\n        this.modalFade = modalFade;\r\n        const modalStack = this.modalStack;\r\n        for (let i = 0, j = modalStack.length; i < j; i++) {\r\n            const item = modalStack[i];\r\n            if (item.id === id) {\r\n                return;\r\n            }\r\n        }\r\n        const modalDom = getModal();\r\n        dom.addClass(modalDom, 'v-modal');\r\n        if (this.modalFade && !hasModal) {\r\n            dom.addClass(modalDom, 'v-modal-enter');\r\n        }\r\n        if (modalClass) {\r\n            const classArr = modalClass.trim().split(/\\s+/);\r\n            classArr.forEach(item => dom.addClass(modalDom, item));\r\n        }\r\n        setTimeout(() => {\r\n            dom.removeClass(modalDom, 'v-modal-enter');\r\n        }, 200);\r\n        if (dom$1 && dom$1.parentNode && dom$1.parentNode.nodeType !== 11) {\r\n            dom$1.parentNode.appendChild(modalDom);\r\n        }\r\n        else {\r\n            document.body.appendChild(modalDom);\r\n        }\r\n        if (zIndex) {\r\n            modalDom.style.zIndex = String(zIndex);\r\n        }\r\n        modalDom.tabIndex = 0;\r\n        modalDom.style.display = '';\r\n        this.modalStack.push({ id: id, zIndex: zIndex, modalClass: modalClass });\r\n    },\r\n    closeModal: function (id) {\r\n        const modalStack = this.modalStack;\r\n        const modalDom = getModal();\r\n        if (modalStack.length > 0) {\r\n            const topItem = modalStack[modalStack.length - 1];\r\n            if (topItem.id === id) {\r\n                if (topItem.modalClass) {\r\n                    const classArr = topItem.modalClass.trim().split(/\\s+/);\r\n                    classArr.forEach(item => dom.removeClass(modalDom, item));\r\n                }\r\n                modalStack.pop();\r\n                if (modalStack.length > 0) {\r\n                    modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = modalStack.length - 1; i >= 0; i--) {\r\n                    if (modalStack[i].id === id) {\r\n                        modalStack.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (modalStack.length === 0) {\r\n            if (this.modalFade) {\r\n                dom.addClass(modalDom, 'v-modal-leave');\r\n            }\r\n            setTimeout(() => {\r\n                if (modalStack.length === 0) {\r\n                    if (modalDom.parentNode)\r\n                        modalDom.parentNode.removeChild(modalDom);\r\n                    modalDom.style.display = 'none';\r\n                    PopupManager.modalDom = undefined;\r\n                }\r\n                dom.removeClass(modalDom, 'v-modal-leave');\r\n            }, 200);\r\n        }\r\n    },\r\n};\r\nObject.defineProperty(PopupManager, 'zIndex', {\r\n    configurable: true,\r\n    get() {\r\n        if (zIndex === undefined) {\r\n            zIndex = configs.getConfig('zIndex') || 2000;\r\n        }\r\n        return zIndex;\r\n    },\r\n    set(value) {\r\n        zIndex = value;\r\n    },\r\n});\r\nconst getTopPopup = function () {\r\n    if (isServer__default['default'])\r\n        return;\r\n    if (PopupManager.modalStack.length > 0) {\r\n        const topPopup = PopupManager.modalStack[PopupManager.modalStack.length - 1];\r\n        if (!topPopup)\r\n            return;\r\n        const instance = PopupManager.getInstance(topPopup.id);\r\n        return instance;\r\n    }\r\n};\r\nif (!isServer__default['default']) {\r\n    dom.on(window, 'keydown', function (event) {\r\n        if (event.code === aria.EVENT_CODE.esc) {\r\n            const topPopup = getTopPopup();\r\n            if (topPopup && topPopup.closeOnPressEscape.value) {\r\n                topPopup.handleClose\r\n                    ? topPopup.handleClose()\r\n                    : topPopup.handleAction\r\n                        ? topPopup.handleAction('cancel')\r\n                        : topPopup.close();\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexports.default = PopupManager;\r\n"]}]}