{"remainingRequest":"C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\element-plus\\lib\\el-date-picker\\index.js","dependencies":[{"path":"C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\element-plus\\lib\\el-date-picker\\index.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\multicampus\\Desktop\\pjt 1 back\\cowdog_fe\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIHZ1ZSA9IHJlcXVpcmUoJ3Z1ZScpOwoKdmFyIGRheWpzID0gcmVxdWlyZSgnZGF5anMnKTsKCnZhciB0aW1lUGlja2VyID0gcmVxdWlyZSgnLi4vZWwtdGltZS1waWNrZXInKTsKCnZhciBsb2NhbGUgPSByZXF1aXJlKCcuLi9sb2NhbGUnKTsKCnZhciBFbElucHV0ID0gcmVxdWlyZSgnLi4vZWwtaW5wdXQnKTsKCnZhciBkaXJlY3RpdmVzID0gcmVxdWlyZSgnLi4vZGlyZWN0aXZlcycpOwoKdmFyIGFyaWEgPSByZXF1aXJlKCcuLi91dGlscy9hcmlhJyk7Cgp2YXIgRWxCdXR0b24gPSByZXF1aXJlKCcuLi9lbC1idXR0b24nKTsKCnZhciB2YWxpZGF0b3JzID0gcmVxdWlyZSgnLi4vdXRpbHMvdmFsaWRhdG9ycycpOwoKdmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlscy91dGlsJyk7Cgp2YXIgZG9tID0gcmVxdWlyZSgnLi4vdXRpbHMvZG9tJyk7Cgp2YXIgY3VzdG9tUGFyc2VGb3JtYXQgPSByZXF1aXJlKCdkYXlqcy9wbHVnaW4vY3VzdG9tUGFyc2VGb3JtYXQnKTsKCnZhciBhZHZhbmNlZEZvcm1hdCA9IHJlcXVpcmUoJ2RheWpzL3BsdWdpbi9hZHZhbmNlZEZvcm1hdCcpOwoKdmFyIGxvY2FsZURhdGEgPSByZXF1aXJlKCdkYXlqcy9wbHVnaW4vbG9jYWxlRGF0YScpOwoKdmFyIHdlZWtPZlllYXIgPSByZXF1aXJlKCdkYXlqcy9wbHVnaW4vd2Vla09mWWVhcicpOwoKdmFyIHdlZWtZZWFyID0gcmVxdWlyZSgnZGF5anMvcGx1Z2luL3dlZWtZZWFyJyk7Cgp2YXIgZGF5T2ZZZWFyID0gcmVxdWlyZSgnZGF5anMvcGx1Z2luL2RheU9mWWVhcicpOwoKdmFyIGlzU2FtZU9yQWZ0ZXIgPSByZXF1aXJlKCdkYXlqcy9wbHVnaW4vaXNTYW1lT3JBZnRlcicpOwoKdmFyIGlzU2FtZU9yQmVmb3JlID0gcmVxdWlyZSgnZGF5anMvcGx1Z2luL2lzU2FtZU9yQmVmb3JlJyk7CgpmdW5jdGlvbiBfaW50ZXJvcERlZmF1bHRMZWdhY3koZSkgewogIHJldHVybiBlICYmIHR5cGVvZiBlID09PSAnb2JqZWN0JyAmJiAnZGVmYXVsdCcgaW4gZSA/IGUgOiB7CiAgICAnZGVmYXVsdCc6IGUKICB9Owp9Cgp2YXIgZGF5anNfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KGRheWpzKTsKCnZhciBFbElucHV0X19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeShFbElucHV0KTsKCnZhciBFbEJ1dHRvbl9fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9faW50ZXJvcERlZmF1bHRMZWdhY3koRWxCdXR0b24pOwoKdmFyIGN1c3RvbVBhcnNlRm9ybWF0X19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeShjdXN0b21QYXJzZUZvcm1hdCk7Cgp2YXIgYWR2YW5jZWRGb3JtYXRfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0TGVnYWN5KGFkdmFuY2VkRm9ybWF0KTsKCnZhciBsb2NhbGVEYXRhX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeShsb2NhbGVEYXRhKTsKCnZhciB3ZWVrT2ZZZWFyX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeSh3ZWVrT2ZZZWFyKTsKCnZhciB3ZWVrWWVhcl9fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9faW50ZXJvcERlZmF1bHRMZWdhY3kod2Vla1llYXIpOwoKdmFyIGRheU9mWWVhcl9fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9faW50ZXJvcERlZmF1bHRMZWdhY3koZGF5T2ZZZWFyKTsKCnZhciBpc1NhbWVPckFmdGVyX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdExlZ2FjeShpc1NhbWVPckFmdGVyKTsKCnZhciBpc1NhbWVPckJlZm9yZV9fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9faW50ZXJvcERlZmF1bHRMZWdhY3koaXNTYW1lT3JCZWZvcmUpOwoKdmFyIHNjcmlwdCA9IHZ1ZS5kZWZpbmVDb21wb25lbnQoewogIHByb3BzOiB7CiAgICBkYXRlOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIG1pbkRhdGU6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgbWF4RGF0ZTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICBwYXJzZWRWYWx1ZTogewogICAgICB0eXBlOiBbT2JqZWN0LCBBcnJheV0KICAgIH0sCiAgICBzZWxlY3Rpb25Nb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImRheSIKICAgIH0sCiAgICBzaG93V2Vla051bWJlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRpc2FibGVkRGF0ZTogewogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfSwKICAgIGNlbGxDbGFzc05hbWU6IHsKICAgICAgdHlwZTogRnVuY3Rpb24KICAgIH0sCiAgICByYW5nZVN0YXRlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gKHsKICAgICAgICBlbmREYXRlOiBudWxsLAogICAgICAgIHNlbGVjdGluZzogZmFsc2UKICAgICAgfSkKICAgIH0KICB9LAogIGVtaXRzOiBbImNoYW5nZXJhbmdlIiwgInBpY2siLCAic2VsZWN0Il0sCgogIHNldHVwKHByb3BzLCBjdHgpIHsKICAgIGNvbnN0IGxhc3RSb3cgPSB2dWUucmVmKG51bGwpOwogICAgY29uc3QgbGFzdENvbHVtbiA9IHZ1ZS5yZWYobnVsbCk7CiAgICBjb25zdCB0YWJsZVJvd3MgPSB2dWUucmVmKFtbXSwgW10sIFtdLCBbXSwgW10sIFtdXSk7CiAgICBjb25zdCBmaXJzdERheU9mV2VlayA9IHByb3BzLmRhdGUuJGxvY2FsZSgpLndlZWtTdGFydCB8fCA3OwogICAgY29uc3QgV0VFS1NfQ09OU1RBTlQgPSBwcm9wcy5kYXRlLmxvY2FsZSgiZW4iKS5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCgpLm1hcChfID0+IF8udG9Mb3dlckNhc2UoKSk7CiAgICBjb25zdCBvZmZzZXREYXkgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gZmlyc3REYXlPZldlZWsgPiAzID8gNyAtIGZpcnN0RGF5T2ZXZWVrIDogLWZpcnN0RGF5T2ZXZWVrOwogICAgfSk7CiAgICBjb25zdCBzdGFydERhdGUgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICBjb25zdCBzdGFydERheU9mTW9udGggPSBwcm9wcy5kYXRlLnN0YXJ0T2YoIm1vbnRoIik7CiAgICAgIHJldHVybiBzdGFydERheU9mTW9udGguc3VidHJhY3Qoc3RhcnREYXlPZk1vbnRoLmRheSgpIHx8IDcsICJkYXkiKTsKICAgIH0pOwogICAgY29uc3QgV0VFS1MgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gV0VFS1NfQ09OU1RBTlQuY29uY2F0KFdFRUtTX0NPTlNUQU5UKS5zbGljZShmaXJzdERheU9mV2VlaywgZmlyc3REYXlPZldlZWsgKyA3KTsKICAgIH0pOwogICAgY29uc3Qgcm93cyA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgIHZhciBfYTsKCiAgICAgIGNvbnN0IHN0YXJ0T2ZNb250aCA9IHByb3BzLmRhdGUuc3RhcnRPZigibW9udGgiKTsKICAgICAgY29uc3Qgc3RhcnRPZk1vbnRoRGF5ID0gc3RhcnRPZk1vbnRoLmRheSgpIHx8IDc7CiAgICAgIGNvbnN0IGRhdGVDb3VudE9mTW9udGggPSBzdGFydE9mTW9udGguZGF5c0luTW9udGgoKTsKICAgICAgY29uc3QgZGF0ZUNvdW50T2ZMYXN0TW9udGggPSBzdGFydE9mTW9udGguc3VidHJhY3QoMSwgIm1vbnRoIikuZGF5c0luTW9udGgoKTsKICAgICAgY29uc3Qgb2Zmc2V0ID0gb2Zmc2V0RGF5LnZhbHVlOwogICAgICBjb25zdCByb3dzXyA9IHRhYmxlUm93cy52YWx1ZTsKICAgICAgbGV0IGNvdW50ID0gMTsKICAgICAgY29uc3Qgc2VsZWN0ZWREYXRlID0gcHJvcHMuc2VsZWN0aW9uTW9kZSA9PT0gImRhdGVzIiA/IHV0aWwuY29lcmNlVHJ1dGh5VmFsdWVUb0FycmF5KHByb3BzLnBhcnNlZFZhbHVlKSA6IFtdOwogICAgICBjb25zdCBjYWxOb3cgPSBkYXlqc19fZGVmYXVsdFsnZGVmYXVsdCddKCkuc3RhcnRPZigiZGF5Iik7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykgewogICAgICAgIGNvbnN0IHJvdyA9IHJvd3NfW2ldOwoKICAgICAgICBpZiAocHJvcHMuc2hvd1dlZWtOdW1iZXIpIHsKICAgICAgICAgIGlmICghcm93WzBdKSB7CiAgICAgICAgICAgIHJvd1swXSA9IHsKICAgICAgICAgICAgICB0eXBlOiAid2VlayIsCiAgICAgICAgICAgICAgdGV4dDogc3RhcnREYXRlLnZhbHVlLmFkZChpICogNyArIDEsICJkYXkiKS53ZWVrKCkKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNzsgaisrKSB7CiAgICAgICAgICBsZXQgY2VsbCA9IHJvd1twcm9wcy5zaG93V2Vla051bWJlciA/IGogKyAxIDogal07CgogICAgICAgICAgaWYgKCFjZWxsKSB7CiAgICAgICAgICAgIGNlbGwgPSB7CiAgICAgICAgICAgICAgcm93OiBpLAogICAgICAgICAgICAgIGNvbHVtbjogaiwKICAgICAgICAgICAgICB0eXBlOiAibm9ybWFsIiwKICAgICAgICAgICAgICBpblJhbmdlOiBmYWxzZSwKICAgICAgICAgICAgICBzdGFydDogZmFsc2UsCiAgICAgICAgICAgICAgZW5kOiBmYWxzZQogICAgICAgICAgICB9OwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnN0IGluZGV4ID0gaSAqIDcgKyBqOwogICAgICAgICAgY29uc3QgY2FsVGltZSA9IHN0YXJ0RGF0ZS52YWx1ZS5hZGQoaW5kZXggLSBvZmZzZXQsICJkYXkiKTsKICAgICAgICAgIGNlbGwudHlwZSA9ICJub3JtYWwiOwogICAgICAgICAgY29uc3QgY2FsRW5kRGF0ZSA9IHByb3BzLnJhbmdlU3RhdGUuZW5kRGF0ZSB8fCBwcm9wcy5tYXhEYXRlIHx8IHByb3BzLnJhbmdlU3RhdGUuc2VsZWN0aW5nICYmIHByb3BzLm1pbkRhdGU7CiAgICAgICAgICBjZWxsLmluUmFuZ2UgPSBwcm9wcy5taW5EYXRlICYmIGNhbFRpbWUuaXNTYW1lT3JBZnRlcihwcm9wcy5taW5EYXRlLCAiZGF5IikgJiYgY2FsRW5kRGF0ZSAmJiBjYWxUaW1lLmlzU2FtZU9yQmVmb3JlKGNhbEVuZERhdGUsICJkYXkiKSB8fCBwcm9wcy5taW5EYXRlICYmIGNhbFRpbWUuaXNTYW1lT3JCZWZvcmUocHJvcHMubWluRGF0ZSwgImRheSIpICYmIGNhbEVuZERhdGUgJiYgY2FsVGltZS5pc1NhbWVPckFmdGVyKGNhbEVuZERhdGUsICJkYXkiKTsKCiAgICAgICAgICBpZiAoKF9hID0gcHJvcHMubWluRGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlzU2FtZU9yQWZ0ZXIoY2FsRW5kRGF0ZSkpIHsKICAgICAgICAgICAgY2VsbC5zdGFydCA9IGNhbEVuZERhdGUgJiYgY2FsVGltZS5pc1NhbWUoY2FsRW5kRGF0ZSwgImRheSIpOwogICAgICAgICAgICBjZWxsLmVuZCA9IHByb3BzLm1pbkRhdGUgJiYgY2FsVGltZS5pc1NhbWUocHJvcHMubWluRGF0ZSwgImRheSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2VsbC5zdGFydCA9IHByb3BzLm1pbkRhdGUgJiYgY2FsVGltZS5pc1NhbWUocHJvcHMubWluRGF0ZSwgImRheSIpOwogICAgICAgICAgICBjZWxsLmVuZCA9IGNhbEVuZERhdGUgJiYgY2FsVGltZS5pc1NhbWUoY2FsRW5kRGF0ZSwgImRheSIpOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnN0IGlzVG9kYXkgPSBjYWxUaW1lLmlzU2FtZShjYWxOb3csICJkYXkiKTsKCiAgICAgICAgICBpZiAoaXNUb2RheSkgewogICAgICAgICAgICBjZWxsLnR5cGUgPSAidG9kYXkiOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpID49IDAgJiYgaSA8PSAxKSB7CiAgICAgICAgICAgIGNvbnN0IG51bWJlck9mRGF5c0Zyb21QcmV2aW91c01vbnRoID0gc3RhcnRPZk1vbnRoRGF5ICsgb2Zmc2V0IDwgMCA/IDcgKyBzdGFydE9mTW9udGhEYXkgKyBvZmZzZXQgOiBzdGFydE9mTW9udGhEYXkgKyBvZmZzZXQ7CgogICAgICAgICAgICBpZiAoaiArIGkgKiA3ID49IG51bWJlck9mRGF5c0Zyb21QcmV2aW91c01vbnRoKSB7CiAgICAgICAgICAgICAgY2VsbC50ZXh0ID0gY291bnQrKzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjZWxsLnRleHQgPSBkYXRlQ291bnRPZkxhc3RNb250aCAtIChudW1iZXJPZkRheXNGcm9tUHJldmlvdXNNb250aCAtIGogJSA3KSArIDEgKyBpICogNzsKICAgICAgICAgICAgICBjZWxsLnR5cGUgPSAicHJldi1tb250aCI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChjb3VudCA8PSBkYXRlQ291bnRPZk1vbnRoKSB7CiAgICAgICAgICAgICAgY2VsbC50ZXh0ID0gY291bnQrKzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjZWxsLnRleHQgPSBjb3VudCsrIC0gZGF0ZUNvdW50T2ZNb250aDsKICAgICAgICAgICAgICBjZWxsLnR5cGUgPSAibmV4dC1tb250aCI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCBjZWxsRGF0ZSA9IGNhbFRpbWUudG9EYXRlKCk7CiAgICAgICAgICBjZWxsLnNlbGVjdGVkID0gc2VsZWN0ZWREYXRlLmZpbmQoXyA9PiBfLnZhbHVlT2YoKSA9PT0gY2FsVGltZS52YWx1ZU9mKCkpOwogICAgICAgICAgY2VsbC5kaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkRGF0ZSAmJiBwcm9wcy5kaXNhYmxlZERhdGUoY2VsbERhdGUpOwogICAgICAgICAgY2VsbC5jdXN0b21DbGFzcyA9IHByb3BzLmNlbGxDbGFzc05hbWUgJiYgcHJvcHMuY2VsbENsYXNzTmFtZShjZWxsRGF0ZSk7CiAgICAgICAgICByb3dbcHJvcHMuc2hvd1dlZWtOdW1iZXIgPyBqICsgMSA6IGpdID0gY2VsbDsKICAgICAgICB9CgogICAgICAgIGlmIChwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAid2VlayIpIHsKICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcHJvcHMuc2hvd1dlZWtOdW1iZXIgPyAxIDogMDsKICAgICAgICAgIGNvbnN0IGVuZCA9IHByb3BzLnNob3dXZWVrTnVtYmVyID8gNyA6IDY7CiAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IGlzV2Vla0FjdGl2ZShyb3dbc3RhcnQgKyAxXSk7CiAgICAgICAgICByb3dbc3RhcnRdLmluUmFuZ2UgPSBpc0FjdGl2ZTsKICAgICAgICAgIHJvd1tzdGFydF0uc3RhcnQgPSBpc0FjdGl2ZTsKICAgICAgICAgIHJvd1tlbmRdLmluUmFuZ2UgPSBpc0FjdGl2ZTsKICAgICAgICAgIHJvd1tlbmRdLmVuZCA9IGlzQWN0aXZlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJvd3NfOwogICAgfSk7CgogICAgY29uc3QgY2VsbE1hdGNoZXNEYXRlID0gKGNlbGwsIGRhdGUpID0+IHsKICAgICAgaWYgKCFkYXRlKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiBkYXlqc19fZGVmYXVsdFsnZGVmYXVsdCddKGRhdGUpLmlzU2FtZShwcm9wcy5kYXRlLmRhdGUoTnVtYmVyKGNlbGwudGV4dCkpLCAiZGF5Iik7CiAgICB9OwoKICAgIGNvbnN0IGdldENlbGxDbGFzc2VzID0gY2VsbCA9PiB7CiAgICAgIGxldCBjbGFzc2VzID0gW107CgogICAgICBpZiAoKGNlbGwudHlwZSA9PT0gIm5vcm1hbCIgfHwgY2VsbC50eXBlID09PSAidG9kYXkiKSAmJiAhY2VsbC5kaXNhYmxlZCkgewogICAgICAgIGNsYXNzZXMucHVzaCgiYXZhaWxhYmxlIik7CgogICAgICAgIGlmIChjZWxsLnR5cGUgPT09ICJ0b2RheSIpIHsKICAgICAgICAgIGNsYXNzZXMucHVzaCgidG9kYXkiKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2xhc3Nlcy5wdXNoKGNlbGwudHlwZSk7CiAgICAgIH0KCiAgICAgIGlmIChwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAiZGF5IiAmJiAoY2VsbC50eXBlID09PSAibm9ybWFsIiB8fCBjZWxsLnR5cGUgPT09ICJ0b2RheSIpICYmIGNlbGxNYXRjaGVzRGF0ZShjZWxsLCBwcm9wcy5wYXJzZWRWYWx1ZSkpIHsKICAgICAgICBjbGFzc2VzLnB1c2goImN1cnJlbnQiKTsKICAgICAgfQoKICAgICAgaWYgKGNlbGwuaW5SYW5nZSAmJiAoY2VsbC50eXBlID09PSAibm9ybWFsIiB8fCBjZWxsLnR5cGUgPT09ICJ0b2RheSIgfHwgcHJvcHMuc2VsZWN0aW9uTW9kZSA9PT0gIndlZWsiKSkgewogICAgICAgIGNsYXNzZXMucHVzaCgiaW4tcmFuZ2UiKTsKCiAgICAgICAgaWYgKGNlbGwuc3RhcnQpIHsKICAgICAgICAgIGNsYXNzZXMucHVzaCgic3RhcnQtZGF0ZSIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNlbGwuZW5kKSB7CiAgICAgICAgICBjbGFzc2VzLnB1c2goImVuZC1kYXRlIik7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoY2VsbC5kaXNhYmxlZCkgewogICAgICAgIGNsYXNzZXMucHVzaCgiZGlzYWJsZWQiKTsKICAgICAgfQoKICAgICAgaWYgKGNlbGwuc2VsZWN0ZWQpIHsKICAgICAgICBjbGFzc2VzLnB1c2goInNlbGVjdGVkIik7CiAgICAgIH0KCiAgICAgIGlmIChjZWxsLmN1c3RvbUNsYXNzKSB7CiAgICAgICAgY2xhc3Nlcy5wdXNoKGNlbGwuY3VzdG9tQ2xhc3MpOwogICAgICB9CgogICAgICByZXR1cm4gY2xhc3Nlcy5qb2luKCIgIik7CiAgICB9OwoKICAgIGNvbnN0IGdldERhdGVPZkNlbGwgPSAocm93LCBjb2x1bW4pID0+IHsKICAgICAgY29uc3Qgb2Zmc2V0RnJvbVN0YXJ0ID0gcm93ICogNyArIChjb2x1bW4gLSAocHJvcHMuc2hvd1dlZWtOdW1iZXIgPyAxIDogMCkpIC0gb2Zmc2V0RGF5LnZhbHVlOwogICAgICByZXR1cm4gc3RhcnREYXRlLnZhbHVlLmFkZChvZmZzZXRGcm9tU3RhcnQsICJkYXkiKTsKICAgIH07CgogICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gZXZlbnQgPT4gewogICAgICBpZiAoIXByb3BzLnJhbmdlU3RhdGUuc2VsZWN0aW5nKSByZXR1cm47CiAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7CgogICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICJTUEFOIikgewogICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gIkRJViIpIHsKICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTsKICAgICAgfQoKICAgICAgaWYgKHRhcmdldC50YWdOYW1lICE9PSAiVEQiKSByZXR1cm47CiAgICAgIGNvbnN0IHJvdyA9IHRhcmdldC5wYXJlbnROb2RlLnJvd0luZGV4IC0gMTsKICAgICAgY29uc3QgY29sdW1uID0gdGFyZ2V0LmNlbGxJbmRleDsKICAgICAgaWYgKHJvd3MudmFsdWVbcm93XVtjb2x1bW5dLmRpc2FibGVkKSByZXR1cm47CgogICAgICBpZiAocm93ICE9PSBsYXN0Um93LnZhbHVlIHx8IGNvbHVtbiAhPT0gbGFzdENvbHVtbi52YWx1ZSkgewogICAgICAgIGxhc3RSb3cudmFsdWUgPSByb3c7CiAgICAgICAgbGFzdENvbHVtbi52YWx1ZSA9IGNvbHVtbjsKICAgICAgICBjdHguZW1pdCgiY2hhbmdlcmFuZ2UiLCB7CiAgICAgICAgICBzZWxlY3Rpbmc6IHRydWUsCiAgICAgICAgICBlbmREYXRlOiBnZXREYXRlT2ZDZWxsKHJvdywgY29sdW1uKQogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gZXZlbnQgPT4gewogICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwoKICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAiU1BBTiIpIHsKICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlOwogICAgICB9CgogICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICJESVYiKSB7CiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gIlREIikgcmV0dXJuOwogICAgICBjb25zdCByb3cgPSB0YXJnZXQucGFyZW50Tm9kZS5yb3dJbmRleCAtIDE7CiAgICAgIGNvbnN0IGNvbHVtbiA9IHRhcmdldC5jZWxsSW5kZXg7CiAgICAgIGNvbnN0IGNlbGwgPSByb3dzLnZhbHVlW3Jvd11bY29sdW1uXTsKICAgICAgaWYgKGNlbGwuZGlzYWJsZWQgfHwgY2VsbC50eXBlID09PSAid2VlayIpIHJldHVybjsKICAgICAgY29uc3QgbmV3RGF0ZSA9IGdldERhdGVPZkNlbGwocm93LCBjb2x1bW4pOwoKICAgICAgaWYgKHByb3BzLnNlbGVjdGlvbk1vZGUgPT09ICJyYW5nZSIpIHsKICAgICAgICBpZiAoIXByb3BzLnJhbmdlU3RhdGUuc2VsZWN0aW5nKSB7CiAgICAgICAgICBjdHguZW1pdCgicGljayIsIHsKICAgICAgICAgICAgbWluRGF0ZTogbmV3RGF0ZSwKICAgICAgICAgICAgbWF4RGF0ZTogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgICBjdHguZW1pdCgic2VsZWN0IiwgdHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChuZXdEYXRlID49IHByb3BzLm1pbkRhdGUpIHsKICAgICAgICAgICAgY3R4LmVtaXQoInBpY2siLCB7CiAgICAgICAgICAgICAgbWluRGF0ZTogcHJvcHMubWluRGF0ZSwKICAgICAgICAgICAgICBtYXhEYXRlOiBuZXdEYXRlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY3R4LmVtaXQoInBpY2siLCB7CiAgICAgICAgICAgICAgbWluRGF0ZTogbmV3RGF0ZSwKICAgICAgICAgICAgICBtYXhEYXRlOiBwcm9wcy5taW5EYXRlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGN0eC5lbWl0KCJzZWxlY3QiLCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHByb3BzLnNlbGVjdGlvbk1vZGUgPT09ICJkYXkiKSB7CiAgICAgICAgY3R4LmVtaXQoInBpY2siLCBuZXdEYXRlKTsKICAgICAgfSBlbHNlIGlmIChwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAid2VlayIpIHsKICAgICAgICBjb25zdCB3ZWVrTnVtYmVyID0gbmV3RGF0ZS53ZWVrKCk7CiAgICAgICAgY29uc3QgdmFsdWUgPSBuZXdEYXRlLnllYXIoKSArICJ3IiArIHdlZWtOdW1iZXI7CiAgICAgICAgY3R4LmVtaXQoInBpY2siLCB7CiAgICAgICAgICB5ZWFyOiBuZXdEYXRlLnllYXIoKSwKICAgICAgICAgIHdlZWs6IHdlZWtOdW1iZXIsCiAgICAgICAgICB2YWx1ZSwKICAgICAgICAgIGRhdGU6IG5ld0RhdGUuc3RhcnRPZigid2VlayIpCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAocHJvcHMuc2VsZWN0aW9uTW9kZSA9PT0gImRhdGVzIikgewogICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gY2VsbC5zZWxlY3RlZCA/IHV0aWwuY29lcmNlVHJ1dGh5VmFsdWVUb0FycmF5KHByb3BzLnBhcnNlZFZhbHVlKS5maWx0ZXIoXyA9PiBfLnZhbHVlT2YoKSAhPT0gbmV3RGF0ZS52YWx1ZU9mKCkpIDogdXRpbC5jb2VyY2VUcnV0aHlWYWx1ZVRvQXJyYXkocHJvcHMucGFyc2VkVmFsdWUpLmNvbmNhdChbbmV3RGF0ZV0pOwogICAgICAgIGN0eC5lbWl0KCJwaWNrIiwgbmV3VmFsdWUpOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IGlzV2Vla0FjdGl2ZSA9IGNlbGwgPT4gewogICAgICBpZiAocHJvcHMuc2VsZWN0aW9uTW9kZSAhPT0gIndlZWsiKSByZXR1cm4gZmFsc2U7CiAgICAgIGxldCBuZXdEYXRlID0gcHJvcHMuZGF0ZS5zdGFydE9mKCJkYXkiKTsKCiAgICAgIGlmIChjZWxsLnR5cGUgPT09ICJwcmV2LW1vbnRoIikgewogICAgICAgIG5ld0RhdGUgPSBuZXdEYXRlLnN1YnRyYWN0KDEsICJtb250aCIpOwogICAgICB9CgogICAgICBpZiAoY2VsbC50eXBlID09PSAibmV4dC1tb250aCIpIHsKICAgICAgICBuZXdEYXRlID0gbmV3RGF0ZS5hZGQoMSwgIm1vbnRoIik7CiAgICAgIH0KCiAgICAgIG5ld0RhdGUgPSBuZXdEYXRlLmRhdGUocGFyc2VJbnQoY2VsbC50ZXh0LCAxMCkpOwoKICAgICAgaWYgKHByb3BzLnBhcnNlZFZhbHVlICYmICFBcnJheS5pc0FycmF5KHByb3BzLnBhcnNlZFZhbHVlKSkgewogICAgICAgIGNvbnN0IGRheU9mZnNldCA9IChwcm9wcy5wYXJzZWRWYWx1ZS5kYXkoKSAtIGZpcnN0RGF5T2ZXZWVrICsgNykgJSA3IC0gMTsKICAgICAgICBjb25zdCB3ZWVrRGF0ZSA9IHByb3BzLnBhcnNlZFZhbHVlLnN1YnRyYWN0KGRheU9mZnNldCwgImRheSIpOwogICAgICAgIHJldHVybiB3ZWVrRGF0ZS5pc1NhbWUobmV3RGF0ZSwgImRheSIpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGhhbmRsZU1vdXNlTW92ZSwKICAgICAgdDogbG9jYWxlLnQsCiAgICAgIHJvd3MsCiAgICAgIGlzV2Vla0FjdGl2ZSwKICAgICAgZ2V0Q2VsbENsYXNzZXMsCiAgICAgIFdFRUtTLAogICAgICBoYW5kbGVDbGljawogICAgfTsKICB9Cgp9KTsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBrZXk6IDAKfTsKCmZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soInRhYmxlIiwgewogICAgY2VsbHNwYWNpbmc6ICIwIiwKICAgIGNlbGxwYWRkaW5nOiAiMCIsCiAgICBjbGFzczogWyJlbC1kYXRlLXRhYmxlIiwgewogICAgICAiaXMtd2Vlay1tb2RlIjogX2N0eC5zZWxlY3Rpb25Nb2RlID09PSAid2VlayIKICAgIH1dLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAoLi4uYXJncykgPT4gX2N0eC5oYW5kbGVDbGljayAmJiBfY3R4LmhhbmRsZUNsaWNrKC4uLmFyZ3MpKSwKICAgIG9uTW91c2Vtb3ZlOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9ICguLi5hcmdzKSA9PiBfY3R4LmhhbmRsZU1vdXNlTW92ZSAmJiBfY3R4LmhhbmRsZU1vdXNlTW92ZSguLi5hcmdzKSkKICB9LCBbdnVlLmNyZWF0ZVZOb2RlKCJ0Ym9keSIsIG51bGwsIFt2dWUuY3JlYXRlVk5vZGUoInRyIiwgbnVsbCwgW19jdHguc2hvd1dlZWtOdW1iZXIgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soInRoIiwgX2hvaXN0ZWRfMSwgdnVlLnRvRGlzcGxheVN0cmluZyhfY3R4LnQoImVsLmRhdGVwaWNrZXIud2VlayIpKSwgMSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUJsb2NrKHZ1ZS5GcmFnbWVudCwgbnVsbCwgdnVlLnJlbmRlckxpc3QoX2N0eC5XRUVLUywgKHdlZWssIGtleSkgPT4gewogICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJ0aCIsIHsKICAgICAga2V5CiAgICB9LCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHgudCgiZWwuZGF0ZXBpY2tlci53ZWVrcy4iICsgd2VlaykpLCAxKTsKICB9KSwgMTI4KSldKSwgKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KF9jdHgucm93cywgKHJvdywga2V5KSA9PiB7CiAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soInRyIiwgewogICAgICBrZXksCiAgICAgIGNsYXNzOiBbImVsLWRhdGUtdGFibGVfX3JvdyIsIHsKICAgICAgICBjdXJyZW50OiBfY3R4LmlzV2Vla0FjdGl2ZShyb3dbMV0pCiAgICAgIH1dCiAgICB9LCBbKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KHJvdywgKGNlbGwsIGtleV8pID0+IHsKICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJ0ZCIsIHsKICAgICAgICBrZXk6IGtleV8sCiAgICAgICAgY2xhc3M6IF9jdHguZ2V0Q2VsbENsYXNzZXMoY2VsbCkKICAgICAgfSwgW3Z1ZS5jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgW3Z1ZS5jcmVhdGVWTm9kZSgic3BhbiIsIG51bGwsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoY2VsbC50ZXh0KSwgMSldKV0sIDIpOwogICAgfSksIDEyOCkpXSwgMik7CiAgfSksIDEyOCkpXSldLCAzNCk7Cn0KCnNjcmlwdC5yZW5kZXIgPSByZW5kZXI7CnNjcmlwdC5fX2ZpbGUgPSAicGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2RhdGUtcGlja2VyLWNvbS9iYXNpYy1kYXRlLXRhYmxlLnZ1ZSI7Cgpjb25zdCBkYXRlc0luTW9udGggPSAoeWVhciwgbW9udGgpID0+IHsKICBjb25zdCBmaXJzdERheSA9IGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oKS5zdGFydE9mKCJtb250aCIpLm1vbnRoKG1vbnRoKS55ZWFyKHllYXIpOwogIGNvbnN0IG51bU9mRGF5cyA9IGZpcnN0RGF5LmRheXNJbk1vbnRoKCk7CiAgcmV0dXJuIHRpbWVQaWNrZXIucmFuZ2VBcnIobnVtT2ZEYXlzKS5tYXAobiA9PiBmaXJzdERheS5hZGQobiwgImRheSIpLnRvRGF0ZSgpKTsKfTsKCnZhciBzY3JpcHQkMSA9IHZ1ZS5kZWZpbmVDb21wb25lbnQoewogIHByb3BzOiB7CiAgICBkaXNhYmxlZERhdGU6IHsKICAgICAgdHlwZTogRnVuY3Rpb24KICAgIH0sCiAgICBzZWxlY3Rpb25Nb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIm1vbnRoIgogICAgfSwKICAgIG1pbkRhdGU6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgbWF4RGF0ZTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICBkYXRlOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIHBhcnNlZFZhbHVlOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIHJhbmdlU3RhdGU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiAoewogICAgICAgIGVuZERhdGU6IG51bGwsCiAgICAgICAgc2VsZWN0aW5nOiBmYWxzZQogICAgICB9KQogICAgfQogIH0sCiAgZW1pdHM6IFsiY2hhbmdlcmFuZ2UiLCAicGljayIsICJzZWxlY3QiXSwKCiAgc2V0dXAocHJvcHMsIGN0eCkgewogICAgY29uc3QgbW9udGhzID0gdnVlLnJlZihwcm9wcy5kYXRlLmxvY2FsZSgiZW4iKS5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQoKS5tYXAoXyA9PiBfLnRvTG93ZXJDYXNlKCkpKTsKICAgIGNvbnN0IHRhYmxlUm93cyA9IHZ1ZS5yZWYoW1tdLCBbXSwgW11dKTsKICAgIGNvbnN0IGxhc3RSb3cgPSB2dWUucmVmKG51bGwpOwogICAgY29uc3QgbGFzdENvbHVtbiA9IHZ1ZS5yZWYobnVsbCk7CiAgICBjb25zdCByb3dzID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgdmFyIF9hOwoKICAgICAgY29uc3Qgcm93czIgPSB0YWJsZVJvd3MudmFsdWU7CiAgICAgIGNvbnN0IG5vdyA9IGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oKS5zdGFydE9mKCJtb250aCIpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgICAgICBjb25zdCByb3cgPSByb3dzMltpXTsKCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA0OyBqKyspIHsKICAgICAgICAgIGxldCBjZWxsID0gcm93W2pdOwoKICAgICAgICAgIGlmICghY2VsbCkgewogICAgICAgICAgICBjZWxsID0gewogICAgICAgICAgICAgIHJvdzogaSwKICAgICAgICAgICAgICBjb2x1bW46IGosCiAgICAgICAgICAgICAgdHlwZTogIm5vcm1hbCIsCiAgICAgICAgICAgICAgaW5SYW5nZTogZmFsc2UsCiAgICAgICAgICAgICAgc3RhcnQ6IGZhbHNlLAogICAgICAgICAgICAgIGVuZDogZmFsc2UKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICBjZWxsLnR5cGUgPSAibm9ybWFsIjsKICAgICAgICAgIGNvbnN0IGluZGV4ID0gaSAqIDQgKyBqOwogICAgICAgICAgY29uc3QgY2FsVGltZSA9IHByb3BzLmRhdGUuc3RhcnRPZigieWVhciIpLm1vbnRoKGluZGV4KTsKICAgICAgICAgIGNvbnN0IGNhbEVuZERhdGUgPSBwcm9wcy5yYW5nZVN0YXRlLmVuZERhdGUgfHwgcHJvcHMubWF4RGF0ZSB8fCBwcm9wcy5yYW5nZVN0YXRlLnNlbGVjdGluZyAmJiBwcm9wcy5taW5EYXRlOwogICAgICAgICAgY2VsbC5pblJhbmdlID0gcHJvcHMubWluRGF0ZSAmJiBjYWxUaW1lLmlzU2FtZU9yQWZ0ZXIocHJvcHMubWluRGF0ZSwgIm1vbnRoIikgJiYgY2FsRW5kRGF0ZSAmJiBjYWxUaW1lLmlzU2FtZU9yQmVmb3JlKGNhbEVuZERhdGUsICJtb250aCIpIHx8IHByb3BzLm1pbkRhdGUgJiYgY2FsVGltZS5pc1NhbWVPckJlZm9yZShwcm9wcy5taW5EYXRlLCAibW9udGgiKSAmJiBjYWxFbmREYXRlICYmIGNhbFRpbWUuaXNTYW1lT3JBZnRlcihjYWxFbmREYXRlLCAibW9udGgiKTsKCiAgICAgICAgICBpZiAoKF9hID0gcHJvcHMubWluRGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmlzU2FtZU9yQWZ0ZXIoY2FsRW5kRGF0ZSkpIHsKICAgICAgICAgICAgY2VsbC5zdGFydCA9IGNhbEVuZERhdGUgJiYgY2FsVGltZS5pc1NhbWUoY2FsRW5kRGF0ZSwgIm1vbnRoIik7CiAgICAgICAgICAgIGNlbGwuZW5kID0gcHJvcHMubWluRGF0ZSAmJiBjYWxUaW1lLmlzU2FtZShwcm9wcy5taW5EYXRlLCAibW9udGgiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNlbGwuc3RhcnQgPSBwcm9wcy5taW5EYXRlICYmIGNhbFRpbWUuaXNTYW1lKHByb3BzLm1pbkRhdGUsICJtb250aCIpOwogICAgICAgICAgICBjZWxsLmVuZCA9IGNhbEVuZERhdGUgJiYgY2FsVGltZS5pc1NhbWUoY2FsRW5kRGF0ZSwgIm1vbnRoIik7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3QgaXNUb2RheSA9IG5vdy5pc1NhbWUoY2FsVGltZSk7CgogICAgICAgICAgaWYgKGlzVG9kYXkpIHsKICAgICAgICAgICAgY2VsbC50eXBlID0gInRvZGF5IjsKICAgICAgICAgIH0KCiAgICAgICAgICBjZWxsLnRleHQgPSBpbmRleDsKICAgICAgICAgIGxldCBjZWxsRGF0ZSA9IGNhbFRpbWUudG9EYXRlKCk7CiAgICAgICAgICBjZWxsLmRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWREYXRlICYmIHByb3BzLmRpc2FibGVkRGF0ZShjZWxsRGF0ZSk7CiAgICAgICAgICByb3dbal0gPSBjZWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJvd3MyOwogICAgfSk7CgogICAgY29uc3QgZ2V0Q2VsbFN0eWxlID0gY2VsbCA9PiB7CiAgICAgIGNvbnN0IHN0eWxlID0ge307CiAgICAgIGNvbnN0IHllYXIgPSBwcm9wcy5kYXRlLnllYXIoKTsKICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICBjb25zdCBtb250aCA9IGNlbGwudGV4dDsKICAgICAgc3R5bGUuZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZERhdGUgPyBkYXRlc0luTW9udGgoeWVhciwgbW9udGgpLmV2ZXJ5KHByb3BzLmRpc2FibGVkRGF0ZSkgOiBmYWxzZTsKICAgICAgc3R5bGUuY3VycmVudCA9IHV0aWwuY29lcmNlVHJ1dGh5VmFsdWVUb0FycmF5KHByb3BzLnBhcnNlZFZhbHVlKS5maW5kSW5kZXgoZGF0ZSA9PiBkYXRlLnllYXIoKSA9PT0geWVhciAmJiBkYXRlLm1vbnRoKCkgPT09IG1vbnRoKSA+PSAwOwogICAgICBzdHlsZS50b2RheSA9IHRvZGF5LmdldEZ1bGxZZWFyKCkgPT09IHllYXIgJiYgdG9kYXkuZ2V0TW9udGgoKSA9PT0gbW9udGg7CgogICAgICBpZiAoY2VsbC5pblJhbmdlKSB7CiAgICAgICAgc3R5bGVbImluLXJhbmdlIl0gPSB0cnVlOwoKICAgICAgICBpZiAoY2VsbC5zdGFydCkgewogICAgICAgICAgc3R5bGVbInN0YXJ0LWRhdGUiXSA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoY2VsbC5lbmQpIHsKICAgICAgICAgIHN0eWxlWyJlbmQtZGF0ZSJdID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzdHlsZTsKICAgIH07CgogICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gZXZlbnQgPT4gewogICAgICBpZiAoIXByb3BzLnJhbmdlU3RhdGUuc2VsZWN0aW5nKSByZXR1cm47CiAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7CgogICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICJBIikgewogICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gIkRJViIpIHsKICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTsKICAgICAgfQoKICAgICAgaWYgKHRhcmdldC50YWdOYW1lICE9PSAiVEQiKSByZXR1cm47CiAgICAgIGNvbnN0IHJvdyA9IHRhcmdldC5wYXJlbnROb2RlLnJvd0luZGV4OwogICAgICBjb25zdCBjb2x1bW4gPSB0YXJnZXQuY2VsbEluZGV4OwogICAgICBpZiAocm93cy52YWx1ZVtyb3ddW2NvbHVtbl0uZGlzYWJsZWQpIHJldHVybjsKCiAgICAgIGlmIChyb3cgIT09IGxhc3RSb3cudmFsdWUgfHwgY29sdW1uICE9PSBsYXN0Q29sdW1uLnZhbHVlKSB7CiAgICAgICAgbGFzdFJvdy52YWx1ZSA9IHJvdzsKICAgICAgICBsYXN0Q29sdW1uLnZhbHVlID0gY29sdW1uOwogICAgICAgIGN0eC5lbWl0KCJjaGFuZ2VyYW5nZSIsIHsKICAgICAgICAgIHNlbGVjdGluZzogdHJ1ZSwKICAgICAgICAgIGVuZERhdGU6IHByb3BzLmRhdGUuc3RhcnRPZigieWVhciIpLm1vbnRoKHJvdyAqIDQgKyBjb2x1bW4pCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgaGFuZGxlTW9udGhUYWJsZUNsaWNrID0gZXZlbnQgPT4gewogICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwoKICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAiQSIpIHsKICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlOwogICAgICB9CgogICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICJESVYiKSB7CiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPT0gIlREIikgcmV0dXJuOwogICAgICBpZiAoZG9tLmhhc0NsYXNzKHRhcmdldCwgImRpc2FibGVkIikpIHJldHVybjsKICAgICAgY29uc3QgY29sdW1uID0gdGFyZ2V0LmNlbGxJbmRleDsKICAgICAgY29uc3Qgcm93ID0gdGFyZ2V0LnBhcmVudE5vZGUucm93SW5kZXg7CiAgICAgIGNvbnN0IG1vbnRoID0gcm93ICogNCArIGNvbHVtbjsKICAgICAgY29uc3QgbmV3RGF0ZSA9IHByb3BzLmRhdGUuc3RhcnRPZigieWVhciIpLm1vbnRoKG1vbnRoKTsKCiAgICAgIGlmIChwcm9wcy5zZWxlY3Rpb25Nb2RlID09PSAicmFuZ2UiKSB7CiAgICAgICAgaWYgKCFwcm9wcy5yYW5nZVN0YXRlLnNlbGVjdGluZykgewogICAgICAgICAgY3R4LmVtaXQoInBpY2siLCB7CiAgICAgICAgICAgIG1pbkRhdGU6IG5ld0RhdGUsCiAgICAgICAgICAgIG1heERhdGU6IG51bGwKICAgICAgICAgIH0pOwogICAgICAgICAgY3R4LmVtaXQoInNlbGVjdCIsIHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAobmV3RGF0ZSA+PSBwcm9wcy5taW5EYXRlKSB7CiAgICAgICAgICAgIGN0eC5lbWl0KCJwaWNrIiwgewogICAgICAgICAgICAgIG1pbkRhdGU6IHByb3BzLm1pbkRhdGUsCiAgICAgICAgICAgICAgbWF4RGF0ZTogbmV3RGF0ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGN0eC5lbWl0KCJwaWNrIiwgewogICAgICAgICAgICAgIG1pbkRhdGU6IG5ld0RhdGUsCiAgICAgICAgICAgICAgbWF4RGF0ZTogcHJvcHMubWluRGF0ZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBjdHguZW1pdCgic2VsZWN0IiwgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjdHguZW1pdCgicGljayIsIG1vbnRoKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBoYW5kbGVNb3VzZU1vdmUsCiAgICAgIGhhbmRsZU1vbnRoVGFibGVDbGljaywKICAgICAgcm93cywKICAgICAgZ2V0Q2VsbFN0eWxlLAogICAgICB0OiBsb2NhbGUudCwKICAgICAgbW9udGhzCiAgICB9OwogIH0KCn0pOwpjb25zdCBfaG9pc3RlZF8xJDEgPSB7CiAgY2xhc3M6ICJjZWxsIgp9OwoKZnVuY3Rpb24gcmVuZGVyJDEoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJ0YWJsZSIsIHsKICAgIGNsYXNzOiAiZWwtbW9udGgtdGFibGUiLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAoLi4uYXJncykgPT4gX2N0eC5oYW5kbGVNb250aFRhYmxlQ2xpY2sgJiYgX2N0eC5oYW5kbGVNb250aFRhYmxlQ2xpY2soLi4uYXJncykpLAogICAgb25Nb3VzZW1vdmU6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKC4uLmFyZ3MpID0+IF9jdHguaGFuZGxlTW91c2VNb3ZlICYmIF9jdHguaGFuZGxlTW91c2VNb3ZlKC4uLmFyZ3MpKQogIH0sIFt2dWUuY3JlYXRlVk5vZGUoInRib2R5IiwgbnVsbCwgWyh2dWUub3BlbkJsb2NrKHRydWUpLCB2dWUuY3JlYXRlQmxvY2sodnVlLkZyYWdtZW50LCBudWxsLCB2dWUucmVuZGVyTGlzdChfY3R4LnJvd3MsIChyb3csIGtleSkgPT4gewogICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJ0ciIsIHsKICAgICAga2V5CiAgICB9LCBbKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KHJvdywgKGNlbGwsIGtleV8pID0+IHsKICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJ0ZCIsIHsKICAgICAgICBrZXk6IGtleV8sCiAgICAgICAgY2xhc3M6IF9jdHguZ2V0Q2VsbFN0eWxlKGNlbGwpCiAgICAgIH0sIFt2dWUuY3JlYXRlVk5vZGUoImRpdiIsIG51bGwsIFt2dWUuY3JlYXRlVk5vZGUoImEiLCBfaG9pc3RlZF8xJDEsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoX2N0eC50KCJlbC5kYXRlcGlja2VyLm1vbnRocy4iICsgX2N0eC5tb250aHNbY2VsbC50ZXh0XSkpLCAxKV0pXSwgMik7CiAgICB9KSwgMTI4KSldKTsKICB9KSwgMTI4KSldKV0sIDMyKTsKfQoKc2NyaXB0JDEucmVuZGVyID0gcmVuZGVyJDE7CnNjcmlwdCQxLl9fZmlsZSA9ICJwYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvZGF0ZS1waWNrZXItY29tL2Jhc2ljLW1vbnRoLXRhYmxlLnZ1ZSI7Cgpjb25zdCBkYXRlc0luWWVhciA9IHllYXIgPT4gewogIGNvbnN0IGZpcnN0RGF5ID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXShTdHJpbmcoeWVhcikpLnN0YXJ0T2YoInllYXIiKTsKICBjb25zdCBsYXN0RGF5ID0gZmlyc3REYXkuZW5kT2YoInllYXIiKTsKICBjb25zdCBudW1PZkRheXMgPSBsYXN0RGF5LmRheU9mWWVhcigpOwogIHJldHVybiB0aW1lUGlja2VyLnJhbmdlQXJyKG51bU9mRGF5cykubWFwKG4gPT4gZmlyc3REYXkuYWRkKG4sICJkYXkiKS50b0RhdGUoKSk7Cn07Cgp2YXIgc2NyaXB0JDIgPSB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICBwcm9wczogewogICAgZGlzYWJsZWREYXRlOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uCiAgICB9LAogICAgcGFyc2VkVmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9LAogICAgZGF0ZTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGVtaXRzOiBbInBpY2siXSwKCiAgc2V0dXAocHJvcHMsIGN0eCkgewogICAgY29uc3Qgc3RhcnRZZWFyID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIE1hdGguZmxvb3IocHJvcHMuZGF0ZS55ZWFyKCkgLyAxMCkgKiAxMDsKICAgIH0pOwoKICAgIGNvbnN0IGdldENlbGxTdHlsZSA9IHllYXIgPT4gewogICAgICBjb25zdCBzdHlsZSA9IHt9OwogICAgICBjb25zdCB0b2RheSA9IGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oKTsKICAgICAgc3R5bGUuZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZERhdGUgPyBkYXRlc0luWWVhcih5ZWFyKS5ldmVyeShwcm9wcy5kaXNhYmxlZERhdGUpIDogZmFsc2U7CiAgICAgIHN0eWxlLmN1cnJlbnQgPSB1dGlsLmNvZXJjZVRydXRoeVZhbHVlVG9BcnJheShwcm9wcy5wYXJzZWRWYWx1ZSkuZmluZEluZGV4KF8gPT4gXy55ZWFyKCkgPT09IHllYXIpID49IDA7CiAgICAgIHN0eWxlLnRvZGF5ID0gdG9kYXkueWVhcigpID09PSB5ZWFyOwogICAgICByZXR1cm4gc3R5bGU7CiAgICB9OwoKICAgIGNvbnN0IGhhbmRsZVllYXJUYWJsZUNsaWNrID0gZXZlbnQgPT4gewogICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7CgogICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICJBIikgewogICAgICAgIGlmIChkb20uaGFzQ2xhc3ModGFyZ2V0LnBhcmVudE5vZGUsICJkaXNhYmxlZCIpKSByZXR1cm47CiAgICAgICAgY29uc3QgeWVhciA9IHRhcmdldC50ZXh0Q29udGVudCB8fCB0YXJnZXQuaW5uZXJUZXh0OwogICAgICAgIGN0eC5lbWl0KCJwaWNrIiwgTnVtYmVyKHllYXIpKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBzdGFydFllYXIsCiAgICAgIGdldENlbGxTdHlsZSwKICAgICAgaGFuZGxlWWVhclRhYmxlQ2xpY2sKICAgIH07CiAgfQoKfSk7CmNvbnN0IF9ob2lzdGVkXzEkMiA9IHsKICBjbGFzczogImNlbGwiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJjZWxsIgp9Owpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAiY2VsbCIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImNlbGwiCn07CmNvbnN0IF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJjZWxsIgp9Owpjb25zdCBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAiY2VsbCIKfTsKY29uc3QgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogImNlbGwiCn07CmNvbnN0IF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJjZWxsIgp9Owpjb25zdCBfaG9pc3RlZF85ID0gewogIGNsYXNzOiAiY2VsbCIKfTsKY29uc3QgX2hvaXN0ZWRfMTAgPSB7CiAgY2xhc3M6ICJjZWxsIgp9OwoKY29uc3QgX2hvaXN0ZWRfMTEgPSAvKiBAX19QVVJFX18gKi92dWUuY3JlYXRlVk5vZGUoInRkIiwgbnVsbCwgbnVsbCwgLTEpOwoKY29uc3QgX2hvaXN0ZWRfMTIgPSAvKiBAX19QVVJFX18gKi92dWUuY3JlYXRlVk5vZGUoInRkIiwgbnVsbCwgbnVsbCwgLTEpOwoKZnVuY3Rpb24gcmVuZGVyJDIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJ0YWJsZSIsIHsKICAgIGNsYXNzOiAiZWwteWVhci10YWJsZSIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICguLi5hcmdzKSA9PiBfY3R4LmhhbmRsZVllYXJUYWJsZUNsaWNrICYmIF9jdHguaGFuZGxlWWVhclRhYmxlQ2xpY2soLi4uYXJncykpCiAgfSwgW3Z1ZS5jcmVhdGVWTm9kZSgidGJvZHkiLCBudWxsLCBbdnVlLmNyZWF0ZVZOb2RlKCJ0ciIsIG51bGwsIFt2dWUuY3JlYXRlVk5vZGUoInRkIiwgewogICAgY2xhc3M6IFsiYXZhaWxhYmxlIiwgX2N0eC5nZXRDZWxsU3R5bGUoX2N0eC5zdGFydFllYXIgKyAwKV0KICB9LCBbdnVlLmNyZWF0ZVZOb2RlKCJhIiwgX2hvaXN0ZWRfMSQyLCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHguc3RhcnRZZWFyKSwgMSldLCAyKSwgdnVlLmNyZWF0ZVZOb2RlKCJ0ZCIsIHsKICAgIGNsYXNzOiBbImF2YWlsYWJsZSIsIF9jdHguZ2V0Q2VsbFN0eWxlKF9jdHguc3RhcnRZZWFyICsgMSldCiAgfSwgW3Z1ZS5jcmVhdGVWTm9kZSgiYSIsIF9ob2lzdGVkXzIsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoX2N0eC5zdGFydFllYXIgKyAxKSwgMSldLCAyKSwgdnVlLmNyZWF0ZVZOb2RlKCJ0ZCIsIHsKICAgIGNsYXNzOiBbImF2YWlsYWJsZSIsIF9jdHguZ2V0Q2VsbFN0eWxlKF9jdHguc3RhcnRZZWFyICsgMildCiAgfSwgW3Z1ZS5jcmVhdGVWTm9kZSgiYSIsIF9ob2lzdGVkXzMsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoX2N0eC5zdGFydFllYXIgKyAyKSwgMSldLCAyKSwgdnVlLmNyZWF0ZVZOb2RlKCJ0ZCIsIHsKICAgIGNsYXNzOiBbImF2YWlsYWJsZSIsIF9jdHguZ2V0Q2VsbFN0eWxlKF9jdHguc3RhcnRZZWFyICsgMyldCiAgfSwgW3Z1ZS5jcmVhdGVWTm9kZSgiYSIsIF9ob2lzdGVkXzQsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoX2N0eC5zdGFydFllYXIgKyAzKSwgMSldLCAyKV0pLCB2dWUuY3JlYXRlVk5vZGUoInRyIiwgbnVsbCwgW3Z1ZS5jcmVhdGVWTm9kZSgidGQiLCB7CiAgICBjbGFzczogWyJhdmFpbGFibGUiLCBfY3R4LmdldENlbGxTdHlsZShfY3R4LnN0YXJ0WWVhciArIDQpXQogIH0sIFt2dWUuY3JlYXRlVk5vZGUoImEiLCBfaG9pc3RlZF81LCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHguc3RhcnRZZWFyICsgNCksIDEpXSwgMiksIHZ1ZS5jcmVhdGVWTm9kZSgidGQiLCB7CiAgICBjbGFzczogWyJhdmFpbGFibGUiLCBfY3R4LmdldENlbGxTdHlsZShfY3R4LnN0YXJ0WWVhciArIDUpXQogIH0sIFt2dWUuY3JlYXRlVk5vZGUoImEiLCBfaG9pc3RlZF82LCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHguc3RhcnRZZWFyICsgNSksIDEpXSwgMiksIHZ1ZS5jcmVhdGVWTm9kZSgidGQiLCB7CiAgICBjbGFzczogWyJhdmFpbGFibGUiLCBfY3R4LmdldENlbGxTdHlsZShfY3R4LnN0YXJ0WWVhciArIDYpXQogIH0sIFt2dWUuY3JlYXRlVk5vZGUoImEiLCBfaG9pc3RlZF83LCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHguc3RhcnRZZWFyICsgNiksIDEpXSwgMiksIHZ1ZS5jcmVhdGVWTm9kZSgidGQiLCB7CiAgICBjbGFzczogWyJhdmFpbGFibGUiLCBfY3R4LmdldENlbGxTdHlsZShfY3R4LnN0YXJ0WWVhciArIDcpXQogIH0sIFt2dWUuY3JlYXRlVk5vZGUoImEiLCBfaG9pc3RlZF84LCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHguc3RhcnRZZWFyICsgNyksIDEpXSwgMildKSwgdnVlLmNyZWF0ZVZOb2RlKCJ0ciIsIG51bGwsIFt2dWUuY3JlYXRlVk5vZGUoInRkIiwgewogICAgY2xhc3M6IFsiYXZhaWxhYmxlIiwgX2N0eC5nZXRDZWxsU3R5bGUoX2N0eC5zdGFydFllYXIgKyA4KV0KICB9LCBbdnVlLmNyZWF0ZVZOb2RlKCJhIiwgX2hvaXN0ZWRfOSwgdnVlLnRvRGlzcGxheVN0cmluZyhfY3R4LnN0YXJ0WWVhciArIDgpLCAxKV0sIDIpLCB2dWUuY3JlYXRlVk5vZGUoInRkIiwgewogICAgY2xhc3M6IFsiYXZhaWxhYmxlIiwgX2N0eC5nZXRDZWxsU3R5bGUoX2N0eC5zdGFydFllYXIgKyA5KV0KICB9LCBbdnVlLmNyZWF0ZVZOb2RlKCJhIiwgX2hvaXN0ZWRfMTAsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoX2N0eC5zdGFydFllYXIgKyA5KSwgMSldLCAyKSwgX2hvaXN0ZWRfMTEsIF9ob2lzdGVkXzEyXSldKV0pOwp9CgpzY3JpcHQkMi5yZW5kZXIgPSByZW5kZXIkMjsKc2NyaXB0JDIuX19maWxlID0gInBhY2thZ2VzL2RhdGUtcGlja2VyL3NyYy9kYXRlLXBpY2tlci1jb20vYmFzaWMteWVhci10YWJsZS52dWUiOwoKY29uc3QgdGltZVdpdGhpblJhbmdlID0gKCkgPT4gdHJ1ZTsKCnZhciBzY3JpcHQkMyA9IHZ1ZS5kZWZpbmVDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIERhdGVUYWJsZTogc2NyaXB0LAogICAgRWxJbnB1dDogRWxJbnB1dF9fZGVmYXVsdFsnZGVmYXVsdCddLAogICAgRWxCdXR0b246IEVsQnV0dG9uX19kZWZhdWx0WydkZWZhdWx0J10sCiAgICBUaW1lUGlja1BhbmVsOiB0aW1lUGlja2VyLlRpbWVQaWNrUGFuZWwsCiAgICBNb250aFRhYmxlOiBzY3JpcHQkMSwKICAgIFllYXJUYWJsZTogc2NyaXB0JDIKICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIGNsaWNrb3V0c2lkZTogZGlyZWN0aXZlcy5DbGlja091dHNpZGUKICB9LAogIHByb3BzOiB7CiAgICB2aXNpYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgcGFyc2VkVmFsdWU6IHsKICAgICAgdHlwZTogW09iamVjdCwgQXJyYXldCiAgICB9LAogICAgZm9ybWF0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHZhbGlkYXRvcjogdmFsaWRhdG9ycy5pc1ZhbGlkRGF0ZVBpY2tUeXBlCiAgICB9CiAgfSwKICBlbWl0czogWyJwaWNrIiwgInNldC1waWNrZXItb3B0aW9uIl0sCgogIHNldHVwKHByb3BzLCBjdHgpIHsKICAgIGNvbnN0IGlubmVyRGF0ZSA9IHZ1ZS5yZWYoZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSgpKTsKICAgIGNvbnN0IG1vbnRoID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIGlubmVyRGF0ZS52YWx1ZS5tb250aCgpOwogICAgfSk7CiAgICBjb25zdCB5ZWFyID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIGlubmVyRGF0ZS52YWx1ZS55ZWFyKCk7CiAgICB9KTsKICAgIGNvbnN0IHNlbGVjdGFibGVSYW5nZSA9IHZ1ZS5yZWYoW10pOwogICAgY29uc3QgdXNlcklucHV0RGF0ZSA9IHZ1ZS5yZWYobnVsbCk7CiAgICBjb25zdCB1c2VySW5wdXRUaW1lID0gdnVlLnJlZihudWxsKTsKCiAgICBjb25zdCBjaGVja0RhdGVXaXRoaW5SYW5nZSA9IGRhdGUgPT4gewogICAgICByZXR1cm4gc2VsZWN0YWJsZVJhbmdlLnZhbHVlLmxlbmd0aCA+IDAgPyB0aW1lV2l0aGluUmFuZ2UoZGF0ZSwgc2VsZWN0YWJsZVJhbmdlLnZhbHVlLCBwcm9wcy5mb3JtYXQgfHwgIkhIOm1tOnNzIikgOiB0cnVlOwogICAgfTsKCiAgICBjb25zdCBmb3JtYXRFbWl0ID0gZW1pdERheWpzID0+IHsKICAgICAgaWYgKGRlZmF1bHRUaW1lKSB7CiAgICAgICAgY29uc3QgZGVmYXVsdFRpbWVEID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXShkZWZhdWx0VGltZSk7CiAgICAgICAgcmV0dXJuIGRlZmF1bHRUaW1lRC55ZWFyKGVtaXREYXlqcy55ZWFyKCkpLm1vbnRoKGVtaXREYXlqcy5tb250aCgpKS5kYXRlKGVtaXREYXlqcy5kYXRlKCkpOwogICAgICB9CgogICAgICBpZiAoc2hvd1RpbWUudmFsdWUpIHJldHVybiBlbWl0RGF5anMubWlsbGlzZWNvbmQoMCk7CiAgICAgIHJldHVybiBlbWl0RGF5anMuc3RhcnRPZigiZGF5Iik7CiAgICB9OwoKICAgIGNvbnN0IGVtaXQgPSAodmFsdWUsIC4uLmFyZ3MpID0+IHsKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIGN0eC5lbWl0KCJwaWNrIiwgdmFsdWUsIC4uLmFyZ3MpOwogICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgY29uc3QgZGF0ZXMgPSB2YWx1ZS5tYXAoZm9ybWF0RW1pdCk7CiAgICAgICAgY3R4LmVtaXQoInBpY2siLCBkYXRlcywgLi4uYXJncyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3R4LmVtaXQoInBpY2siLCBmb3JtYXRFbWl0KHZhbHVlKSwgLi4uYXJncyk7CiAgICAgIH0KCiAgICAgIHVzZXJJbnB1dERhdGUudmFsdWUgPSBudWxsOwogICAgICB1c2VySW5wdXRUaW1lLnZhbHVlID0gbnVsbDsKICAgIH07CgogICAgY29uc3QgaGFuZGxlRGF0ZVBpY2sgPSB2YWx1ZSA9PiB7CiAgICAgIGlmIChzZWxlY3Rpb25Nb2RlLnZhbHVlID09PSAiZGF5IikgewogICAgICAgIGxldCBuZXdEYXRlID0gcHJvcHMucGFyc2VkVmFsdWUgPyBwcm9wcy5wYXJzZWRWYWx1ZS55ZWFyKHZhbHVlLnllYXIoKSkubW9udGgodmFsdWUubW9udGgoKSkuZGF0ZSh2YWx1ZS5kYXRlKCkpIDogdmFsdWU7CgogICAgICAgIGlmICghY2hlY2tEYXRlV2l0aGluUmFuZ2UobmV3RGF0ZSkpIHsKICAgICAgICAgIG5ld0RhdGUgPSBzZWxlY3RhYmxlUmFuZ2UudmFsdWVbMF1bMF0ueWVhcih2YWx1ZS55ZWFyKCkpLm1vbnRoKHZhbHVlLm1vbnRoKCkpLmRhdGUodmFsdWUuZGF0ZSgpKTsKICAgICAgICB9CgogICAgICAgIGlubmVyRGF0ZS52YWx1ZSA9IG5ld0RhdGU7CiAgICAgICAgZW1pdChuZXdEYXRlLCBzaG93VGltZS52YWx1ZSk7CiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uTW9kZS52YWx1ZSA9PT0gIndlZWsiKSB7CiAgICAgICAgZW1pdCh2YWx1ZS5kYXRlKTsKICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb25Nb2RlLnZhbHVlID09PSAiZGF0ZXMiKSB7CiAgICAgICAgZW1pdCh2YWx1ZSwgdHJ1ZSk7CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgcHJldk1vbnRoXyA9ICgpID0+IHsKICAgICAgaW5uZXJEYXRlLnZhbHVlID0gaW5uZXJEYXRlLnZhbHVlLnN1YnRyYWN0KDEsICJtb250aCIpOwogICAgfTsKCiAgICBjb25zdCBuZXh0TW9udGhfID0gKCkgPT4gewogICAgICBpbm5lckRhdGUudmFsdWUgPSBpbm5lckRhdGUudmFsdWUuYWRkKDEsICJtb250aCIpOwogICAgfTsKCiAgICBjb25zdCBwcmV2WWVhcl8gPSAoKSA9PiB7CiAgICAgIGlmIChjdXJyZW50Vmlldy52YWx1ZSA9PT0gInllYXIiKSB7CiAgICAgICAgaW5uZXJEYXRlLnZhbHVlID0gaW5uZXJEYXRlLnZhbHVlLnN1YnRyYWN0KDEwLCAieWVhciIpOwogICAgICB9IGVsc2UgewogICAgICAgIGlubmVyRGF0ZS52YWx1ZSA9IGlubmVyRGF0ZS52YWx1ZS5zdWJ0cmFjdCgxLCAieWVhciIpOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IG5leHRZZWFyXyA9ICgpID0+IHsKICAgICAgaWYgKGN1cnJlbnRWaWV3LnZhbHVlID09PSAieWVhciIpIHsKICAgICAgICBpbm5lckRhdGUudmFsdWUgPSBpbm5lckRhdGUudmFsdWUuYWRkKDEwLCAieWVhciIpOwogICAgICB9IGVsc2UgewogICAgICAgIGlubmVyRGF0ZS52YWx1ZSA9IGlubmVyRGF0ZS52YWx1ZS5hZGQoMSwgInllYXIiKTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBjdXJyZW50VmlldyA9IHZ1ZS5yZWYoImRhdGUiKTsKICAgIGNvbnN0IHllYXJMYWJlbCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgIGNvbnN0IHllYXJUcmFuc2xhdGlvbiA9IGxvY2FsZS50KCJlbC5kYXRlcGlja2VyLnllYXIiKTsKCiAgICAgIGlmIChjdXJyZW50Vmlldy52YWx1ZSA9PT0gInllYXIiKSB7CiAgICAgICAgY29uc3Qgc3RhcnRZZWFyID0gTWF0aC5mbG9vcih5ZWFyLnZhbHVlIC8gMTApICogMTA7CgogICAgICAgIGlmICh5ZWFyVHJhbnNsYXRpb24pIHsKICAgICAgICAgIHJldHVybiBzdGFydFllYXIgKyAiICIgKyB5ZWFyVHJhbnNsYXRpb24gKyAiIC0gIiArIChzdGFydFllYXIgKyA5KSArICIgIiArIHllYXJUcmFuc2xhdGlvbjsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzdGFydFllYXIgKyAiIC0gIiArIChzdGFydFllYXIgKyA5KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHllYXIudmFsdWUgKyAiICIgKyB5ZWFyVHJhbnNsYXRpb247CiAgICB9KTsKCiAgICBjb25zdCBoYW5kbGVTaG9ydGN1dENsaWNrID0gc2hvcnRjdXQgPT4gewogICAgICBpZiAoc2hvcnRjdXQudmFsdWUpIHsKICAgICAgICBlbWl0KGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oc2hvcnRjdXQudmFsdWUpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChzaG9ydGN1dC5vbkNsaWNrKSB7CiAgICAgICAgc2hvcnRjdXQub25DbGljayhjdHgpOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IHNlbGVjdGlvbk1vZGUgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICBpZiAoWyJ3ZWVrIiwgIm1vbnRoIiwgInllYXIiLCAiZGF0ZXMiXS5pbmNsdWRlcyhwcm9wcy50eXBlKSkgewogICAgICAgIHJldHVybiBwcm9wcy50eXBlOwogICAgICB9CgogICAgICByZXR1cm4gImRheSI7CiAgICB9KTsKICAgIHZ1ZS53YXRjaCgoKSA9PiBzZWxlY3Rpb25Nb2RlLnZhbHVlLCB2YWwgPT4gewogICAgICBpZiAoWyJtb250aCIsICJ5ZWFyIl0uaW5jbHVkZXModmFsKSkgewogICAgICAgIGN1cnJlbnRWaWV3LnZhbHVlID0gdmFsOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY3VycmVudFZpZXcudmFsdWUgPSAiZGF0ZSI7CiAgICB9LCB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSk7CiAgICBjb25zdCBoYXNTaG9ydGN1dHMgPSB2dWUuY29tcHV0ZWQoKCkgPT4gISFzaG9ydGN1dHMubGVuZ3RoKTsKCiAgICBjb25zdCBoYW5kbGVNb250aFBpY2sgPSBtb250aDIgPT4gewogICAgICBpbm5lckRhdGUudmFsdWUgPSBpbm5lckRhdGUudmFsdWUuc3RhcnRPZigibW9udGgiKS5tb250aChtb250aDIpOwoKICAgICAgaWYgKHNlbGVjdGlvbk1vZGUudmFsdWUgPT09ICJtb250aCIpIHsKICAgICAgICBlbWl0KGlubmVyRGF0ZS52YWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY3VycmVudFZpZXcudmFsdWUgPSAiZGF0ZSI7CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgaGFuZGxlWWVhclBpY2sgPSB5ZWFyMiA9PiB7CiAgICAgIGlmIChzZWxlY3Rpb25Nb2RlLnZhbHVlID09PSAieWVhciIpIHsKICAgICAgICBpbm5lckRhdGUudmFsdWUgPSBpbm5lckRhdGUudmFsdWUuc3RhcnRPZigieWVhciIpLnllYXIoeWVhcjIpOwogICAgICAgIGVtaXQoaW5uZXJEYXRlLnZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpbm5lckRhdGUudmFsdWUgPSBpbm5lckRhdGUudmFsdWUueWVhcih5ZWFyMik7CiAgICAgICAgY3VycmVudFZpZXcudmFsdWUgPSAibW9udGgiOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IHNob3dNb250aFBpY2tlciA9ICgpID0+IHsKICAgICAgY3VycmVudFZpZXcudmFsdWUgPSAibW9udGgiOwogICAgfTsKCiAgICBjb25zdCBzaG93WWVhclBpY2tlciA9ICgpID0+IHsKICAgICAgY3VycmVudFZpZXcudmFsdWUgPSAieWVhciI7CiAgICB9OwoKICAgIGNvbnN0IHNob3dUaW1lID0gdnVlLmNvbXB1dGVkKCgpID0+IHByb3BzLnR5cGUgPT09ICJkYXRldGltZSIgfHwgcHJvcHMudHlwZSA9PT0gImRhdGV0aW1lcmFuZ2UiKTsKICAgIGNvbnN0IGZvb3RlclZpc2libGUgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gc2hvd1RpbWUudmFsdWUgfHwgc2VsZWN0aW9uTW9kZS52YWx1ZSA9PT0gImRhdGVzIjsKICAgIH0pOwoKICAgIGNvbnN0IG9uQ29uZmlybSA9ICgpID0+IHsKICAgICAgaWYgKHNlbGVjdGlvbk1vZGUudmFsdWUgPT09ICJkYXRlcyIpIHsKICAgICAgICBlbWl0KHByb3BzLnBhcnNlZFZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgcmVzdWx0ID0gcHJvcHMucGFyc2VkVmFsdWU7CgogICAgICAgIGlmICghcmVzdWx0KSB7CiAgICAgICAgICBjb25zdCBkZWZhdWx0VGltZUQgPSBkYXlqc19fZGVmYXVsdFsnZGVmYXVsdCddKGRlZmF1bHRUaW1lKTsKICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUQgPSBnZXREZWZhdWx0VmFsdWUoKTsKICAgICAgICAgIHJlc3VsdCA9IGRlZmF1bHRUaW1lRC55ZWFyKGRlZmF1bHRWYWx1ZUQueWVhcigpKS5tb250aChkZWZhdWx0VmFsdWVELm1vbnRoKCkpLmRhdGUoZGVmYXVsdFZhbHVlRC5kYXRlKCkpOwogICAgICAgIH0KCiAgICAgICAgaW5uZXJEYXRlLnZhbHVlID0gcmVzdWx0OwogICAgICAgIGVtaXQocmVzdWx0KTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBjaGFuZ2VUb05vdyA9ICgpID0+IHsKICAgICAgY29uc3Qgbm93ID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSgpOwogICAgICBjb25zdCBub3dEYXRlID0gbm93LnRvRGF0ZSgpOwoKICAgICAgaWYgKCghZGlzYWJsZWREYXRlIHx8ICFkaXNhYmxlZERhdGUobm93RGF0ZSkpICYmIGNoZWNrRGF0ZVdpdGhpblJhbmdlKG5vd0RhdGUpKSB7CiAgICAgICAgaW5uZXJEYXRlLnZhbHVlID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSgpOwogICAgICAgIGVtaXQoaW5uZXJEYXRlLnZhbHVlKTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCB0aW1lRm9ybWF0ID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIHRpbWVQaWNrZXIuZXh0cmFjdFRpbWVGb3JtYXQocHJvcHMuZm9ybWF0KTsKICAgIH0pOwogICAgY29uc3QgZGF0ZUZvcm1hdCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiB0aW1lUGlja2VyLmV4dHJhY3REYXRlRm9ybWF0KHByb3BzLmZvcm1hdCk7CiAgICB9KTsKICAgIGNvbnN0IHZpc2libGVUaW1lID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgaWYgKHVzZXJJbnB1dFRpbWUudmFsdWUpIHJldHVybiB1c2VySW5wdXRUaW1lLnZhbHVlOwogICAgICBpZiAoIXByb3BzLnBhcnNlZFZhbHVlICYmICFkZWZhdWx0VmFsdWUpIHJldHVybjsKICAgICAgcmV0dXJuIChwcm9wcy5wYXJzZWRWYWx1ZSB8fCBpbm5lckRhdGUudmFsdWUpLmZvcm1hdCh0aW1lRm9ybWF0LnZhbHVlKTsKICAgIH0pOwogICAgY29uc3QgdmlzaWJsZURhdGUgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICBpZiAodXNlcklucHV0RGF0ZS52YWx1ZSkgcmV0dXJuIHVzZXJJbnB1dERhdGUudmFsdWU7CiAgICAgIGlmICghcHJvcHMucGFyc2VkVmFsdWUgJiYgIWRlZmF1bHRWYWx1ZSkgcmV0dXJuOwogICAgICByZXR1cm4gKHByb3BzLnBhcnNlZFZhbHVlIHx8IGlubmVyRGF0ZS52YWx1ZSkuZm9ybWF0KGRhdGVGb3JtYXQudmFsdWUpOwogICAgfSk7CiAgICBjb25zdCB0aW1lUGlja2VyVmlzaWJsZSA9IHZ1ZS5yZWYoZmFsc2UpOwoKICAgIGNvbnN0IG9uVGltZVBpY2tlcklucHV0Rm9jdXMgPSAoKSA9PiB7CiAgICAgIHRpbWVQaWNrZXJWaXNpYmxlLnZhbHVlID0gdHJ1ZTsKICAgIH07CgogICAgY29uc3QgaGFuZGxlVGltZVBpY2tDbG9zZSA9ICgpID0+IHsKICAgICAgdGltZVBpY2tlclZpc2libGUudmFsdWUgPSBmYWxzZTsKICAgIH07CgogICAgY29uc3QgaGFuZGxlVGltZVBpY2sgPSAodmFsdWUsIHZpc2libGUsIGZpcnN0KSA9PiB7CiAgICAgIGNvbnN0IG5ld0RhdGUgPSBwcm9wcy5wYXJzZWRWYWx1ZSA/IHByb3BzLnBhcnNlZFZhbHVlLmhvdXIodmFsdWUuaG91cigpKS5taW51dGUodmFsdWUubWludXRlKCkpLnNlY29uZCh2YWx1ZS5zZWNvbmQoKSkgOiB2YWx1ZTsKICAgICAgaW5uZXJEYXRlLnZhbHVlID0gbmV3RGF0ZTsKICAgICAgZW1pdChpbm5lckRhdGUudmFsdWUsIHRydWUpOwoKICAgICAgaWYgKCFmaXJzdCkgewogICAgICAgIHRpbWVQaWNrZXJWaXNpYmxlLnZhbHVlID0gdmlzaWJsZTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBoYW5kbGVWaXNpYmxlVGltZUNoYW5nZSA9IHZhbHVlID0+IHsKICAgICAgY29uc3QgbmV3RGF0ZSA9IGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10odmFsdWUsIHRpbWVGb3JtYXQudmFsdWUpOwoKICAgICAgaWYgKG5ld0RhdGUuaXNWYWxpZCgpICYmIGNoZWNrRGF0ZVdpdGhpblJhbmdlKG5ld0RhdGUpKSB7CiAgICAgICAgaW5uZXJEYXRlLnZhbHVlID0gbmV3RGF0ZS55ZWFyKGlubmVyRGF0ZS52YWx1ZS55ZWFyKCkpLm1vbnRoKGlubmVyRGF0ZS52YWx1ZS5tb250aCgpKS5kYXRlKGlubmVyRGF0ZS52YWx1ZS5kYXRlKCkpOwogICAgICAgIHVzZXJJbnB1dFRpbWUudmFsdWUgPSBudWxsOwogICAgICAgIHRpbWVQaWNrZXJWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICAgICAgZW1pdChpbm5lckRhdGUudmFsdWUsIHRydWUpOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IGhhbmRsZVZpc2libGVEYXRlQ2hhbmdlID0gdmFsdWUgPT4gewogICAgICBjb25zdCBuZXdEYXRlID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSh2YWx1ZSwgZGF0ZUZvcm1hdC52YWx1ZSk7CgogICAgICBpZiAobmV3RGF0ZS5pc1ZhbGlkKCkpIHsKICAgICAgICBpZiAoZGlzYWJsZWREYXRlICYmIGRpc2FibGVkRGF0ZShuZXdEYXRlLnRvRGF0ZSgpKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaW5uZXJEYXRlLnZhbHVlID0gbmV3RGF0ZS5ob3VyKGlubmVyRGF0ZS52YWx1ZS5ob3VyKCkpLm1pbnV0ZShpbm5lckRhdGUudmFsdWUubWludXRlKCkpLnNlY29uZChpbm5lckRhdGUudmFsdWUuc2Vjb25kKCkpOwogICAgICAgIHVzZXJJbnB1dERhdGUudmFsdWUgPSBudWxsOwogICAgICAgIGVtaXQoaW5uZXJEYXRlLnZhbHVlLCB0cnVlKTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBpc1ZhbGlkVmFsdWUgPSBkYXRlXyA9PiB7CiAgICAgIHJldHVybiBkYXRlXy5pc1ZhbGlkKCkgJiYgKGRpc2FibGVkRGF0ZSA/ICFkaXNhYmxlZERhdGUoZGF0ZV8udG9EYXRlKCkpIDogdHJ1ZSk7CiAgICB9OwoKICAgIGNvbnN0IGZvcm1hdFRvU3RyaW5nID0gdmFsdWUgPT4gewogICAgICBpZiAoc2VsZWN0aW9uTW9kZS52YWx1ZSA9PT0gImRhdGVzIikgewogICAgICAgIHJldHVybiB2YWx1ZS5tYXAoXyA9PiBfLmZvcm1hdChwcm9wcy5mb3JtYXQpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbHVlLmZvcm1hdChwcm9wcy5mb3JtYXQpOwogICAgfTsKCiAgICBjb25zdCBwYXJzZVVzZXJJbnB1dCA9IHZhbHVlID0+IHsKICAgICAgcmV0dXJuIGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10odmFsdWUsIHByb3BzLmZvcm1hdCk7CiAgICB9OwoKICAgIGNvbnN0IGdldERlZmF1bHRWYWx1ZSA9ICgpID0+IHsKICAgICAgcmV0dXJuIGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oZGVmYXVsdFZhbHVlKTsKICAgIH07CgogICAgY29uc3QgaGFuZGxlS2V5ZG93biA9IGV2ZW50ID0+IHsKICAgICAgY29uc3QgewogICAgICAgIGNvZGUsCiAgICAgICAga2V5Q29kZQogICAgICB9ID0gZXZlbnQ7CiAgICAgIGNvbnN0IGxpc3QgPSBbYXJpYS5FVkVOVF9DT0RFLnVwLCBhcmlhLkVWRU5UX0NPREUuZG93biwgYXJpYS5FVkVOVF9DT0RFLmxlZnQsIGFyaWEuRVZFTlRfQ09ERS5yaWdodF07CgogICAgICBpZiAocHJvcHMudmlzaWJsZSAmJiAhdGltZVBpY2tlclZpc2libGUudmFsdWUpIHsKICAgICAgICBpZiAobGlzdC5pbmNsdWRlcyhjb2RlKSkgewogICAgICAgICAgaGFuZGxlS2V5Q29udHJvbChrZXlDb2RlKTsKICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CgogICAgICAgIGlmIChjb2RlID09PSBhcmlhLkVWRU5UX0NPREUuZW50ZXIgJiYgdXNlcklucHV0RGF0ZS52YWx1ZSA9PT0gbnVsbCAmJiB1c2VySW5wdXRUaW1lLnZhbHVlID09PSBudWxsKSB7CiAgICAgICAgICBlbWl0KGlubmVyRGF0ZSwgZmFsc2UpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICBjb25zdCBoYW5kbGVLZXlDb250cm9sID0ga2V5Q29kZSA9PiB7CiAgICAgIGNvbnN0IG1hcHBpbmcgPSB7CiAgICAgICAgInllYXIiOiB7CiAgICAgICAgICAzODogLTQsCiAgICAgICAgICA0MDogNCwKICAgICAgICAgIDM3OiAtMSwKICAgICAgICAgIDM5OiAxLAogICAgICAgICAgb2Zmc2V0OiAoZGF0ZSwgc3RlcCkgPT4gZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgKyBzdGVwKQogICAgICAgIH0sCiAgICAgICAgIm1vbnRoIjogewogICAgICAgICAgMzg6IC00LAogICAgICAgICAgNDA6IDQsCiAgICAgICAgICAzNzogLTEsCiAgICAgICAgICAzOTogMSwKICAgICAgICAgIG9mZnNldDogKGRhdGUsIHN0ZXApID0+IGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgc3RlcCkKICAgICAgICB9LAogICAgICAgICJ3ZWVrIjogewogICAgICAgICAgMzg6IC0xLAogICAgICAgICAgNDA6IDEsCiAgICAgICAgICAzNzogLTEsCiAgICAgICAgICAzOTogMSwKICAgICAgICAgIG9mZnNldDogKGRhdGUsIHN0ZXApID0+IGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIHN0ZXAgKiA3KQogICAgICAgIH0sCiAgICAgICAgImRheSI6IHsKICAgICAgICAgIDM4OiAtNywKICAgICAgICAgIDQwOiA3LAogICAgICAgICAgMzc6IC0xLAogICAgICAgICAgMzk6IDEsCiAgICAgICAgICBvZmZzZXQ6IChkYXRlLCBzdGVwKSA9PiBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBzdGVwKQogICAgICAgIH0KICAgICAgfTsKICAgICAgY29uc3QgbmV3RGF0ZSA9IGlubmVyRGF0ZS52YWx1ZS50b0RhdGUoKTsKCiAgICAgIHdoaWxlIChNYXRoLmFicyhpbm5lckRhdGUudmFsdWUuZGlmZihuZXdEYXRlLCAieWVhciIsIHRydWUpKSA8IDEpIHsKICAgICAgICBjb25zdCBtYXAgPSBtYXBwaW5nW3NlbGVjdGlvbk1vZGUudmFsdWVdOwogICAgICAgIG1hcC5vZmZzZXQobmV3RGF0ZSwgbWFwW2tleUNvZGVdKTsKCiAgICAgICAgaWYgKGRpc2FibGVkRGF0ZSAmJiBkaXNhYmxlZERhdGUobmV3RGF0ZSkpIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXShuZXdEYXRlKTsKICAgICAgICBpbm5lckRhdGUudmFsdWUgPSByZXN1bHQ7CiAgICAgICAgY3R4LmVtaXQoInBpY2siLCByZXN1bHQsIHRydWUpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9OwoKICAgIGN0eC5lbWl0KCJzZXQtcGlja2VyLW9wdGlvbiIsIFsiaXNWYWxpZFZhbHVlIiwgaXNWYWxpZFZhbHVlXSk7CiAgICBjdHguZW1pdCgic2V0LXBpY2tlci1vcHRpb24iLCBbImZvcm1hdFRvU3RyaW5nIiwgZm9ybWF0VG9TdHJpbmddKTsKICAgIGN0eC5lbWl0KCJzZXQtcGlja2VyLW9wdGlvbiIsIFsicGFyc2VVc2VySW5wdXQiLCBwYXJzZVVzZXJJbnB1dF0pOwogICAgY3R4LmVtaXQoInNldC1waWNrZXItb3B0aW9uIiwgWyJoYW5kbGVLZXlkb3duIiwgaGFuZGxlS2V5ZG93bl0pOwogICAgY29uc3QgcGlja2VyQmFzZSA9IHZ1ZS5pbmplY3QoIkVQX1BJQ0tFUl9CQVNFIik7CiAgICBjb25zdCB7CiAgICAgIHNob3J0Y3V0cywKICAgICAgZGlzYWJsZWREYXRlLAogICAgICBjZWxsQ2xhc3NOYW1lLAogICAgICBkZWZhdWx0VGltZSwKICAgICAgZGVmYXVsdFZhbHVlLAogICAgICBhcnJvd0NvbnRyb2wKICAgIH0gPSBwaWNrZXJCYXNlLnByb3BzOwogICAgdnVlLndhdGNoKCgpID0+IHByb3BzLnBhcnNlZFZhbHVlLCB2YWwgPT4gewogICAgICBpZiAodmFsKSB7CiAgICAgICAgaWYgKHNlbGVjdGlvbk1vZGUudmFsdWUgPT09ICJkYXRlcyIpIHJldHVybjsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSByZXR1cm47CiAgICAgICAgaW5uZXJEYXRlLnZhbHVlID0gdmFsOwogICAgICB9IGVsc2UgewogICAgICAgIGlubmVyRGF0ZS52YWx1ZSA9IGdldERlZmF1bHRWYWx1ZSgpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBoYW5kbGVUaW1lUGljaywKICAgICAgaGFuZGxlVGltZVBpY2tDbG9zZSwKICAgICAgb25UaW1lUGlja2VySW5wdXRGb2N1cywKICAgICAgdGltZVBpY2tlclZpc2libGUsCiAgICAgIHZpc2libGVUaW1lLAogICAgICB2aXNpYmxlRGF0ZSwKICAgICAgc2hvd1RpbWUsCiAgICAgIGNoYW5nZVRvTm93LAogICAgICBvbkNvbmZpcm0sCiAgICAgIGZvb3RlclZpc2libGUsCiAgICAgIGhhbmRsZVllYXJQaWNrLAogICAgICBzaG93TW9udGhQaWNrZXIsCiAgICAgIHNob3dZZWFyUGlja2VyLAogICAgICBoYW5kbGVNb250aFBpY2ssCiAgICAgIGhhc1Nob3J0Y3V0cywKICAgICAgc2hvcnRjdXRzLAogICAgICBhcnJvd0NvbnRyb2wsCiAgICAgIGRpc2FibGVkRGF0ZSwKICAgICAgY2VsbENsYXNzTmFtZSwKICAgICAgc2VsZWN0aW9uTW9kZSwKICAgICAgaGFuZGxlU2hvcnRjdXRDbGljaywKICAgICAgcHJldlllYXJfLAogICAgICBuZXh0WWVhcl8sCiAgICAgIHByZXZNb250aF8sCiAgICAgIG5leHRNb250aF8sCiAgICAgIGlubmVyRGF0ZSwKICAgICAgdDogbG9jYWxlLnQsCiAgICAgIHllYXJMYWJlbCwKICAgICAgY3VycmVudFZpZXcsCiAgICAgIG1vbnRoLAogICAgICBoYW5kbGVEYXRlUGljaywKICAgICAgaGFuZGxlVmlzaWJsZVRpbWVDaGFuZ2UsCiAgICAgIGhhbmRsZVZpc2libGVEYXRlQ2hhbmdlLAogICAgICB0aW1lRm9ybWF0LAogICAgICB1c2VySW5wdXRUaW1lLAogICAgICB1c2VySW5wdXREYXRlCiAgICB9OwogIH0KCn0pOwpjb25zdCBfaG9pc3RlZF8xJDMgPSB7CiAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX2JvZHktd3JhcHBlciIKfTsKY29uc3QgX2hvaXN0ZWRfMiQxID0gewogIGtleTogMCwKICBjbGFzczogImVsLXBpY2tlci1wYW5lbF9fc2lkZWJhciIKfTsKY29uc3QgX2hvaXN0ZWRfMyQxID0gewogIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19ib2R5Igp9Owpjb25zdCBfaG9pc3RlZF80JDEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZWwtZGF0ZS1waWNrZXJfX3RpbWUtaGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF81JDEgPSB7CiAgY2xhc3M6ICJlbC1kYXRlLXBpY2tlcl9fZWRpdG9yLXdyYXAiCn07CmNvbnN0IF9ob2lzdGVkXzYkMSA9IHsKICBjbGFzczogImVsLWRhdGUtcGlja2VyX19lZGl0b3Itd3JhcCIKfTsKY29uc3QgX2hvaXN0ZWRfNyQxID0gewogIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19jb250ZW50Igp9Owpjb25zdCBfaG9pc3RlZF84JDEgPSB7CiAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX2Zvb3RlciIKfTsKCmZ1bmN0aW9uIHJlbmRlciQzKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfZWxfaW5wdXQgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiZWwtaW5wdXQiKTsKCiAgY29uc3QgX2NvbXBvbmVudF90aW1lX3BpY2tfcGFuZWwgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgidGltZS1waWNrLXBhbmVsIik7CgogIGNvbnN0IF9jb21wb25lbnRfZGF0ZV90YWJsZSA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJkYXRlLXRhYmxlIik7CgogIGNvbnN0IF9jb21wb25lbnRfeWVhcl90YWJsZSA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJ5ZWFyLXRhYmxlIik7CgogIGNvbnN0IF9jb21wb25lbnRfbW9udGhfdGFibGUgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgibW9udGgtdGFibGUiKTsKCiAgY29uc3QgX2NvbXBvbmVudF9lbF9idXR0b24gPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiZWwtYnV0dG9uIik7CgogIGNvbnN0IF9kaXJlY3RpdmVfY2xpY2tvdXRzaWRlID0gdnVlLnJlc29sdmVEaXJlY3RpdmUoImNsaWNrb3V0c2lkZSIpOwoKICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soImRpdiIsIHsKICAgIGNsYXNzOiBbImVsLXBpY2tlci1wYW5lbCBlbC1kYXRlLXBpY2tlciIsIFt7CiAgICAgICJoYXMtc2lkZWJhciI6IF9jdHguJHNsb3RzLnNpZGViYXIgfHwgX2N0eC5oYXNTaG9ydGN1dHMsCiAgICAgICJoYXMtdGltZSI6IF9jdHguc2hvd1RpbWUKICAgIH1dXQogIH0sIFt2dWUuY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzEkMywgW3Z1ZS5yZW5kZXJTbG90KF9jdHguJHNsb3RzLCAic2lkZWJhciIsIHsKICAgIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19zaWRlYmFyIgogIH0pLCBfY3R4Lmhhc1Nob3J0Y3V0cyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMiQxLCBbKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KF9jdHguc2hvcnRjdXRzLCAoc2hvcnRjdXQsIGtleSkgPT4gewogICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJidXR0b24iLCB7CiAgICAgIGtleSwKICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19zaG9ydGN1dCIsCiAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiBfY3R4LmhhbmRsZVNob3J0Y3V0Q2xpY2soc2hvcnRjdXQpCiAgICB9LCB2dWUudG9EaXNwbGF5U3RyaW5nKHNob3J0Y3V0LnRleHQpLCA5LCBbIm9uQ2xpY2siXSk7CiAgfSksIDEyOCkpXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCB2dWUuY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMkMSwgW19jdHguc2hvd1RpbWUgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzQkMSwgW3Z1ZS5jcmVhdGVWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzUkMSwgW3Z1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICBwbGFjZWhvbGRlcjogX2N0eC50KCJlbC5kYXRlcGlja2VyLnNlbGVjdERhdGUiKSwKICAgICJtb2RlbC12YWx1ZSI6IF9jdHgudmlzaWJsZURhdGUsCiAgICBzaXplOiAic21hbGwiLAogICAgb25JbnB1dDogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSB2YWwgPT4gX2N0eC51c2VySW5wdXREYXRlID0gdmFsKSwKICAgIG9uQ2hhbmdlOiBfY3R4LmhhbmRsZVZpc2libGVEYXRlQ2hhbmdlCiAgfSwgbnVsbCwgOCwgWyJwbGFjZWhvbGRlciIsICJtb2RlbC12YWx1ZSIsICJvbkNoYW5nZSJdKV0pLCB2dWUud2l0aERpcmVjdGl2ZXModnVlLmNyZWF0ZVZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNiQxLCBbdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgIHBsYWNlaG9sZGVyOiBfY3R4LnQoImVsLmRhdGVwaWNrZXIuc2VsZWN0VGltZSIpLAogICAgIm1vZGVsLXZhbHVlIjogX2N0eC52aXNpYmxlVGltZSwKICAgIHNpemU6ICJzbWFsbCIsCiAgICBvbkZvY3VzOiBfY3R4Lm9uVGltZVBpY2tlcklucHV0Rm9jdXMsCiAgICBvbklucHV0OiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IHZhbCA9PiBfY3R4LnVzZXJJbnB1dFRpbWUgPSB2YWwpLAogICAgb25DaGFuZ2U6IF9jdHguaGFuZGxlVmlzaWJsZVRpbWVDaGFuZ2UKICB9LCBudWxsLCA4LCBbInBsYWNlaG9sZGVyIiwgIm1vZGVsLXZhbHVlIiwgIm9uRm9jdXMiLCAib25DaGFuZ2UiXSksIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X3RpbWVfcGlja19wYW5lbCwgewogICAgdmlzaWJsZTogX2N0eC50aW1lUGlja2VyVmlzaWJsZSwKICAgIGZvcm1hdDogX2N0eC50aW1lRm9ybWF0LAogICAgInRpbWUtYXJyb3ctY29udHJvbCI6IF9jdHguYXJyb3dDb250cm9sLAogICAgInBhcnNlZC12YWx1ZSI6IF9jdHguaW5uZXJEYXRlLAogICAgb25QaWNrOiBfY3R4LmhhbmRsZVRpbWVQaWNrCiAgfSwgbnVsbCwgOCwgWyJ2aXNpYmxlIiwgImZvcm1hdCIsICJ0aW1lLWFycm93LWNvbnRyb2wiLCAicGFyc2VkLXZhbHVlIiwgIm9uUGljayJdKV0sIDUxMiksIFtbX2RpcmVjdGl2ZV9jbGlja291dHNpZGUsIF9jdHguaGFuZGxlVGltZVBpY2tDbG9zZV1dKV0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgdnVlLndpdGhEaXJlY3RpdmVzKHZ1ZS5jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6IFsiZWwtZGF0ZS1waWNrZXJfX2hlYWRlciIsIHsKICAgICAgImVsLWRhdGUtcGlja2VyX19oZWFkZXItLWJvcmRlcmVkIjogX2N0eC5jdXJyZW50VmlldyA9PT0gInllYXIiIHx8IF9jdHguY3VycmVudFZpZXcgPT09ICJtb250aCIKICAgIH1dCiAgfSwgW3Z1ZS5jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgdHlwZTogImJ1dHRvbiIsCiAgICAiYXJpYS1sYWJlbCI6IF9jdHgudChgZWwuZGF0ZXBpY2tlci5wcmV2WWVhcmApLAogICAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX2ljb24tYnRuIGVsLWRhdGUtcGlja2VyX19wcmV2LWJ0biBlbC1pY29uLWQtYXJyb3ctbGVmdCIsCiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9ICguLi5hcmdzKSA9PiBfY3R4LnByZXZZZWFyXyAmJiBfY3R4LnByZXZZZWFyXyguLi5hcmdzKSkKICB9LCBudWxsLCA4LCBbImFyaWEtbGFiZWwiXSksIHZ1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIHR5cGU6ICJidXR0b24iLAogICAgImFyaWEtbGFiZWwiOiBfY3R4LnQoYGVsLmRhdGVwaWNrZXIucHJldk1vbnRoYCksCiAgICBjbGFzczogImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtZGF0ZS1waWNrZXJfX3ByZXYtYnRuIGVsLWljb24tYXJyb3ctbGVmdCIsCiAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9ICguLi5hcmdzKSA9PiBfY3R4LnByZXZNb250aF8gJiYgX2N0eC5wcmV2TW9udGhfKC4uLmFyZ3MpKQogIH0sIG51bGwsIDgsIFsiYXJpYS1sYWJlbCJdKSwgW1t2dWUudlNob3csIF9jdHguY3VycmVudFZpZXcgPT09ICJkYXRlIl1dKSwgdnVlLmNyZWF0ZVZOb2RlKCJzcGFuIiwgewogICAgcm9sZTogImJ1dHRvbiIsCiAgICBjbGFzczogImVsLWRhdGUtcGlja2VyX19oZWFkZXItbGFiZWwiLAogICAgb25DbGljazogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSAoLi4uYXJncykgPT4gX2N0eC5zaG93WWVhclBpY2tlciAmJiBfY3R4LnNob3dZZWFyUGlja2VyKC4uLmFyZ3MpKQogIH0sIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoX2N0eC55ZWFyTGFiZWwpLCAxKSwgdnVlLndpdGhEaXJlY3RpdmVzKHZ1ZS5jcmVhdGVWTm9kZSgic3BhbiIsIHsKICAgIHJvbGU6ICJidXR0b24iLAogICAgY2xhc3M6IFsiZWwtZGF0ZS1waWNrZXJfX2hlYWRlci1sYWJlbCIsIHsKICAgICAgYWN0aXZlOiBfY3R4LmN1cnJlbnRWaWV3ID09PSAibW9udGgiCiAgICB9XSwKICAgIG9uQ2xpY2s6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gKC4uLmFyZ3MpID0+IF9jdHguc2hvd01vbnRoUGlja2VyICYmIF9jdHguc2hvd01vbnRoUGlja2VyKC4uLmFyZ3MpKQogIH0sIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoX2N0eC50KGBlbC5kYXRlcGlja2VyLm1vbnRoJHtfY3R4Lm1vbnRoICsgMX1gKSksIDMpLCBbW3Z1ZS52U2hvdywgX2N0eC5jdXJyZW50VmlldyA9PT0gImRhdGUiXV0pLCB2dWUuY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIHR5cGU6ICJidXR0b24iLAogICAgImFyaWEtbGFiZWwiOiBfY3R4LnQoYGVsLmRhdGVwaWNrZXIubmV4dFllYXJgKSwKICAgIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1kYXRlLXBpY2tlcl9fbmV4dC1idG4gZWwtaWNvbi1kLWFycm93LXJpZ2h0IiwKICAgIG9uQ2xpY2s6IF9jYWNoZVs3XSB8fCAoX2NhY2hlWzddID0gKC4uLmFyZ3MpID0+IF9jdHgubmV4dFllYXJfICYmIF9jdHgubmV4dFllYXJfKC4uLmFyZ3MpKQogIH0sIG51bGwsIDgsIFsiYXJpYS1sYWJlbCJdKSwgdnVlLndpdGhEaXJlY3RpdmVzKHZ1ZS5jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgdHlwZTogImJ1dHRvbiIsCiAgICAiYXJpYS1sYWJlbCI6IF9jdHgudChgZWwuZGF0ZXBpY2tlci5uZXh0TW9udGhgKSwKICAgIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1kYXRlLXBpY2tlcl9fbmV4dC1idG4gZWwtaWNvbi1hcnJvdy1yaWdodCIsCiAgICBvbkNsaWNrOiBfY2FjaGVbOF0gfHwgKF9jYWNoZVs4XSA9ICguLi5hcmdzKSA9PiBfY3R4Lm5leHRNb250aF8gJiYgX2N0eC5uZXh0TW9udGhfKC4uLmFyZ3MpKQogIH0sIG51bGwsIDgsIFsiYXJpYS1sYWJlbCJdKSwgW1t2dWUudlNob3csIF9jdHguY3VycmVudFZpZXcgPT09ICJkYXRlIl1dKV0sIDIpLCBbW3Z1ZS52U2hvdywgX2N0eC5jdXJyZW50VmlldyAhPT0gInRpbWUiXV0pLCB2dWUuY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzckMSwgW19jdHguY3VycmVudFZpZXcgPT09ICJkYXRlIiA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X2RhdGVfdGFibGUsIHsKICAgIGtleTogMCwKICAgICJzZWxlY3Rpb24tbW9kZSI6IF9jdHguc2VsZWN0aW9uTW9kZSwKICAgIGRhdGU6IF9jdHguaW5uZXJEYXRlLAogICAgInBhcnNlZC12YWx1ZSI6IF9jdHgucGFyc2VkVmFsdWUsCiAgICAiZGlzYWJsZWQtZGF0ZSI6IF9jdHguZGlzYWJsZWREYXRlLAogICAgb25QaWNrOiBfY3R4LmhhbmRsZURhdGVQaWNrCiAgfSwgbnVsbCwgOCwgWyJzZWxlY3Rpb24tbW9kZSIsICJkYXRlIiwgInBhcnNlZC12YWx1ZSIsICJkaXNhYmxlZC1kYXRlIiwgIm9uUGljayJdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jdHguY3VycmVudFZpZXcgPT09ICJ5ZWFyIiA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X3llYXJfdGFibGUsIHsKICAgIGtleTogMSwKICAgIGRhdGU6IF9jdHguaW5uZXJEYXRlLAogICAgImRpc2FibGVkLWRhdGUiOiBfY3R4LmRpc2FibGVkRGF0ZSwKICAgICJwYXJzZWQtdmFsdWUiOiBfY3R4LnBhcnNlZFZhbHVlLAogICAgb25QaWNrOiBfY3R4LmhhbmRsZVllYXJQaWNrCiAgfSwgbnVsbCwgOCwgWyJkYXRlIiwgImRpc2FibGVkLWRhdGUiLCAicGFyc2VkLXZhbHVlIiwgIm9uUGljayJdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jdHguY3VycmVudFZpZXcgPT09ICJtb250aCIgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soX2NvbXBvbmVudF9tb250aF90YWJsZSwgewogICAga2V5OiAyLAogICAgZGF0ZTogX2N0eC5pbm5lckRhdGUsCiAgICAicGFyc2VkLXZhbHVlIjogX2N0eC5wYXJzZWRWYWx1ZSwKICAgICJkaXNhYmxlZC1kYXRlIjogX2N0eC5kaXNhYmxlZERhdGUsCiAgICBvblBpY2s6IF9jdHguaGFuZGxlTW9udGhQaWNrCiAgfSwgbnVsbCwgOCwgWyJkYXRlIiwgInBhcnNlZC12YWx1ZSIsICJkaXNhYmxlZC1kYXRlIiwgIm9uUGljayJdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pXSksIHZ1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzgkMSwgW3Z1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgIHNpemU6ICJtaW5pIiwKICAgIHR5cGU6ICJ0ZXh0IiwKICAgIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19saW5rLWJ0biIsCiAgICBvbkNsaWNrOiBfY3R4LmNoYW5nZVRvTm93CiAgfSwgewogICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gW3Z1ZS5jcmVhdGVUZXh0Vk5vZGUodnVlLnRvRGlzcGxheVN0cmluZyhfY3R4LnQoImVsLmRhdGVwaWNrZXIubm93IikpLCAxKV0pLAogICAgXzogMQogIH0sIDgsIFsib25DbGljayJdKSwgW1t2dWUudlNob3csIF9jdHguc2VsZWN0aW9uTW9kZSAhPT0gImRhdGVzIl1dKSwgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICBwbGFpbjogIiIsCiAgICBzaXplOiAibWluaSIsCiAgICBjbGFzczogImVsLXBpY2tlci1wYW5lbF9fbGluay1idG4iLAogICAgb25DbGljazogX2N0eC5vbkNvbmZpcm0KICB9LCB7CiAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbdnVlLmNyZWF0ZVRleHRWTm9kZSh2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHgudCgiZWwuZGF0ZXBpY2tlci5jb25maXJtIikpLCAxKV0pLAogICAgXzogMQogIH0sIDgsIFsib25DbGljayJdKV0sIDUxMiksIFtbdnVlLnZTaG93LCBfY3R4LmZvb3RlclZpc2libGUgJiYgX2N0eC5jdXJyZW50VmlldyA9PT0gImRhdGUiXV0pXSwgMik7Cn0KCnNjcmlwdCQzLnJlbmRlciA9IHJlbmRlciQzOwpzY3JpcHQkMy5fX2ZpbGUgPSAicGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2RhdGUtcGlja2VyLWNvbS9wYW5lbC1kYXRlLXBpY2sudnVlIjsKdmFyIHNjcmlwdCQ0ID0gdnVlLmRlZmluZUNvbXBvbmVudCh7CiAgZGlyZWN0aXZlczogewogICAgY2xpY2tvdXRzaWRlOiBkaXJlY3RpdmVzLkNsaWNrT3V0c2lkZQogIH0sCiAgY29tcG9uZW50czogewogICAgVGltZVBpY2tQYW5lbDogdGltZVBpY2tlci5UaW1lUGlja1BhbmVsLAogICAgRGF0ZVRhYmxlOiBzY3JpcHQsCiAgICBFbElucHV0OiBFbElucHV0X19kZWZhdWx0WydkZWZhdWx0J10sCiAgICBFbEJ1dHRvbjogRWxCdXR0b25fX2RlZmF1bHRbJ2RlZmF1bHQnXQogIH0sCiAgcHJvcHM6IHsKICAgIHVubGlua1BhbmVsczogQm9vbGVhbiwKICAgIHBhcnNlZFZhbHVlOiB7CiAgICAgIHR5cGU6IEFycmF5CiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB2YWxpZGF0b3I6IHZhbGlkYXRvcnMuaXNWYWxpZERhdGVQaWNrVHlwZQogICAgfQogIH0sCiAgZW1pdHM6IFsicGljayIsICJzZXQtcGlja2VyLW9wdGlvbiJdLAoKICBzZXR1cChwcm9wcywgY3R4KSB7CiAgICBjb25zdCBsZWZ0RGF0ZSA9IHZ1ZS5yZWYoZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSgpKTsKICAgIGNvbnN0IHJpZ2h0RGF0ZSA9IHZ1ZS5yZWYoZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSgpLmFkZCgxLCAibW9udGgiKSk7CiAgICBjb25zdCBtaW5EYXRlID0gdnVlLnJlZihudWxsKTsKICAgIGNvbnN0IG1heERhdGUgPSB2dWUucmVmKG51bGwpOwogICAgY29uc3QgZGF0ZVVzZXJJbnB1dCA9IHZ1ZS5yZWYoewogICAgICBtaW46IG51bGwsCiAgICAgIG1heDogbnVsbAogICAgfSk7CiAgICBjb25zdCB0aW1lVXNlcklucHV0ID0gdnVlLnJlZih7CiAgICAgIG1pbjogbnVsbCwKICAgICAgbWF4OiBudWxsCiAgICB9KTsKICAgIGNvbnN0IGxlZnRMYWJlbCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiBsZWZ0RGF0ZS52YWx1ZS55ZWFyKCkgKyAiICIgKyBsb2NhbGUudCgiZWwuZGF0ZXBpY2tlci55ZWFyIikgKyAiICIgKyBsb2NhbGUudChgZWwuZGF0ZXBpY2tlci5tb250aCR7bGVmdERhdGUudmFsdWUubW9udGgoKSArIDF9YCk7CiAgICB9KTsKICAgIGNvbnN0IHJpZ2h0TGFiZWwgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gcmlnaHREYXRlLnZhbHVlLnllYXIoKSArICIgIiArIGxvY2FsZS50KCJlbC5kYXRlcGlja2VyLnllYXIiKSArICIgIiArIGxvY2FsZS50KGBlbC5kYXRlcGlja2VyLm1vbnRoJHtyaWdodERhdGUudmFsdWUubW9udGgoKSArIDF9YCk7CiAgICB9KTsKICAgIGNvbnN0IGxlZnRZZWFyID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIGxlZnREYXRlLnZhbHVlLnllYXIoKTsKICAgIH0pOwogICAgY29uc3QgbGVmdE1vbnRoID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIGxlZnREYXRlLnZhbHVlLm1vbnRoKCk7CiAgICB9KTsKICAgIGNvbnN0IHJpZ2h0WWVhciA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiByaWdodERhdGUudmFsdWUueWVhcigpOwogICAgfSk7CiAgICBjb25zdCByaWdodE1vbnRoID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIHJpZ2h0RGF0ZS52YWx1ZS5tb250aCgpOwogICAgfSk7CiAgICBjb25zdCBoYXNTaG9ydGN1dHMgPSB2dWUuY29tcHV0ZWQoKCkgPT4gISFzaG9ydGN1dHMubGVuZ3RoKTsKICAgIGNvbnN0IG1pblZpc2libGVEYXRlID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgaWYgKGRhdGVVc2VySW5wdXQudmFsdWUubWluICE9PSBudWxsKSByZXR1cm4gZGF0ZVVzZXJJbnB1dC52YWx1ZS5taW47CiAgICAgIGlmIChtaW5EYXRlLnZhbHVlKSByZXR1cm4gbWluRGF0ZS52YWx1ZS5mb3JtYXQoZGF0ZUZvcm1hdC52YWx1ZSk7CiAgICAgIHJldHVybiAiIjsKICAgIH0pOwogICAgY29uc3QgbWF4VmlzaWJsZURhdGUgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICBpZiAoZGF0ZVVzZXJJbnB1dC52YWx1ZS5tYXggIT09IG51bGwpIHJldHVybiBkYXRlVXNlcklucHV0LnZhbHVlLm1heDsKICAgICAgaWYgKG1heERhdGUudmFsdWUgfHwgbWluRGF0ZS52YWx1ZSkgcmV0dXJuIChtYXhEYXRlLnZhbHVlIHx8IG1pbkRhdGUudmFsdWUpLmZvcm1hdChkYXRlRm9ybWF0LnZhbHVlKTsKICAgICAgcmV0dXJuICIiOwogICAgfSk7CiAgICBjb25zdCBtaW5WaXNpYmxlVGltZSA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgIGlmICh0aW1lVXNlcklucHV0LnZhbHVlLm1pbiAhPT0gbnVsbCkgcmV0dXJuIHRpbWVVc2VySW5wdXQudmFsdWUubWluOwogICAgICBpZiAobWluRGF0ZS52YWx1ZSkgcmV0dXJuIG1pbkRhdGUudmFsdWUuZm9ybWF0KHRpbWVGb3JtYXQudmFsdWUpOwogICAgICByZXR1cm4gIiI7CiAgICB9KTsKICAgIGNvbnN0IG1heFZpc2libGVUaW1lID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgaWYgKHRpbWVVc2VySW5wdXQudmFsdWUubWF4ICE9PSBudWxsKSByZXR1cm4gdGltZVVzZXJJbnB1dC52YWx1ZS5tYXg7CiAgICAgIGlmIChtYXhEYXRlLnZhbHVlIHx8IG1pbkRhdGUudmFsdWUpIHJldHVybiAobWF4RGF0ZS52YWx1ZSB8fCBtaW5EYXRlLnZhbHVlKS5mb3JtYXQodGltZUZvcm1hdC52YWx1ZSk7CiAgICAgIHJldHVybiAiIjsKICAgIH0pOwogICAgY29uc3QgdGltZUZvcm1hdCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiB0aW1lUGlja2VyLmV4dHJhY3RUaW1lRm9ybWF0KGZvcm1hdCk7CiAgICB9KTsKICAgIGNvbnN0IGRhdGVGb3JtYXQgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gdGltZVBpY2tlci5leHRyYWN0RGF0ZUZvcm1hdChmb3JtYXQpOwogICAgfSk7CgogICAgY29uc3QgbGVmdFByZXZZZWFyID0gKCkgPT4gewogICAgICBsZWZ0RGF0ZS52YWx1ZSA9IGxlZnREYXRlLnZhbHVlLnN1YnRyYWN0KDEsICJ5ZWFyIik7CgogICAgICBpZiAoIXByb3BzLnVubGlua1BhbmVscykgewogICAgICAgIHJpZ2h0RGF0ZS52YWx1ZSA9IGxlZnREYXRlLnZhbHVlLmFkZCgxLCAibW9udGgiKTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBsZWZ0UHJldk1vbnRoID0gKCkgPT4gewogICAgICBsZWZ0RGF0ZS52YWx1ZSA9IGxlZnREYXRlLnZhbHVlLnN1YnRyYWN0KDEsICJtb250aCIpOwoKICAgICAgaWYgKCFwcm9wcy51bmxpbmtQYW5lbHMpIHsKICAgICAgICByaWdodERhdGUudmFsdWUgPSBsZWZ0RGF0ZS52YWx1ZS5hZGQoMSwgIm1vbnRoIik7CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgcmlnaHROZXh0WWVhciA9ICgpID0+IHsKICAgICAgaWYgKCFwcm9wcy51bmxpbmtQYW5lbHMpIHsKICAgICAgICBsZWZ0RGF0ZS52YWx1ZSA9IGxlZnREYXRlLnZhbHVlLmFkZCgxLCAieWVhciIpOwogICAgICAgIHJpZ2h0RGF0ZS52YWx1ZSA9IGxlZnREYXRlLnZhbHVlLmFkZCgxLCAibW9udGgiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByaWdodERhdGUudmFsdWUgPSByaWdodERhdGUudmFsdWUuYWRkKDEsICJ5ZWFyIik7CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgcmlnaHROZXh0TW9udGggPSAoKSA9PiB7CiAgICAgIGlmICghcHJvcHMudW5saW5rUGFuZWxzKSB7CiAgICAgICAgbGVmdERhdGUudmFsdWUgPSBsZWZ0RGF0ZS52YWx1ZS5hZGQoMSwgIm1vbnRoIik7CiAgICAgICAgcmlnaHREYXRlLnZhbHVlID0gbGVmdERhdGUudmFsdWUuYWRkKDEsICJtb250aCIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJpZ2h0RGF0ZS52YWx1ZSA9IHJpZ2h0RGF0ZS52YWx1ZS5hZGQoMSwgIm1vbnRoIik7CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgbGVmdE5leHRZZWFyID0gKCkgPT4gewogICAgICBsZWZ0RGF0ZS52YWx1ZSA9IGxlZnREYXRlLnZhbHVlLmFkZCgxLCAieWVhciIpOwogICAgfTsKCiAgICBjb25zdCBsZWZ0TmV4dE1vbnRoID0gKCkgPT4gewogICAgICBsZWZ0RGF0ZS52YWx1ZSA9IGxlZnREYXRlLnZhbHVlLmFkZCgxLCAibW9udGgiKTsKICAgIH07CgogICAgY29uc3QgcmlnaHRQcmV2WWVhciA9ICgpID0+IHsKICAgICAgcmlnaHREYXRlLnZhbHVlID0gcmlnaHREYXRlLnZhbHVlLnN1YnRyYWN0KDEsICJ5ZWFyIik7CiAgICB9OwoKICAgIGNvbnN0IHJpZ2h0UHJldk1vbnRoID0gKCkgPT4gewogICAgICByaWdodERhdGUudmFsdWUgPSByaWdodERhdGUudmFsdWUuc3VidHJhY3QoMSwgIm1vbnRoIik7CiAgICB9OwoKICAgIGNvbnN0IGVuYWJsZU1vbnRoQXJyb3cgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICBjb25zdCBuZXh0TW9udGggPSAobGVmdE1vbnRoLnZhbHVlICsgMSkgJSAxMjsKICAgICAgY29uc3QgeWVhck9mZnNldCA9IGxlZnRNb250aC52YWx1ZSArIDEgPj0gMTIgPyAxIDogMDsKICAgICAgcmV0dXJuIHByb3BzLnVubGlua1BhbmVscyAmJiBuZXcgRGF0ZShsZWZ0WWVhci52YWx1ZSArIHllYXJPZmZzZXQsIG5leHRNb250aCkgPCBuZXcgRGF0ZShyaWdodFllYXIudmFsdWUsIHJpZ2h0TW9udGgudmFsdWUpOwogICAgfSk7CiAgICBjb25zdCBlbmFibGVZZWFyQXJyb3cgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gcHJvcHMudW5saW5rUGFuZWxzICYmIHJpZ2h0WWVhci52YWx1ZSAqIDEyICsgcmlnaHRNb250aC52YWx1ZSAtIChsZWZ0WWVhci52YWx1ZSAqIDEyICsgbGVmdE1vbnRoLnZhbHVlICsgMSkgPj0gMTI7CiAgICB9KTsKCiAgICBjb25zdCBpc1ZhbGlkVmFsdWUgPSB2YWx1ZSA9PiB7CiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZVswXSAmJiB2YWx1ZVsxXSAmJiB2YWx1ZVswXS52YWx1ZU9mKCkgPD0gdmFsdWVbMV0udmFsdWVPZigpOwogICAgfTsKCiAgICBjb25zdCByYW5nZVN0YXRlID0gdnVlLnJlZih7CiAgICAgIGVuZERhdGU6IG51bGwsCiAgICAgIHNlbGVjdGluZzogZmFsc2UKICAgIH0pOwogICAgY29uc3QgYnRuRGlzYWJsZWQgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gIShtaW5EYXRlLnZhbHVlICYmIG1heERhdGUudmFsdWUgJiYgIXJhbmdlU3RhdGUudmFsdWUuc2VsZWN0aW5nICYmIGlzVmFsaWRWYWx1ZShbbWluRGF0ZS52YWx1ZSwgbWF4RGF0ZS52YWx1ZV0pKTsKICAgIH0pOwoKICAgIGNvbnN0IGhhbmRsZUNoYW5nZVJhbmdlID0gdmFsID0+IHsKICAgICAgcmFuZ2VTdGF0ZS52YWx1ZSA9IHZhbDsKICAgIH07CgogICAgY29uc3Qgb25TZWxlY3QgPSBzZWxlY3RpbmcgPT4gewogICAgICByYW5nZVN0YXRlLnZhbHVlLnNlbGVjdGluZyA9IHNlbGVjdGluZzsKCiAgICAgIGlmICghc2VsZWN0aW5nKSB7CiAgICAgICAgcmFuZ2VTdGF0ZS52YWx1ZS5lbmREYXRlID0gbnVsbDsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBzaG93VGltZSA9IHZ1ZS5jb21wdXRlZCgoKSA9PiBwcm9wcy50eXBlID09PSAiZGF0ZXRpbWUiIHx8IHByb3BzLnR5cGUgPT09ICJkYXRldGltZXJhbmdlIik7CgogICAgY29uc3QgaGFuZGxlQ29uZmlybSA9ICh2aXNpYmxlID0gZmFsc2UpID0+IHsKICAgICAgaWYgKGlzVmFsaWRWYWx1ZShbbWluRGF0ZS52YWx1ZSwgbWF4RGF0ZS52YWx1ZV0pKSB7CiAgICAgICAgY3R4LmVtaXQoInBpY2siLCBbbWluRGF0ZS52YWx1ZSwgbWF4RGF0ZS52YWx1ZV0sIHZpc2libGUpOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IGZvcm1hdEVtaXQgPSAoZW1pdERheWpzLCBpbmRleCkgPT4gewogICAgICBpZiAoIWVtaXREYXlqcykgcmV0dXJuOwoKICAgICAgaWYgKGRlZmF1bHRUaW1lKSB7CiAgICAgICAgY29uc3QgZGVmYXVsdFRpbWVEID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXShkZWZhdWx0VGltZVtpbmRleF0gfHwgZGVmYXVsdFRpbWUpOwogICAgICAgIHJldHVybiBkZWZhdWx0VGltZUQueWVhcihlbWl0RGF5anMueWVhcigpKS5tb250aChlbWl0RGF5anMubW9udGgoKSkuZGF0ZShlbWl0RGF5anMuZGF0ZSgpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGVtaXREYXlqczsKICAgIH07CgogICAgY29uc3QgaGFuZGxlUmFuZ2VQaWNrID0gKHZhbCwgY2xvc2UgPSB0cnVlKSA9PiB7CiAgICAgIGNvbnN0IG1pbkRhdGVfID0gZm9ybWF0RW1pdCh2YWwubWluRGF0ZSwgMCk7CiAgICAgIGNvbnN0IG1heERhdGVfID0gZm9ybWF0RW1pdCh2YWwubWF4RGF0ZSwgMSk7CgogICAgICBpZiAobWF4RGF0ZS52YWx1ZSA9PT0gbWF4RGF0ZV8gJiYgbWluRGF0ZS52YWx1ZSA9PT0gbWluRGF0ZV8pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIG1heERhdGUudmFsdWUgPSBtYXhEYXRlXzsKICAgICAgbWluRGF0ZS52YWx1ZSA9IG1pbkRhdGVfOwogICAgICBpZiAoIWNsb3NlIHx8IHNob3dUaW1lLnZhbHVlKSByZXR1cm47CiAgICAgIGhhbmRsZUNvbmZpcm0oKTsKICAgIH07CgogICAgY29uc3QgaGFuZGxlU2hvcnRjdXRDbGljayA9IHNob3J0Y3V0ID0+IHsKICAgICAgaWYgKHNob3J0Y3V0LnZhbHVlKSB7CiAgICAgICAgY3R4LmVtaXQoInBpY2siLCBbZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXShzaG9ydGN1dC52YWx1ZVswXSksIGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oc2hvcnRjdXQudmFsdWVbMV0pXSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoc2hvcnRjdXQub25DbGljaykgewogICAgICAgIHNob3J0Y3V0Lm9uQ2xpY2soY3R4KTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBtaW5UaW1lUGlja2VyVmlzaWJsZSA9IHZ1ZS5yZWYoZmFsc2UpOwogICAgY29uc3QgbWF4VGltZVBpY2tlclZpc2libGUgPSB2dWUucmVmKGZhbHNlKTsKCiAgICBjb25zdCBoYW5kbGVNaW5UaW1lQ2xvc2UgPSAoKSA9PiB7CiAgICAgIG1pblRpbWVQaWNrZXJWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICB9OwoKICAgIGNvbnN0IGhhbmRsZU1heFRpbWVDbG9zZSA9ICgpID0+IHsKICAgICAgbWF4VGltZVBpY2tlclZpc2libGUudmFsdWUgPSBmYWxzZTsKICAgIH07CgogICAgY29uc3QgaGFuZGxlRGF0ZUlucHV0ID0gKHZhbHVlLCB0eXBlKSA9PiB7CiAgICAgIGRhdGVVc2VySW5wdXQudmFsdWVbdHlwZV0gPSB2YWx1ZTsKICAgICAgY29uc3QgcGFyc2VkVmFsdWVEID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSh2YWx1ZSwgZGF0ZUZvcm1hdC52YWx1ZSk7CgogICAgICBpZiAocGFyc2VkVmFsdWVELmlzVmFsaWQoKSkgewogICAgICAgIGlmIChkaXNhYmxlZERhdGUgJiYgZGlzYWJsZWREYXRlKHBhcnNlZFZhbHVlRC50b0RhdGUoKSkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICh0eXBlID09PSAibWluIikgewogICAgICAgICAgbGVmdERhdGUudmFsdWUgPSBwYXJzZWRWYWx1ZUQ7CiAgICAgICAgICBtaW5EYXRlLnZhbHVlID0gKG1pbkRhdGUudmFsdWUgfHwgbGVmdERhdGUudmFsdWUpLnllYXIocGFyc2VkVmFsdWVELnllYXIoKSkubW9udGgocGFyc2VkVmFsdWVELm1vbnRoKCkpLmRhdGUocGFyc2VkVmFsdWVELmRhdGUoKSk7CgogICAgICAgICAgaWYgKCFwcm9wcy51bmxpbmtQYW5lbHMpIHsKICAgICAgICAgICAgcmlnaHREYXRlLnZhbHVlID0gcGFyc2VkVmFsdWVELmFkZCgxLCAibW9udGgiKTsKICAgICAgICAgICAgbWF4RGF0ZS52YWx1ZSA9IG1pbkRhdGUudmFsdWUuYWRkKDEsICJtb250aCIpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByaWdodERhdGUudmFsdWUgPSBwYXJzZWRWYWx1ZUQ7CiAgICAgICAgICBtYXhEYXRlLnZhbHVlID0gKG1heERhdGUudmFsdWUgfHwgcmlnaHREYXRlLnZhbHVlKS55ZWFyKHBhcnNlZFZhbHVlRC55ZWFyKCkpLm1vbnRoKHBhcnNlZFZhbHVlRC5tb250aCgpKS5kYXRlKHBhcnNlZFZhbHVlRC5kYXRlKCkpOwoKICAgICAgICAgIGlmICghcHJvcHMudW5saW5rUGFuZWxzKSB7CiAgICAgICAgICAgIGxlZnREYXRlLnZhbHVlID0gcGFyc2VkVmFsdWVELnN1YnRyYWN0KDEsICJtb250aCIpOwogICAgICAgICAgICBtaW5EYXRlLnZhbHVlID0gbWF4RGF0ZS52YWx1ZS5zdWJ0cmFjdCgxLCAibW9udGgiKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgaGFuZGxlRGF0ZUNoYW5nZSA9ICh2YWx1ZSwgdHlwZSkgPT4gewogICAgICBkYXRlVXNlcklucHV0LnZhbHVlW3R5cGVdID0gbnVsbDsKICAgIH07CgogICAgY29uc3QgaGFuZGxlVGltZUlucHV0ID0gKHZhbHVlLCB0eXBlKSA9PiB7CiAgICAgIHRpbWVVc2VySW5wdXQudmFsdWVbdHlwZV0gPSB2YWx1ZTsKICAgICAgY29uc3QgcGFyc2VkVmFsdWVEID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSh2YWx1ZSwgdGltZUZvcm1hdC52YWx1ZSk7CgogICAgICBpZiAocGFyc2VkVmFsdWVELmlzVmFsaWQoKSkgewogICAgICAgIGlmICh0eXBlID09PSAibWluIikgewogICAgICAgICAgbWluVGltZVBpY2tlclZpc2libGUudmFsdWUgPSB0cnVlOwogICAgICAgICAgbWluRGF0ZS52YWx1ZSA9IChtaW5EYXRlLnZhbHVlIHx8IGxlZnREYXRlLnZhbHVlKS5ob3VyKHBhcnNlZFZhbHVlRC5ob3VyKCkpLm1pbnV0ZShwYXJzZWRWYWx1ZUQubWludXRlKCkpLnNlY29uZChwYXJzZWRWYWx1ZUQuc2Vjb25kKCkpOwoKICAgICAgICAgIGlmICghbWF4RGF0ZS52YWx1ZSB8fCBtYXhEYXRlLnZhbHVlLmlzQmVmb3JlKG1pbkRhdGUudmFsdWUpKSB7CiAgICAgICAgICAgIG1heERhdGUudmFsdWUgPSBtaW5EYXRlLnZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtYXhUaW1lUGlja2VyVmlzaWJsZS52YWx1ZSA9IHRydWU7CiAgICAgICAgICBtYXhEYXRlLnZhbHVlID0gKG1heERhdGUudmFsdWUgfHwgcmlnaHREYXRlLnZhbHVlKS5ob3VyKHBhcnNlZFZhbHVlRC5ob3VyKCkpLm1pbnV0ZShwYXJzZWRWYWx1ZUQubWludXRlKCkpLnNlY29uZChwYXJzZWRWYWx1ZUQuc2Vjb25kKCkpOwogICAgICAgICAgcmlnaHREYXRlLnZhbHVlID0gbWF4RGF0ZS52YWx1ZTsKCiAgICAgICAgICBpZiAobWF4RGF0ZS52YWx1ZSAmJiBtYXhEYXRlLnZhbHVlLmlzQmVmb3JlKG1pbkRhdGUudmFsdWUpKSB7CiAgICAgICAgICAgIG1pbkRhdGUudmFsdWUgPSBtYXhEYXRlLnZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICBjb25zdCBoYW5kbGVUaW1lQ2hhbmdlID0gKHZhbHVlLCB0eXBlKSA9PiB7CiAgICAgIHRpbWVVc2VySW5wdXQudmFsdWVbdHlwZV0gPSBudWxsOwoKICAgICAgaWYgKHR5cGUgPT09ICJtaW4iKSB7CiAgICAgICAgbGVmdERhdGUudmFsdWUgPSBtaW5EYXRlLnZhbHVlOwogICAgICAgIG1pblRpbWVQaWNrZXJWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmlnaHREYXRlLnZhbHVlID0gbWF4RGF0ZS52YWx1ZTsKICAgICAgICBtYXhUaW1lUGlja2VyVmlzaWJsZS52YWx1ZSA9IGZhbHNlOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IGhhbmRsZU1pblRpbWVQaWNrID0gKHZhbHVlLCB2aXNpYmxlLCBmaXJzdCkgPT4gewogICAgICBpZiAodGltZVVzZXJJbnB1dC52YWx1ZS5taW4pIHJldHVybjsKCiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIGxlZnREYXRlLnZhbHVlID0gdmFsdWU7CiAgICAgICAgbWluRGF0ZS52YWx1ZSA9IChtaW5EYXRlLnZhbHVlIHx8IGxlZnREYXRlLnZhbHVlKS5ob3VyKHZhbHVlLmhvdXIoKSkubWludXRlKHZhbHVlLm1pbnV0ZSgpKS5zZWNvbmQodmFsdWUuc2Vjb25kKCkpOwogICAgICB9CgogICAgICBpZiAoIWZpcnN0KSB7CiAgICAgICAgbWluVGltZVBpY2tlclZpc2libGUudmFsdWUgPSB2aXNpYmxlOwogICAgICB9CgogICAgICBpZiAoIW1heERhdGUudmFsdWUgfHwgbWF4RGF0ZS52YWx1ZS5pc0JlZm9yZShtaW5EYXRlLnZhbHVlKSkgewogICAgICAgIG1heERhdGUudmFsdWUgPSBtaW5EYXRlLnZhbHVlOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IGhhbmRsZU1heFRpbWVQaWNrID0gKHZhbHVlLCB2aXNpYmxlLCBmaXJzdCkgPT4gewogICAgICBpZiAodGltZVVzZXJJbnB1dC52YWx1ZS5tYXgpIHJldHVybjsKCiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIHJpZ2h0RGF0ZS52YWx1ZSA9IHZhbHVlOwogICAgICAgIG1heERhdGUudmFsdWUgPSAobWF4RGF0ZS52YWx1ZSB8fCByaWdodERhdGUudmFsdWUpLmhvdXIodmFsdWUuaG91cigpKS5taW51dGUodmFsdWUubWludXRlKCkpLnNlY29uZCh2YWx1ZS5zZWNvbmQoKSk7CiAgICAgIH0KCiAgICAgIGlmICghZmlyc3QpIHsKICAgICAgICBtYXhUaW1lUGlja2VyVmlzaWJsZS52YWx1ZSA9IHZpc2libGU7CiAgICAgIH0KCiAgICAgIGlmIChtYXhEYXRlLnZhbHVlICYmIG1heERhdGUudmFsdWUuaXNCZWZvcmUobWluRGF0ZS52YWx1ZSkpIHsKICAgICAgICBtaW5EYXRlLnZhbHVlID0gbWF4RGF0ZS52YWx1ZTsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBoYW5kbGVDbGVhciA9ICgpID0+IHsKICAgICAgbGVmdERhdGUudmFsdWUgPSBnZXREZWZhdWx0VmFsdWUoKVswXTsKICAgICAgcmlnaHREYXRlLnZhbHVlID0gbGVmdERhdGUudmFsdWUuYWRkKDEsICJtb250aCIpOwogICAgICBjdHguZW1pdCgicGljayIsIG51bGwpOwogICAgfTsKCiAgICBjb25zdCBmb3JtYXRUb1N0cmluZyA9IHZhbHVlID0+IHsKICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKF8gPT4gXy5mb3JtYXQoZm9ybWF0KSkgOiB2YWx1ZS5mb3JtYXQoZm9ybWF0KTsKICAgIH07CgogICAgY29uc3QgcGFyc2VVc2VySW5wdXQgPSB2YWx1ZSA9PiB7CiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChfID0+IGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oXywgZm9ybWF0KSkgOiBkYXlqc19fZGVmYXVsdFsnZGVmYXVsdCddKHZhbHVlLCBmb3JtYXQpOwogICAgfTsKCiAgICBjb25zdCBnZXREZWZhdWx0VmFsdWUgPSAoKSA9PiB7CiAgICAgIGxldCBzdGFydDsKCiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlZmF1bHRWYWx1ZSkpIHsKICAgICAgICBjb25zdCBsZWZ0ID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXShkZWZhdWx0VmFsdWVbMF0pOwogICAgICAgIGxldCByaWdodCA9IGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oZGVmYXVsdFZhbHVlWzFdKTsKCiAgICAgICAgaWYgKCFwcm9wcy51bmxpbmtQYW5lbHMpIHsKICAgICAgICAgIHJpZ2h0ID0gbGVmdC5hZGQoMSwgIm1vbnRoIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XTsKICAgICAgfSBlbHNlIGlmIChkZWZhdWx0VmFsdWUpIHsKICAgICAgICBzdGFydCA9IGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oZGVmYXVsdFZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGFydCA9IGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtzdGFydCwgc3RhcnQuYWRkKDEsICJtb250aCIpXTsKICAgIH07CgogICAgY3R4LmVtaXQoInNldC1waWNrZXItb3B0aW9uIiwgWyJpc1ZhbGlkVmFsdWUiLCBpc1ZhbGlkVmFsdWVdKTsKICAgIGN0eC5lbWl0KCJzZXQtcGlja2VyLW9wdGlvbiIsIFsicGFyc2VVc2VySW5wdXQiLCBwYXJzZVVzZXJJbnB1dF0pOwogICAgY3R4LmVtaXQoInNldC1waWNrZXItb3B0aW9uIiwgWyJmb3JtYXRUb1N0cmluZyIsIGZvcm1hdFRvU3RyaW5nXSk7CiAgICBjdHguZW1pdCgic2V0LXBpY2tlci1vcHRpb24iLCBbImhhbmRsZUNsZWFyIiwgaGFuZGxlQ2xlYXJdKTsKICAgIGNvbnN0IHBpY2tlckJhc2UgPSB2dWUuaW5qZWN0KCJFUF9QSUNLRVJfQkFTRSIpOwogICAgY29uc3QgewogICAgICBzaG9ydGN1dHMsCiAgICAgIGRpc2FibGVkRGF0ZSwKICAgICAgY2VsbENsYXNzTmFtZSwKICAgICAgZm9ybWF0LAogICAgICBkZWZhdWx0VGltZSwKICAgICAgZGVmYXVsdFZhbHVlLAogICAgICBhcnJvd0NvbnRyb2wsCiAgICAgIGNsZWFyYWJsZQogICAgfSA9IHBpY2tlckJhc2UucHJvcHM7CiAgICB2dWUud2F0Y2goKCkgPT4gcHJvcHMucGFyc2VkVmFsdWUsIG5ld1ZhbCA9PiB7CiAgICAgIGlmIChuZXdWYWwgJiYgbmV3VmFsLmxlbmd0aCA9PT0gMikgewogICAgICAgIG1pbkRhdGUudmFsdWUgPSBuZXdWYWxbMF07CiAgICAgICAgbWF4RGF0ZS52YWx1ZSA9IG5ld1ZhbFsxXTsKICAgICAgICBsZWZ0RGF0ZS52YWx1ZSA9IG1pbkRhdGUudmFsdWU7CgogICAgICAgIGlmIChwcm9wcy51bmxpbmtQYW5lbHMgJiYgbWF4RGF0ZS52YWx1ZSkgewogICAgICAgICAgY29uc3QgbWluRGF0ZVllYXIgPSBtaW5EYXRlLnZhbHVlLnllYXIoKTsKICAgICAgICAgIGNvbnN0IG1pbkRhdGVNb250aCA9IG1pbkRhdGUudmFsdWUubW9udGgoKTsKICAgICAgICAgIGNvbnN0IG1heERhdGVZZWFyID0gbWF4RGF0ZS52YWx1ZS55ZWFyKCk7CiAgICAgICAgICBjb25zdCBtYXhEYXRlTW9udGggPSBtYXhEYXRlLnZhbHVlLm1vbnRoKCk7CiAgICAgICAgICByaWdodERhdGUudmFsdWUgPSBtaW5EYXRlWWVhciA9PT0gbWF4RGF0ZVllYXIgJiYgbWluRGF0ZU1vbnRoID09PSBtYXhEYXRlTW9udGggPyBtYXhEYXRlLnZhbHVlLmFkZCgxLCAibW9udGgiKSA6IG1heERhdGUudmFsdWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJpZ2h0RGF0ZS52YWx1ZSA9IGxlZnREYXRlLnZhbHVlLmFkZCgxLCAibW9udGgiKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZGVmYXVsdEFyciA9IGdldERlZmF1bHRWYWx1ZSgpOwogICAgICAgIG1pbkRhdGUudmFsdWUgPSBudWxsOwogICAgICAgIG1heERhdGUudmFsdWUgPSBudWxsOwogICAgICAgIGxlZnREYXRlLnZhbHVlID0gZGVmYXVsdEFyclswXTsKICAgICAgICByaWdodERhdGUudmFsdWUgPSBkZWZhdWx0QXJyWzFdOwogICAgICB9CiAgICB9LCB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBzaG9ydGN1dHMsCiAgICAgIGRpc2FibGVkRGF0ZSwKICAgICAgY2VsbENsYXNzTmFtZSwKICAgICAgbWluVGltZVBpY2tlclZpc2libGUsCiAgICAgIG1heFRpbWVQaWNrZXJWaXNpYmxlLAogICAgICBoYW5kbGVNaW5UaW1lQ2xvc2UsCiAgICAgIGhhbmRsZU1heFRpbWVDbG9zZSwKICAgICAgaGFuZGxlU2hvcnRjdXRDbGljaywKICAgICAgcmFuZ2VTdGF0ZSwKICAgICAgbWluRGF0ZSwKICAgICAgbWF4RGF0ZSwKICAgICAgaGFuZGxlUmFuZ2VQaWNrLAogICAgICBvblNlbGVjdCwKICAgICAgaGFuZGxlQ2hhbmdlUmFuZ2UsCiAgICAgIGJ0bkRpc2FibGVkLAogICAgICBlbmFibGVZZWFyQXJyb3csCiAgICAgIGVuYWJsZU1vbnRoQXJyb3csCiAgICAgIHJpZ2h0UHJldk1vbnRoLAogICAgICByaWdodFByZXZZZWFyLAogICAgICByaWdodE5leHRNb250aCwKICAgICAgcmlnaHROZXh0WWVhciwKICAgICAgbGVmdFByZXZNb250aCwKICAgICAgbGVmdFByZXZZZWFyLAogICAgICBsZWZ0TmV4dE1vbnRoLAogICAgICBsZWZ0TmV4dFllYXIsCiAgICAgIGhhc1Nob3J0Y3V0cywKICAgICAgbGVmdExhYmVsLAogICAgICByaWdodExhYmVsLAogICAgICBsZWZ0RGF0ZSwKICAgICAgcmlnaHREYXRlLAogICAgICBzaG93VGltZSwKICAgICAgdDogbG9jYWxlLnQsCiAgICAgIG1pblZpc2libGVEYXRlLAogICAgICBtYXhWaXNpYmxlRGF0ZSwKICAgICAgbWluVmlzaWJsZVRpbWUsCiAgICAgIG1heFZpc2libGVUaW1lLAogICAgICBhcnJvd0NvbnRyb2wsCiAgICAgIGhhbmRsZURhdGVJbnB1dCwKICAgICAgaGFuZGxlRGF0ZUNoYW5nZSwKICAgICAgaGFuZGxlVGltZUlucHV0LAogICAgICBoYW5kbGVUaW1lQ2hhbmdlLAogICAgICBoYW5kbGVNaW5UaW1lUGljaywKICAgICAgaGFuZGxlTWF4VGltZVBpY2ssCiAgICAgIGhhbmRsZUNsZWFyLAogICAgICBoYW5kbGVDb25maXJtLAogICAgICB0aW1lRm9ybWF0LAogICAgICBjbGVhcmFibGUKICAgIH07CiAgfQoKfSk7CmNvbnN0IF9ob2lzdGVkXzEkNCA9IHsKICBjbGFzczogImVsLXBpY2tlci1wYW5lbF9fYm9keS13cmFwcGVyIgp9Owpjb25zdCBfaG9pc3RlZF8yJDIgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19zaWRlYmFyIgp9Owpjb25zdCBfaG9pc3RlZF8zJDIgPSB7CiAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX2JvZHkiCn07CmNvbnN0IF9ob2lzdGVkXzQkMiA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJlbC1kYXRlLXJhbmdlLXBpY2tlcl9fdGltZS1oZWFkZXIiCn07CmNvbnN0IF9ob2lzdGVkXzUkMiA9IHsKICBjbGFzczogImVsLWRhdGUtcmFuZ2UtcGlja2VyX19lZGl0b3JzLXdyYXAiCn07CmNvbnN0IF9ob2lzdGVkXzYkMiA9IHsKICBjbGFzczogImVsLWRhdGUtcmFuZ2UtcGlja2VyX190aW1lLXBpY2tlci13cmFwIgp9Owpjb25zdCBfaG9pc3RlZF83JDIgPSB7CiAgY2xhc3M6ICJlbC1kYXRlLXJhbmdlLXBpY2tlcl9fdGltZS1waWNrZXItd3JhcCIKfTsKCmNvbnN0IF9ob2lzdGVkXzgkMiA9IC8qIEBfX1BVUkVfXyAqL3Z1ZS5jcmVhdGVWTm9kZSgic3BhbiIsIHsKICBjbGFzczogImVsLWljb24tYXJyb3ctcmlnaHQiCn0sIG51bGwsIC0xKTsKCmNvbnN0IF9ob2lzdGVkXzkkMSA9IHsKICBjbGFzczogImVsLWRhdGUtcmFuZ2UtcGlja2VyX19lZGl0b3JzLXdyYXAgaXMtcmlnaHQiCn07CmNvbnN0IF9ob2lzdGVkXzEwJDEgPSB7CiAgY2xhc3M6ICJlbC1kYXRlLXJhbmdlLXBpY2tlcl9fdGltZS1waWNrZXItd3JhcCIKfTsKY29uc3QgX2hvaXN0ZWRfMTEkMSA9IHsKICBjbGFzczogImVsLWRhdGUtcmFuZ2UtcGlja2VyX190aW1lLXBpY2tlci13cmFwIgp9Owpjb25zdCBfaG9pc3RlZF8xMiQxID0gewogIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19jb250ZW50IGVsLWRhdGUtcmFuZ2UtcGlja2VyX19jb250ZW50IGlzLWxlZnQiCn07CmNvbnN0IF9ob2lzdGVkXzEzID0gewogIGNsYXNzOiAiZWwtZGF0ZS1yYW5nZS1waWNrZXJfX2hlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMTQgPSB7CiAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX2NvbnRlbnQgZWwtZGF0ZS1yYW5nZS1waWNrZXJfX2NvbnRlbnQgaXMtcmlnaHQiCn07CmNvbnN0IF9ob2lzdGVkXzE1ID0gewogIGNsYXNzOiAiZWwtZGF0ZS1yYW5nZS1waWNrZXJfX2hlYWRlciIKfTsKY29uc3QgX2hvaXN0ZWRfMTYgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19mb290ZXIiCn07CgpmdW5jdGlvbiByZW5kZXIkNChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X2VsX2lucHV0ID0gdnVlLnJlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CgogIGNvbnN0IF9jb21wb25lbnRfdGltZV9waWNrX3BhbmVsID0gdnVlLnJlc29sdmVDb21wb25lbnQoInRpbWUtcGljay1wYW5lbCIpOwoKICBjb25zdCBfY29tcG9uZW50X2RhdGVfdGFibGUgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiZGF0ZS10YWJsZSIpOwoKICBjb25zdCBfY29tcG9uZW50X2VsX2J1dHRvbiA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKCiAgY29uc3QgX2RpcmVjdGl2ZV9jbGlja291dHNpZGUgPSB2dWUucmVzb2x2ZURpcmVjdGl2ZSgiY2xpY2tvdXRzaWRlIik7CgogIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jaygiZGl2IiwgewogICAgY2xhc3M6IFsiZWwtcGlja2VyLXBhbmVsIGVsLWRhdGUtcmFuZ2UtcGlja2VyIiwgW3sKICAgICAgImhhcy1zaWRlYmFyIjogX2N0eC4kc2xvdHMuc2lkZWJhciB8fCBfY3R4Lmhhc1Nob3J0Y3V0cywKICAgICAgImhhcy10aW1lIjogX2N0eC5zaG93VGltZQogICAgfV1dCiAgfSwgW3Z1ZS5jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSQ0LCBbdnVlLnJlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJzaWRlYmFyIiwgewogICAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX3NpZGViYXIiCiAgfSksIF9jdHguaGFzU2hvcnRjdXRzID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yJDIsIFsodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUJsb2NrKHZ1ZS5GcmFnbWVudCwgbnVsbCwgdnVlLnJlbmRlckxpc3QoX2N0eC5zaG9ydGN1dHMsIChzaG9ydGN1dCwga2V5KSA9PiB7CiAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soImJ1dHRvbiIsIHsKICAgICAga2V5LAogICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX3Nob3J0Y3V0IiwKICAgICAgb25DbGljazogJGV2ZW50ID0+IF9jdHguaGFuZGxlU2hvcnRjdXRDbGljayhzaG9ydGN1dCkKICAgIH0sIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoc2hvcnRjdXQudGV4dCksIDksIFsib25DbGljayJdKTsKICB9KSwgMTI4KSldKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIHZ1ZS5jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMyQyLCBbX2N0eC5zaG93VGltZSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNCQyLCBbdnVlLmNyZWF0ZVZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNSQyLCBbdnVlLmNyZWF0ZVZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNiQyLCBbdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgIHNpemU6ICJzbWFsbCIsCiAgICBkaXNhYmxlZDogX2N0eC5yYW5nZVN0YXRlLnNlbGVjdGluZywKICAgIHBsYWNlaG9sZGVyOiBfY3R4LnQoImVsLmRhdGVwaWNrZXIuc3RhcnREYXRlIiksCiAgICBjbGFzczogImVsLWRhdGUtcmFuZ2UtcGlja2VyX19lZGl0b3IiLAogICAgIm1vZGVsLXZhbHVlIjogX2N0eC5taW5WaXNpYmxlRGF0ZSwKICAgIG9uSW5wdXQ6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gdmFsID0+IF9jdHguaGFuZGxlRGF0ZUlucHV0KHZhbCwgIm1pbiIpKSwKICAgIG9uQ2hhbmdlOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IHZhbCA9PiBfY3R4LmhhbmRsZURhdGVDaGFuZ2UodmFsLCAibWluIikpCiAgfSwgbnVsbCwgOCwgWyJkaXNhYmxlZCIsICJwbGFjZWhvbGRlciIsICJtb2RlbC12YWx1ZSJdKV0pLCB2dWUud2l0aERpcmVjdGl2ZXModnVlLmNyZWF0ZVZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNyQyLCBbdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgIHNpemU6ICJzbWFsbCIsCiAgICBjbGFzczogImVsLWRhdGUtcmFuZ2UtcGlja2VyX19lZGl0b3IiLAogICAgZGlzYWJsZWQ6IF9jdHgucmFuZ2VTdGF0ZS5zZWxlY3RpbmcsCiAgICBwbGFjZWhvbGRlcjogX2N0eC50KCJlbC5kYXRlcGlja2VyLnN0YXJ0VGltZSIpLAogICAgIm1vZGVsLXZhbHVlIjogX2N0eC5taW5WaXNpYmxlVGltZSwKICAgIG9uRm9jdXM6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gJGV2ZW50ID0+IF9jdHgubWluVGltZVBpY2tlclZpc2libGUgPSB0cnVlKSwKICAgIG9uSW5wdXQ6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gdmFsID0+IF9jdHguaGFuZGxlVGltZUlucHV0KHZhbCwgIm1pbiIpKSwKICAgIG9uQ2hhbmdlOiBfY2FjaGVbNV0gfHwgKF9jYWNoZVs1XSA9IHZhbCA9PiBfY3R4LmhhbmRsZVRpbWVDaGFuZ2UodmFsLCAibWluIikpCiAgfSwgbnVsbCwgOCwgWyJkaXNhYmxlZCIsICJwbGFjZWhvbGRlciIsICJtb2RlbC12YWx1ZSJdKSwgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfdGltZV9waWNrX3BhbmVsLCB7CiAgICB2aXNpYmxlOiBfY3R4Lm1pblRpbWVQaWNrZXJWaXNpYmxlLAogICAgZm9ybWF0OiBfY3R4LnRpbWVGb3JtYXQsCiAgICAiZGF0ZXRpbWUtcm9sZSI6ICJzdGFydCIsCiAgICAidGltZS1hcnJvdy1jb250cm9sIjogX2N0eC5hcnJvd0NvbnRyb2wsCiAgICAicGFyc2VkLXZhbHVlIjogX2N0eC5sZWZ0RGF0ZSwKICAgIG9uUGljazogX2N0eC5oYW5kbGVNaW5UaW1lUGljawogIH0sIG51bGwsIDgsIFsidmlzaWJsZSIsICJmb3JtYXQiLCAidGltZS1hcnJvdy1jb250cm9sIiwgInBhcnNlZC12YWx1ZSIsICJvblBpY2siXSldLCA1MTIpLCBbW19kaXJlY3RpdmVfY2xpY2tvdXRzaWRlLCBfY3R4LmhhbmRsZU1pblRpbWVDbG9zZV1dKV0pLCBfaG9pc3RlZF84JDIsIHZ1ZS5jcmVhdGVWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzkkMSwgW3Z1ZS5jcmVhdGVWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzEwJDEsIFt2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgc2l6ZTogInNtYWxsIiwKICAgIGNsYXNzOiAiZWwtZGF0ZS1yYW5nZS1waWNrZXJfX2VkaXRvciIsCiAgICBkaXNhYmxlZDogX2N0eC5yYW5nZVN0YXRlLnNlbGVjdGluZywKICAgIHBsYWNlaG9sZGVyOiBfY3R4LnQoImVsLmRhdGVwaWNrZXIuZW5kRGF0ZSIpLAogICAgIm1vZGVsLXZhbHVlIjogX2N0eC5tYXhWaXNpYmxlRGF0ZSwKICAgIHJlYWRvbmx5OiAhX2N0eC5taW5EYXRlLAogICAgb25JbnB1dDogX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSB2YWwgPT4gX2N0eC5oYW5kbGVEYXRlSW5wdXQodmFsLCAibWF4IikpLAogICAgb25DaGFuZ2U6IF9jYWNoZVs3XSB8fCAoX2NhY2hlWzddID0gdmFsID0+IF9jdHguaGFuZGxlRGF0ZUNoYW5nZSh2YWwsICJtYXgiKSkKICB9LCBudWxsLCA4LCBbImRpc2FibGVkIiwgInBsYWNlaG9sZGVyIiwgIm1vZGVsLXZhbHVlIiwgInJlYWRvbmx5Il0pXSksIHZ1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlVk5vZGUoInNwYW4iLCBfaG9pc3RlZF8xMSQxLCBbdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgIHNpemU6ICJzbWFsbCIsCiAgICBjbGFzczogImVsLWRhdGUtcmFuZ2UtcGlja2VyX19lZGl0b3IiLAogICAgZGlzYWJsZWQ6IF9jdHgucmFuZ2VTdGF0ZS5zZWxlY3RpbmcsCiAgICBwbGFjZWhvbGRlcjogX2N0eC50KCJlbC5kYXRlcGlja2VyLmVuZFRpbWUiKSwKICAgICJtb2RlbC12YWx1ZSI6IF9jdHgubWF4VmlzaWJsZVRpbWUsCiAgICByZWFkb25seTogIV9jdHgubWluRGF0ZSwKICAgIG9uRm9jdXM6IF9jYWNoZVs4XSB8fCAoX2NhY2hlWzhdID0gJGV2ZW50ID0+IF9jdHgubWluRGF0ZSAmJiAoX2N0eC5tYXhUaW1lUGlja2VyVmlzaWJsZSA9IHRydWUpKSwKICAgIG9uSW5wdXQ6IF9jYWNoZVs5XSB8fCAoX2NhY2hlWzldID0gdmFsID0+IF9jdHguaGFuZGxlVGltZUlucHV0KHZhbCwgIm1heCIpKSwKICAgIG9uQ2hhbmdlOiBfY2FjaGVbMTBdIHx8IChfY2FjaGVbMTBdID0gdmFsID0+IF9jdHguaGFuZGxlVGltZUNoYW5nZSh2YWwsICJtYXgiKSkKICB9LCBudWxsLCA4LCBbImRpc2FibGVkIiwgInBsYWNlaG9sZGVyIiwgIm1vZGVsLXZhbHVlIiwgInJlYWRvbmx5Il0pLCB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF90aW1lX3BpY2tfcGFuZWwsIHsKICAgICJkYXRldGltZS1yb2xlIjogImVuZCIsCiAgICB2aXNpYmxlOiBfY3R4Lm1heFRpbWVQaWNrZXJWaXNpYmxlLAogICAgZm9ybWF0OiBfY3R4LnRpbWVGb3JtYXQsCiAgICAidGltZS1hcnJvdy1jb250cm9sIjogX2N0eC5hcnJvd0NvbnRyb2wsCiAgICAicGFyc2VkLXZhbHVlIjogX2N0eC5yaWdodERhdGUsCiAgICBvblBpY2s6IF9jdHguaGFuZGxlTWF4VGltZVBpY2sKICB9LCBudWxsLCA4LCBbInZpc2libGUiLCAiZm9ybWF0IiwgInRpbWUtYXJyb3ctY29udHJvbCIsICJwYXJzZWQtdmFsdWUiLCAib25QaWNrIl0pXSwgNTEyKSwgW1tfZGlyZWN0aXZlX2NsaWNrb3V0c2lkZSwgX2N0eC5oYW5kbGVNYXhUaW1lQ2xvc2VdXSldKV0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgdnVlLmNyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMiQxLCBbdnVlLmNyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMywgW3Z1ZS5jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgdHlwZTogImJ1dHRvbiIsCiAgICBjbGFzczogImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1kLWFycm93LWxlZnQiLAogICAgb25DbGljazogX2NhY2hlWzExXSB8fCAoX2NhY2hlWzExXSA9ICguLi5hcmdzKSA9PiBfY3R4LmxlZnRQcmV2WWVhciAmJiBfY3R4LmxlZnRQcmV2WWVhciguLi5hcmdzKSkKICB9KSwgdnVlLmNyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICB0eXBlOiAiYnV0dG9uIiwKICAgIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1pY29uLWFycm93LWxlZnQiLAogICAgb25DbGljazogX2NhY2hlWzEyXSB8fCAoX2NhY2hlWzEyXSA9ICguLi5hcmdzKSA9PiBfY3R4LmxlZnRQcmV2TW9udGggJiYgX2N0eC5sZWZ0UHJldk1vbnRoKC4uLmFyZ3MpKQogIH0pLCBfY3R4LnVubGlua1BhbmVscyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiAwLAogICAgdHlwZTogImJ1dHRvbiIsCiAgICBkaXNhYmxlZDogIV9jdHguZW5hYmxlWWVhckFycm93LAogICAgY2xhc3M6IFt7CiAgICAgICJpcy1kaXNhYmxlZCI6ICFfY3R4LmVuYWJsZVllYXJBcnJvdwogICAgfSwgImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1kLWFycm93LXJpZ2h0Il0sCiAgICBvbkNsaWNrOiBfY2FjaGVbMTNdIHx8IChfY2FjaGVbMTNdID0gKC4uLmFyZ3MpID0+IF9jdHgubGVmdE5leHRZZWFyICYmIF9jdHgubGVmdE5leHRZZWFyKC4uLmFyZ3MpKQogIH0sIG51bGwsIDEwLCBbImRpc2FibGVkIl0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2N0eC51bmxpbmtQYW5lbHMgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogMSwKICAgIHR5cGU6ICJidXR0b24iLAogICAgZGlzYWJsZWQ6ICFfY3R4LmVuYWJsZU1vbnRoQXJyb3csCiAgICBjbGFzczogW3sKICAgICAgImlzLWRpc2FibGVkIjogIV9jdHguZW5hYmxlTW9udGhBcnJvdwogICAgfSwgImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1hcnJvdy1yaWdodCJdLAogICAgb25DbGljazogX2NhY2hlWzE0XSB8fCAoX2NhY2hlWzE0XSA9ICguLi5hcmdzKSA9PiBfY3R4LmxlZnROZXh0TW9udGggJiYgX2N0eC5sZWZ0TmV4dE1vbnRoKC4uLmFyZ3MpKQogIH0sIG51bGwsIDEwLCBbImRpc2FibGVkIl0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgdnVlLmNyZWF0ZVZOb2RlKCJkaXYiLCBudWxsLCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHgubGVmdExhYmVsKSwgMSldKSwgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfZGF0ZV90YWJsZSwgewogICAgInNlbGVjdGlvbi1tb2RlIjogInJhbmdlIiwKICAgIGRhdGU6IF9jdHgubGVmdERhdGUsCiAgICAibWluLWRhdGUiOiBfY3R4Lm1pbkRhdGUsCiAgICAibWF4LWRhdGUiOiBfY3R4Lm1heERhdGUsCiAgICAicmFuZ2Utc3RhdGUiOiBfY3R4LnJhbmdlU3RhdGUsCiAgICAiZGlzYWJsZWQtZGF0ZSI6IF9jdHguZGlzYWJsZWREYXRlLAogICAgImNlbGwtY2xhc3MtbmFtZSI6IF9jdHguY2VsbENsYXNzTmFtZSwKICAgIG9uQ2hhbmdlcmFuZ2U6IF9jdHguaGFuZGxlQ2hhbmdlUmFuZ2UsCiAgICBvblBpY2s6IF9jdHguaGFuZGxlUmFuZ2VQaWNrLAogICAgb25TZWxlY3Q6IF9jdHgub25TZWxlY3QKICB9LCBudWxsLCA4LCBbImRhdGUiLCAibWluLWRhdGUiLCAibWF4LWRhdGUiLCAicmFuZ2Utc3RhdGUiLCAiZGlzYWJsZWQtZGF0ZSIsICJjZWxsLWNsYXNzLW5hbWUiLCAib25DaGFuZ2VyYW5nZSIsICJvblBpY2siLCAib25TZWxlY3QiXSldKSwgdnVlLmNyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNCwgW3Z1ZS5jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTUsIFtfY3R4LnVubGlua1BhbmVscyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiAwLAogICAgdHlwZTogImJ1dHRvbiIsCiAgICBkaXNhYmxlZDogIV9jdHguZW5hYmxlWWVhckFycm93LAogICAgY2xhc3M6IFt7CiAgICAgICJpcy1kaXNhYmxlZCI6ICFfY3R4LmVuYWJsZVllYXJBcnJvdwogICAgfSwgImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1kLWFycm93LWxlZnQiXSwKICAgIG9uQ2xpY2s6IF9jYWNoZVsxNV0gfHwgKF9jYWNoZVsxNV0gPSAoLi4uYXJncykgPT4gX2N0eC5yaWdodFByZXZZZWFyICYmIF9jdHgucmlnaHRQcmV2WWVhciguLi5hcmdzKSkKICB9LCBudWxsLCAxMCwgWyJkaXNhYmxlZCJdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jdHgudW5saW5rUGFuZWxzID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJidXR0b24iLCB7CiAgICBrZXk6IDEsCiAgICB0eXBlOiAiYnV0dG9uIiwKICAgIGRpc2FibGVkOiAhX2N0eC5lbmFibGVNb250aEFycm93LAogICAgY2xhc3M6IFt7CiAgICAgICJpcy1kaXNhYmxlZCI6ICFfY3R4LmVuYWJsZU1vbnRoQXJyb3cKICAgIH0sICJlbC1waWNrZXItcGFuZWxfX2ljb24tYnRuIGVsLWljb24tYXJyb3ctbGVmdCJdLAogICAgb25DbGljazogX2NhY2hlWzE2XSB8fCAoX2NhY2hlWzE2XSA9ICguLi5hcmdzKSA9PiBfY3R4LnJpZ2h0UHJldk1vbnRoICYmIF9jdHgucmlnaHRQcmV2TW9udGgoLi4uYXJncykpCiAgfSwgbnVsbCwgMTAsIFsiZGlzYWJsZWQiXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCB2dWUuY3JlYXRlVk5vZGUoImJ1dHRvbiIsIHsKICAgIHR5cGU6ICJidXR0b24iLAogICAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX2ljb24tYnRuIGVsLWljb24tZC1hcnJvdy1yaWdodCIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMTddIHx8IChfY2FjaGVbMTddID0gKC4uLmFyZ3MpID0+IF9jdHgucmlnaHROZXh0WWVhciAmJiBfY3R4LnJpZ2h0TmV4dFllYXIoLi4uYXJncykpCiAgfSksIHZ1ZS5jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgdHlwZTogImJ1dHRvbiIsCiAgICBjbGFzczogImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1hcnJvdy1yaWdodCIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMThdIHx8IChfY2FjaGVbMThdID0gKC4uLmFyZ3MpID0+IF9jdHgucmlnaHROZXh0TW9udGggJiYgX2N0eC5yaWdodE5leHRNb250aCguLi5hcmdzKSkKICB9KSwgdnVlLmNyZWF0ZVZOb2RlKCJkaXYiLCBudWxsLCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHgucmlnaHRMYWJlbCksIDEpXSksIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X2RhdGVfdGFibGUsIHsKICAgICJzZWxlY3Rpb24tbW9kZSI6ICJyYW5nZSIsCiAgICBkYXRlOiBfY3R4LnJpZ2h0RGF0ZSwKICAgICJtaW4tZGF0ZSI6IF9jdHgubWluRGF0ZSwKICAgICJtYXgtZGF0ZSI6IF9jdHgubWF4RGF0ZSwKICAgICJyYW5nZS1zdGF0ZSI6IF9jdHgucmFuZ2VTdGF0ZSwKICAgICJkaXNhYmxlZC1kYXRlIjogX2N0eC5kaXNhYmxlZERhdGUsCiAgICAiY2VsbC1jbGFzcy1uYW1lIjogX2N0eC5jZWxsQ2xhc3NOYW1lLAogICAgb25DaGFuZ2VyYW5nZTogX2N0eC5oYW5kbGVDaGFuZ2VSYW5nZSwKICAgIG9uUGljazogX2N0eC5oYW5kbGVSYW5nZVBpY2ssCiAgICBvblNlbGVjdDogX2N0eC5vblNlbGVjdAogIH0sIG51bGwsIDgsIFsiZGF0ZSIsICJtaW4tZGF0ZSIsICJtYXgtZGF0ZSIsICJyYW5nZS1zdGF0ZSIsICJkaXNhYmxlZC1kYXRlIiwgImNlbGwtY2xhc3MtbmFtZSIsICJvbkNoYW5nZXJhbmdlIiwgIm9uUGljayIsICJvblNlbGVjdCJdKV0pXSldKSwgX2N0eC5zaG93VGltZSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTYsIFtfY3R4LmNsZWFyYWJsZSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAga2V5OiAwLAogICAgc2l6ZTogIm1pbmkiLAogICAgdHlwZTogInRleHQiLAogICAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX2xpbmstYnRuIiwKICAgIG9uQ2xpY2s6IF9jdHguaGFuZGxlQ2xlYXIKICB9LCB7CiAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbdnVlLmNyZWF0ZVRleHRWTm9kZSh2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHgudCgiZWwuZGF0ZXBpY2tlci5jbGVhciIpKSwgMSldKSwKICAgIF86IDEKICB9LCA4LCBbIm9uQ2xpY2siXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgIHBsYWluOiAiIiwKICAgIHNpemU6ICJtaW5pIiwKICAgIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19saW5rLWJ0biIsCiAgICBkaXNhYmxlZDogX2N0eC5idG5EaXNhYmxlZCwKICAgIG9uQ2xpY2s6IF9jYWNoZVsxOV0gfHwgKF9jYWNoZVsxOV0gPSAkZXZlbnQgPT4gX2N0eC5oYW5kbGVDb25maXJtKGZhbHNlKSkKICB9LCB7CiAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbdnVlLmNyZWF0ZVRleHRWTm9kZSh2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHgudCgiZWwuZGF0ZXBpY2tlci5jb25maXJtIikpLCAxKV0pLAogICAgXzogMQogIH0sIDgsIFsiZGlzYWJsZWQiXSldKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldLCAyKTsKfQoKc2NyaXB0JDQucmVuZGVyID0gcmVuZGVyJDQ7CnNjcmlwdCQ0Ll9fZmlsZSA9ICJwYWNrYWdlcy9kYXRlLXBpY2tlci9zcmMvZGF0ZS1waWNrZXItY29tL3BhbmVsLWRhdGUtcmFuZ2UudnVlIjsKdmFyIHNjcmlwdCQ1ID0gdnVlLmRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgTW9udGhUYWJsZTogc2NyaXB0JDEKICB9LAogIHByb3BzOiB7CiAgICB1bmxpbmtQYW5lbHM6IEJvb2xlYW4sCiAgICBwYXJzZWRWYWx1ZTogewogICAgICB0eXBlOiBBcnJheQogICAgfQogIH0sCiAgZW1pdHM6IFsicGljayIsICJzZXQtcGlja2VyLW9wdGlvbiJdLAoKICBzZXR1cChwcm9wcywgY3R4KSB7CiAgICBjb25zdCBsZWZ0RGF0ZSA9IHZ1ZS5yZWYoZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSgpKTsKICAgIGNvbnN0IHJpZ2h0RGF0ZSA9IHZ1ZS5yZWYoZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSgpLmFkZCgxLCAieWVhciIpKTsKICAgIGNvbnN0IGhhc1Nob3J0Y3V0cyA9IHZ1ZS5jb21wdXRlZCgoKSA9PiAhIXNob3J0Y3V0cy5sZW5ndGgpOwoKICAgIGNvbnN0IGhhbmRsZVNob3J0Y3V0Q2xpY2sgPSBzaG9ydGN1dCA9PiB7CiAgICAgIGlmIChzaG9ydGN1dC52YWx1ZSkgewogICAgICAgIGN0eC5lbWl0KCJwaWNrIiwgW2RheWpzX19kZWZhdWx0WydkZWZhdWx0J10oc2hvcnRjdXQudmFsdWVbMF0pLCBkYXlqc19fZGVmYXVsdFsnZGVmYXVsdCddKHNob3J0Y3V0LnZhbHVlWzFdKV0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHNob3J0Y3V0Lm9uQ2xpY2spIHsKICAgICAgICBzaG9ydGN1dC5vbkNsaWNrKGN0eCk7CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgbGVmdFByZXZZZWFyID0gKCkgPT4gewogICAgICBsZWZ0RGF0ZS52YWx1ZSA9IGxlZnREYXRlLnZhbHVlLnN1YnRyYWN0KDEsICJ5ZWFyIik7CgogICAgICBpZiAoIXByb3BzLnVubGlua1BhbmVscykgewogICAgICAgIHJpZ2h0RGF0ZS52YWx1ZSA9IHJpZ2h0RGF0ZS52YWx1ZS5zdWJ0cmFjdCgxLCAieWVhciIpOwogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IHJpZ2h0TmV4dFllYXIgPSAoKSA9PiB7CiAgICAgIGlmICghcHJvcHMudW5saW5rUGFuZWxzKSB7CiAgICAgICAgbGVmdERhdGUudmFsdWUgPSBsZWZ0RGF0ZS52YWx1ZS5hZGQoMSwgInllYXIiKTsKICAgICAgfQoKICAgICAgcmlnaHREYXRlLnZhbHVlID0gcmlnaHREYXRlLnZhbHVlLmFkZCgxLCAieWVhciIpOwogICAgfTsKCiAgICBjb25zdCBsZWZ0TmV4dFllYXIgPSAoKSA9PiB7CiAgICAgIGxlZnREYXRlLnZhbHVlID0gbGVmdERhdGUudmFsdWUuYWRkKDEsICJ5ZWFyIik7CiAgICB9OwoKICAgIGNvbnN0IHJpZ2h0UHJldlllYXIgPSAoKSA9PiB7CiAgICAgIHJpZ2h0RGF0ZS52YWx1ZSA9IHJpZ2h0RGF0ZS52YWx1ZS5zdWJ0cmFjdCgxLCAieWVhciIpOwogICAgfTsKCiAgICBjb25zdCBsZWZ0TGFiZWwgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gYCR7bGVmdERhdGUudmFsdWUueWVhcigpfSAke2xvY2FsZS50KCJlbC5kYXRlcGlja2VyLnllYXIiKX1gOwogICAgfSk7CiAgICBjb25zdCByaWdodExhYmVsID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIGAke3JpZ2h0RGF0ZS52YWx1ZS55ZWFyKCl9ICR7bG9jYWxlLnQoImVsLmRhdGVwaWNrZXIueWVhciIpfWA7CiAgICB9KTsKICAgIGNvbnN0IGxlZnRZZWFyID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIGxlZnREYXRlLnZhbHVlLnllYXIoKTsKICAgIH0pOwogICAgY29uc3QgcmlnaHRZZWFyID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgcmV0dXJuIHJpZ2h0RGF0ZS52YWx1ZS55ZWFyKCkgPT09IGxlZnREYXRlLnZhbHVlLnllYXIoKSA/IGxlZnREYXRlLnZhbHVlLnllYXIoKSArIDEgOiByaWdodERhdGUudmFsdWUueWVhcigpOwogICAgfSk7CiAgICBjb25zdCBlbmFibGVZZWFyQXJyb3cgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gcHJvcHMudW5saW5rUGFuZWxzICYmIHJpZ2h0WWVhci52YWx1ZSA+IGxlZnRZZWFyLnZhbHVlICsgMTsKICAgIH0pOwogICAgY29uc3QgbWluRGF0ZSA9IHZ1ZS5yZWYobnVsbCk7CiAgICBjb25zdCBtYXhEYXRlID0gdnVlLnJlZihudWxsKTsKICAgIGNvbnN0IHJhbmdlU3RhdGUgPSB2dWUucmVmKHsKICAgICAgZW5kRGF0ZTogbnVsbCwKICAgICAgc2VsZWN0aW5nOiBmYWxzZQogICAgfSk7CgogICAgY29uc3QgaGFuZGxlQ2hhbmdlUmFuZ2UgPSB2YWwgPT4gewogICAgICByYW5nZVN0YXRlLnZhbHVlID0gdmFsOwogICAgfTsKCiAgICBjb25zdCBoYW5kbGVSYW5nZVBpY2sgPSAodmFsLCBjbG9zZSA9IHRydWUpID0+IHsKICAgICAgY29uc3QgbWluRGF0ZV8gPSB2YWwubWluRGF0ZTsKICAgICAgY29uc3QgbWF4RGF0ZV8gPSB2YWwubWF4RGF0ZTsKCiAgICAgIGlmIChtYXhEYXRlLnZhbHVlID09PSBtYXhEYXRlXyAmJiBtaW5EYXRlLnZhbHVlID09PSBtaW5EYXRlXykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgbWF4RGF0ZS52YWx1ZSA9IG1heERhdGVfOwogICAgICBtaW5EYXRlLnZhbHVlID0gbWluRGF0ZV87CiAgICAgIGlmICghY2xvc2UpIHJldHVybjsKICAgICAgaGFuZGxlQ29uZmlybSgpOwogICAgfTsKCiAgICBjb25zdCBpc1ZhbGlkVmFsdWUgPSB2YWx1ZSA9PiB7CiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZSAmJiB2YWx1ZVswXSAmJiB2YWx1ZVsxXSAmJiB2YWx1ZVswXS52YWx1ZU9mKCkgPD0gdmFsdWVbMV0udmFsdWVPZigpOwogICAgfTsKCiAgICBjb25zdCBoYW5kbGVDb25maXJtID0gKHZpc2libGUgPSBmYWxzZSkgPT4gewogICAgICBpZiAoaXNWYWxpZFZhbHVlKFttaW5EYXRlLnZhbHVlLCBtYXhEYXRlLnZhbHVlXSkpIHsKICAgICAgICBjdHguZW1pdCgicGljayIsIFttaW5EYXRlLnZhbHVlLCBtYXhEYXRlLnZhbHVlXSwgdmlzaWJsZSk7CiAgICAgIH0KICAgIH07CgogICAgY29uc3Qgb25TZWxlY3QgPSBzZWxlY3RpbmcgPT4gewogICAgICByYW5nZVN0YXRlLnZhbHVlLnNlbGVjdGluZyA9IHNlbGVjdGluZzsKCiAgICAgIGlmICghc2VsZWN0aW5nKSB7CiAgICAgICAgcmFuZ2VTdGF0ZS52YWx1ZS5lbmREYXRlID0gbnVsbDsKICAgICAgfQogICAgfTsKCiAgICBjb25zdCBmb3JtYXRUb1N0cmluZyA9IHZhbHVlID0+IHsKICAgICAgcmV0dXJuIHZhbHVlLm1hcChfID0+IF8uZm9ybWF0KGZvcm1hdCkpOwogICAgfTsKCiAgICBjb25zdCBnZXREZWZhdWx0VmFsdWUgPSAoKSA9PiB7CiAgICAgIGxldCBzdGFydDsKCiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlZmF1bHRWYWx1ZSkpIHsKICAgICAgICBjb25zdCBsZWZ0ID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXShkZWZhdWx0VmFsdWVbMF0pOwogICAgICAgIGxldCByaWdodCA9IGRheWpzX19kZWZhdWx0WydkZWZhdWx0J10oZGVmYXVsdFZhbHVlWzFdKTsKCiAgICAgICAgaWYgKCFwcm9wcy51bmxpbmtQYW5lbHMpIHsKICAgICAgICAgIHJpZ2h0ID0gbGVmdC5hZGQoMSwgInllYXIiKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBbbGVmdCwgcmlnaHRdOwogICAgICB9IGVsc2UgaWYgKGRlZmF1bHRWYWx1ZSkgewogICAgICAgIHN0YXJ0ID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXShkZWZhdWx0VmFsdWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXJ0ID0gZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXSgpOwogICAgICB9CgogICAgICByZXR1cm4gW3N0YXJ0LCBzdGFydC5hZGQoMSwgInllYXIiKV07CiAgICB9OwoKICAgIGN0eC5lbWl0KCJzZXQtcGlja2VyLW9wdGlvbiIsIFsiZm9ybWF0VG9TdHJpbmciLCBmb3JtYXRUb1N0cmluZ10pOwogICAgY29uc3QgcGlja2VyQmFzZSA9IHZ1ZS5pbmplY3QoIkVQX1BJQ0tFUl9CQVNFIik7CiAgICBjb25zdCB7CiAgICAgIHNob3J0Y3V0cywKICAgICAgZGlzYWJsZWREYXRlLAogICAgICBmb3JtYXQsCiAgICAgIGRlZmF1bHRWYWx1ZQogICAgfSA9IHBpY2tlckJhc2UucHJvcHM7CiAgICB2dWUud2F0Y2goKCkgPT4gcHJvcHMucGFyc2VkVmFsdWUsIG5ld1ZhbCA9PiB7CiAgICAgIGlmIChuZXdWYWwgJiYgbmV3VmFsLmxlbmd0aCA9PT0gMikgewogICAgICAgIG1pbkRhdGUudmFsdWUgPSBuZXdWYWxbMF07CiAgICAgICAgbWF4RGF0ZS52YWx1ZSA9IG5ld1ZhbFsxXTsKICAgICAgICBsZWZ0RGF0ZS52YWx1ZSA9IG1pbkRhdGUudmFsdWU7CgogICAgICAgIGlmIChwcm9wcy51bmxpbmtQYW5lbHMgJiYgbWF4RGF0ZS52YWx1ZSkgewogICAgICAgICAgY29uc3QgbWluRGF0ZVllYXIgPSBtaW5EYXRlLnZhbHVlLnllYXIoKTsKICAgICAgICAgIGNvbnN0IG1heERhdGVZZWFyID0gbWF4RGF0ZS52YWx1ZS55ZWFyKCk7CiAgICAgICAgICByaWdodERhdGUudmFsdWUgPSBtaW5EYXRlWWVhciA9PT0gbWF4RGF0ZVllYXIgPyBtYXhEYXRlLnZhbHVlLmFkZCgxLCAieWVhciIpIDogbWF4RGF0ZS52YWx1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmlnaHREYXRlLnZhbHVlID0gbGVmdERhdGUudmFsdWUuYWRkKDEsICJ5ZWFyIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGRlZmF1bHRBcnIgPSBnZXREZWZhdWx0VmFsdWUoKTsKICAgICAgICBsZWZ0RGF0ZS52YWx1ZSA9IGRlZmF1bHRBcnJbMF07CiAgICAgICAgcmlnaHREYXRlLnZhbHVlID0gZGVmYXVsdEFyclsxXTsKICAgICAgfQogICAgfSwgewogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc2hvcnRjdXRzLAogICAgICBkaXNhYmxlZERhdGUsCiAgICAgIG9uU2VsZWN0LAogICAgICBoYW5kbGVSYW5nZVBpY2ssCiAgICAgIHJhbmdlU3RhdGUsCiAgICAgIGhhbmRsZUNoYW5nZVJhbmdlLAogICAgICBtaW5EYXRlLAogICAgICBtYXhEYXRlLAogICAgICBlbmFibGVZZWFyQXJyb3csCiAgICAgIGxlZnRMYWJlbCwKICAgICAgcmlnaHRMYWJlbCwKICAgICAgbGVmdE5leHRZZWFyLAogICAgICBsZWZ0UHJldlllYXIsCiAgICAgIHJpZ2h0TmV4dFllYXIsCiAgICAgIHJpZ2h0UHJldlllYXIsCiAgICAgIHQ6IGxvY2FsZS50LAogICAgICBsZWZ0RGF0ZSwKICAgICAgcmlnaHREYXRlLAogICAgICBoYXNTaG9ydGN1dHMsCiAgICAgIGhhbmRsZVNob3J0Y3V0Q2xpY2sKICAgIH07CiAgfQoKfSk7CmNvbnN0IF9ob2lzdGVkXzEkNSA9IHsKICBjbGFzczogImVsLXBpY2tlci1wYW5lbF9fYm9keS13cmFwcGVyIgp9Owpjb25zdCBfaG9pc3RlZF8yJDMgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19zaWRlYmFyIgp9Owpjb25zdCBfaG9pc3RlZF8zJDMgPSB7CiAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX2JvZHkiCn07CmNvbnN0IF9ob2lzdGVkXzQkMyA9IHsKICBjbGFzczogImVsLXBpY2tlci1wYW5lbF9fY29udGVudCBlbC1kYXRlLXJhbmdlLXBpY2tlcl9fY29udGVudCBpcy1sZWZ0Igp9Owpjb25zdCBfaG9pc3RlZF81JDMgPSB7CiAgY2xhc3M6ICJlbC1kYXRlLXJhbmdlLXBpY2tlcl9faGVhZGVyIgp9Owpjb25zdCBfaG9pc3RlZF82JDMgPSB7CiAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX2NvbnRlbnQgZWwtZGF0ZS1yYW5nZS1waWNrZXJfX2NvbnRlbnQgaXMtcmlnaHQiCn07CmNvbnN0IF9ob2lzdGVkXzckMyA9IHsKICBjbGFzczogImVsLWRhdGUtcmFuZ2UtcGlja2VyX19oZWFkZXIiCn07CgpmdW5jdGlvbiByZW5kZXIkNShfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X21vbnRoX3RhYmxlID0gdnVlLnJlc29sdmVDb21wb25lbnQoIm1vbnRoLXRhYmxlIik7CgogIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jaygiZGl2IiwgewogICAgY2xhc3M6IFsiZWwtcGlja2VyLXBhbmVsIGVsLWRhdGUtcmFuZ2UtcGlja2VyIiwgW3sKICAgICAgImhhcy1zaWRlYmFyIjogX2N0eC4kc2xvdHMuc2lkZWJhciB8fCBfY3R4Lmhhc1Nob3J0Y3V0cwogICAgfV1dCiAgfSwgW3Z1ZS5jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSQ1LCBbdnVlLnJlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJzaWRlYmFyIiwgewogICAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX3NpZGViYXIiCiAgfSksIF9jdHguaGFzU2hvcnRjdXRzID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yJDMsIFsodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUJsb2NrKHZ1ZS5GcmFnbWVudCwgbnVsbCwgdnVlLnJlbmRlckxpc3QoX2N0eC5zaG9ydGN1dHMsIChzaG9ydGN1dCwga2V5KSA9PiB7CiAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soImJ1dHRvbiIsIHsKICAgICAga2V5LAogICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgY2xhc3M6ICJlbC1waWNrZXItcGFuZWxfX3Nob3J0Y3V0IiwKICAgICAgb25DbGljazogJGV2ZW50ID0+IF9jdHguaGFuZGxlU2hvcnRjdXRDbGljayhzaG9ydGN1dCkKICAgIH0sIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoc2hvcnRjdXQudGV4dCksIDksIFsib25DbGljayJdKTsKICB9KSwgMTI4KSldKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIHZ1ZS5jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMyQzLCBbdnVlLmNyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80JDMsIFt2dWUuY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzUkMywgW3Z1ZS5jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgdHlwZTogImJ1dHRvbiIsCiAgICBjbGFzczogImVsLXBpY2tlci1wYW5lbF9faWNvbi1idG4gZWwtaWNvbi1kLWFycm93LWxlZnQiLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAoLi4uYXJncykgPT4gX2N0eC5sZWZ0UHJldlllYXIgJiYgX2N0eC5sZWZ0UHJldlllYXIoLi4uYXJncykpCiAgfSksIF9jdHgudW5saW5rUGFuZWxzID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKCJidXR0b24iLCB7CiAgICBrZXk6IDAsCiAgICB0eXBlOiAiYnV0dG9uIiwKICAgIGRpc2FibGVkOiAhX2N0eC5lbmFibGVZZWFyQXJyb3csCiAgICBjbGFzczogW3sKICAgICAgImlzLWRpc2FibGVkIjogIV9jdHguZW5hYmxlWWVhckFycm93CiAgICB9LCAiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1pY29uLWQtYXJyb3ctcmlnaHQiXSwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKC4uLmFyZ3MpID0+IF9jdHgubGVmdE5leHRZZWFyICYmIF9jdHgubGVmdE5leHRZZWFyKC4uLmFyZ3MpKQogIH0sIG51bGwsIDEwLCBbImRpc2FibGVkIl0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgdnVlLmNyZWF0ZVZOb2RlKCJkaXYiLCBudWxsLCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHgubGVmdExhYmVsKSwgMSldKSwgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfbW9udGhfdGFibGUsIHsKICAgICJzZWxlY3Rpb24tbW9kZSI6ICJyYW5nZSIsCiAgICBkYXRlOiBfY3R4LmxlZnREYXRlLAogICAgIm1pbi1kYXRlIjogX2N0eC5taW5EYXRlLAogICAgIm1heC1kYXRlIjogX2N0eC5tYXhEYXRlLAogICAgInJhbmdlLXN0YXRlIjogX2N0eC5yYW5nZVN0YXRlLAogICAgImRpc2FibGVkLWRhdGUiOiBfY3R4LmRpc2FibGVkRGF0ZSwKICAgIG9uQ2hhbmdlcmFuZ2U6IF9jdHguaGFuZGxlQ2hhbmdlUmFuZ2UsCiAgICBvblBpY2s6IF9jdHguaGFuZGxlUmFuZ2VQaWNrLAogICAgb25TZWxlY3Q6IF9jdHgub25TZWxlY3QKICB9LCBudWxsLCA4LCBbImRhdGUiLCAibWluLWRhdGUiLCAibWF4LWRhdGUiLCAicmFuZ2Utc3RhdGUiLCAiZGlzYWJsZWQtZGF0ZSIsICJvbkNoYW5nZXJhbmdlIiwgIm9uUGljayIsICJvblNlbGVjdCJdKV0pLCB2dWUuY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYkMywgW3Z1ZS5jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNyQzLCBbX2N0eC51bmxpbmtQYW5lbHMgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogMCwKICAgIHR5cGU6ICJidXR0b24iLAogICAgZGlzYWJsZWQ6ICFfY3R4LmVuYWJsZVllYXJBcnJvdywKICAgIGNsYXNzOiBbewogICAgICAiaXMtZGlzYWJsZWQiOiAhX2N0eC5lbmFibGVZZWFyQXJyb3cKICAgIH0sICJlbC1waWNrZXItcGFuZWxfX2ljb24tYnRuIGVsLWljb24tZC1hcnJvdy1sZWZ0Il0sCiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9ICguLi5hcmdzKSA9PiBfY3R4LnJpZ2h0UHJldlllYXIgJiYgX2N0eC5yaWdodFByZXZZZWFyKC4uLmFyZ3MpKQogIH0sIG51bGwsIDEwLCBbImRpc2FibGVkIl0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgdnVlLmNyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICB0eXBlOiAiYnV0dG9uIiwKICAgIGNsYXNzOiAiZWwtcGlja2VyLXBhbmVsX19pY29uLWJ0biBlbC1pY29uLWQtYXJyb3ctcmlnaHQiLAogICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSAoLi4uYXJncykgPT4gX2N0eC5yaWdodE5leHRZZWFyICYmIF9jdHgucmlnaHROZXh0WWVhciguLi5hcmdzKSkKICB9KSwgdnVlLmNyZWF0ZVZOb2RlKCJkaXYiLCBudWxsLCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHgucmlnaHRMYWJlbCksIDEpXSksIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X21vbnRoX3RhYmxlLCB7CiAgICAic2VsZWN0aW9uLW1vZGUiOiAicmFuZ2UiLAogICAgZGF0ZTogX2N0eC5yaWdodERhdGUsCiAgICAibWluLWRhdGUiOiBfY3R4Lm1pbkRhdGUsCiAgICAibWF4LWRhdGUiOiBfY3R4Lm1heERhdGUsCiAgICAicmFuZ2Utc3RhdGUiOiBfY3R4LnJhbmdlU3RhdGUsCiAgICAiZGlzYWJsZWQtZGF0ZSI6IF9jdHguZGlzYWJsZWREYXRlLAogICAgb25DaGFuZ2VyYW5nZTogX2N0eC5oYW5kbGVDaGFuZ2VSYW5nZSwKICAgIG9uUGljazogX2N0eC5oYW5kbGVSYW5nZVBpY2ssCiAgICBvblNlbGVjdDogX2N0eC5vblNlbGVjdAogIH0sIG51bGwsIDgsIFsiZGF0ZSIsICJtaW4tZGF0ZSIsICJtYXgtZGF0ZSIsICJyYW5nZS1zdGF0ZSIsICJkaXNhYmxlZC1kYXRlIiwgIm9uQ2hhbmdlcmFuZ2UiLCAib25QaWNrIiwgIm9uU2VsZWN0Il0pXSldKV0pXSwgMik7Cn0KCnNjcmlwdCQ1LnJlbmRlciA9IHJlbmRlciQ1OwpzY3JpcHQkNS5fX2ZpbGUgPSAicGFja2FnZXMvZGF0ZS1waWNrZXIvc3JjL2RhdGUtcGlja2VyLWNvbS9wYW5lbC1tb250aC1yYW5nZS52dWUiOwp2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5Owp2YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOwp2YXIgX19nZXRPd25Qcm9wRGVzY3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczsKdmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzOwp2YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTsKdmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7Cgp2YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgewogIGVudW1lcmFibGU6IHRydWUsCiAgY29uZmlndXJhYmxlOiB0cnVlLAogIHdyaXRhYmxlOiB0cnVlLAogIHZhbHVlCn0pIDogb2JqW2tleV0gPSB2YWx1ZTsKCnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7CiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKSBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTsKCiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkgewogICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKSBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7CiAgfQogIHJldHVybiBhOwp9OwoKdmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7CgpkYXlqc19fZGVmYXVsdFsnZGVmYXVsdCddLmV4dGVuZChsb2NhbGVEYXRhX19kZWZhdWx0WydkZWZhdWx0J10pOwpkYXlqc19fZGVmYXVsdFsnZGVmYXVsdCddLmV4dGVuZChhZHZhbmNlZEZvcm1hdF9fZGVmYXVsdFsnZGVmYXVsdCddKTsKZGF5anNfX2RlZmF1bHRbJ2RlZmF1bHQnXS5leHRlbmQoY3VzdG9tUGFyc2VGb3JtYXRfX2RlZmF1bHRbJ2RlZmF1bHQnXSk7CmRheWpzX19kZWZhdWx0WydkZWZhdWx0J10uZXh0ZW5kKHdlZWtPZlllYXJfX2RlZmF1bHRbJ2RlZmF1bHQnXSk7CmRheWpzX19kZWZhdWx0WydkZWZhdWx0J10uZXh0ZW5kKHdlZWtZZWFyX19kZWZhdWx0WydkZWZhdWx0J10pOwpkYXlqc19fZGVmYXVsdFsnZGVmYXVsdCddLmV4dGVuZChkYXlPZlllYXJfX2RlZmF1bHRbJ2RlZmF1bHQnXSk7CmRheWpzX19kZWZhdWx0WydkZWZhdWx0J10uZXh0ZW5kKGlzU2FtZU9yQWZ0ZXJfX2RlZmF1bHRbJ2RlZmF1bHQnXSk7CmRheWpzX19kZWZhdWx0WydkZWZhdWx0J10uZXh0ZW5kKGlzU2FtZU9yQmVmb3JlX19kZWZhdWx0WydkZWZhdWx0J10pOwoKY29uc3QgZ2V0UGFuZWwgPSBmdW5jdGlvbiAodHlwZSkgewogIGlmICh0eXBlID09PSAiZGF0ZXJhbmdlIiB8fCB0eXBlID09PSAiZGF0ZXRpbWVyYW5nZSIpIHsKICAgIHJldHVybiBzY3JpcHQkNDsKICB9IGVsc2UgaWYgKHR5cGUgPT09ICJtb250aHJhbmdlIikgewogICAgcmV0dXJuIHNjcmlwdCQ1OwogIH0KCiAgcmV0dXJuIHNjcmlwdCQzOwp9OwoKdmFyIERhdGVQaWNrZXIgPSB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAiRWxEYXRlUGlja2VyIiwKICBpbnN0YWxsOiBudWxsLAogIHByb3BzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCB0aW1lUGlja2VyLmRlZmF1bHRQcm9wcyksIHsKICAgIHR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiZGF0ZSIKICAgIH0KICB9KSwKICBlbWl0czogWyJ1cGRhdGU6bW9kZWxWYWx1ZSJdLAoKICBzZXR1cChwcm9wcywgY3R4KSB7CiAgICB2dWUucHJvdmlkZSgiRWxQb3BwZXJPcHRpb25zIiwgcHJvcHMucG9wcGVyT3B0aW9ucyk7CiAgICBjb25zdCBjb21tb25QaWNrZXIgPSB2dWUucmVmKG51bGwpOwoKICAgIGNvbnN0IHJlZlByb3BzID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpLCB7CiAgICAgIGZvY3VzOiAoKSA9PiB7CiAgICAgICAgdmFyIF9hOwoKICAgICAgICAoX2EgPSBjb21tb25QaWNrZXIudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5oYW5kbGVGb2N1cygpOwogICAgICB9CiAgICB9KTsKCiAgICBjdHguZXhwb3NlKHJlZlByb3BzKTsKICAgIHJldHVybiAoKSA9PiB7CiAgICAgIHZhciBfYTsKCiAgICAgIGNvbnN0IGZvcm1hdCA9IChfYSA9IHByb3BzLmZvcm1hdCkgIT0gbnVsbCA/IF9hIDogdGltZVBpY2tlci5ERUZBVUxUX0ZPUk1BVFNfREFURVBJQ0tFUltwcm9wcy50eXBlXSB8fCB0aW1lUGlja2VyLkRFRkFVTFRfRk9STUFUU19EQVRFOwogICAgICByZXR1cm4gdnVlLmgodGltZVBpY2tlci5Db21tb25QaWNrZXIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwgewogICAgICAgIGZvcm1hdCwKICAgICAgICB0eXBlOiBwcm9wcy50eXBlLAogICAgICAgIHJlZjogY29tbW9uUGlja2VyLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogdmFsdWUgPT4gY3R4LmVtaXQoInVwZGF0ZTptb2RlbFZhbHVlIiwgdmFsdWUpCiAgICAgIH0pLCB7CiAgICAgICAgZGVmYXVsdDogc2NvcGVkUHJvcHMgPT4gdnVlLmgoZ2V0UGFuZWwocHJvcHMudHlwZSksIHNjb3BlZFByb3BzKQogICAgICB9KTsKICAgIH07CiAgfQoKfSk7CmNvbnN0IF9EYXRlUGlja2VyID0gRGF0ZVBpY2tlcjsKCl9EYXRlUGlja2VyLmluc3RhbGwgPSBhcHAgPT4gewogIGFwcC5jb21wb25lbnQoX0RhdGVQaWNrZXIubmFtZSwgX0RhdGVQaWNrZXIpOwp9OwoKZXhwb3J0cy5kZWZhdWx0ID0gX0RhdGVQaWNrZXI7"},{"version":3,"sources":["C:/Users/multicampus/Desktop/pjt 1 back/cowdog_fe/node_modules/element-plus/lib/el-date-picker/index.js"],"names":["Object","defineProperty","exports","value","vue","require","dayjs","timePicker","locale","ElInput","directives","aria","ElButton","validators","util","dom","customParseFormat","advancedFormat","localeData","weekOfYear","weekYear","dayOfYear","isSameOrAfter","isSameOrBefore","_interopDefaultLegacy","e","dayjs__default","ElInput__default","ElButton__default","customParseFormat__default","advancedFormat__default","localeData__default","weekOfYear__default","weekYear__default","dayOfYear__default","isSameOrAfter__default","isSameOrBefore__default","script","defineComponent","props","date","type","minDate","maxDate","parsedValue","Array","selectionMode","String","default","showWeekNumber","Boolean","disabledDate","Function","cellClassName","rangeState","endDate","selecting","emits","setup","ctx","lastRow","ref","lastColumn","tableRows","firstDayOfWeek","$locale","weekStart","WEEKS_CONSTANT","weekdaysShort","map","_","toLowerCase","offsetDay","computed","startDate","startDayOfMonth","startOf","subtract","day","WEEKS","concat","slice","rows","_a","startOfMonth","startOfMonthDay","dateCountOfMonth","daysInMonth","dateCountOfLastMonth","offset","rows_","count","selectedDate","coerceTruthyValueToArray","calNow","i","row","text","add","week","j","cell","column","inRange","start","end","index","calTime","calEndDate","isSame","isToday","numberOfDaysFromPreviousMonth","cellDate","toDate","selected","find","valueOf","disabled","customClass","isActive","isWeekActive","cellMatchesDate","Number","getCellClasses","classes","push","join","getDateOfCell","offsetFromStart","handleMouseMove","event","target","tagName","parentNode","rowIndex","cellIndex","emit","handleClick","newDate","weekNumber","year","newValue","filter","parseInt","isArray","dayOffset","weekDate","t","_hoisted_1","key","render","_ctx","_cache","$props","$setup","$data","$options","openBlock","createBlock","cellspacing","cellpadding","class","onClick","args","onMousemove","createVNode","toDisplayString","createCommentVNode","Fragment","renderList","current","key_","__file","datesInMonth","month","firstDay","numOfDays","rangeArr","n","script$1","months","monthsShort","rows2","now","getCellStyle","style","today","Date","every","findIndex","getFullYear","getMonth","handleMonthTableClick","hasClass","_hoisted_1$1","render$1","datesInYear","lastDay","endOf","script$2","startYear","Math","floor","handleYearTableClick","textContent","innerText","_hoisted_1$2","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","render$2","timeWithinRange","script$3","components","DateTable","TimePickPanel","MonthTable","YearTable","clickoutside","ClickOutside","visible","format","required","validator","isValidDatePickType","innerDate","selectableRange","userInputDate","userInputTime","checkDateWithinRange","length","formatEmit","emitDayjs","defaultTime","defaultTimeD","showTime","millisecond","dates","handleDatePick","prevMonth_","nextMonth_","prevYear_","currentView","nextYear_","yearLabel","yearTranslation","handleShortcutClick","shortcut","includes","watch","val","immediate","hasShortcuts","shortcuts","handleMonthPick","month2","handleYearPick","year2","showMonthPicker","showYearPicker","footerVisible","onConfirm","result","defaultValueD","getDefaultValue","changeToNow","nowDate","timeFormat","extractTimeFormat","dateFormat","extractDateFormat","visibleTime","defaultValue","visibleDate","timePickerVisible","onTimePickerInputFocus","handleTimePickClose","handleTimePick","first","hour","minute","second","handleVisibleTimeChange","isValid","handleVisibleDateChange","isValidValue","date_","formatToString","parseUserInput","handleKeydown","code","keyCode","list","EVENT_CODE","up","down","left","right","handleKeyControl","stopPropagation","preventDefault","enter","mapping","step","setFullYear","setMonth","setDate","getDate","abs","diff","pickerBase","inject","arrowControl","_hoisted_1$3","_hoisted_2$1","_hoisted_3$1","_hoisted_4$1","_hoisted_5$1","_hoisted_6$1","_hoisted_7$1","_hoisted_8$1","render$3","_component_el_input","resolveComponent","_component_time_pick_panel","_component_date_table","_component_year_table","_component_month_table","_component_el_button","_directive_clickoutside","resolveDirective","$slots","sidebar","renderSlot","$event","placeholder","size","onInput","onChange","withDirectives","onFocus","onPick","vShow","role","active","withCtx","createTextVNode","plain","script$4","unlinkPanels","leftDate","rightDate","dateUserInput","min","max","timeUserInput","leftLabel","rightLabel","leftYear","leftMonth","rightYear","rightMonth","minVisibleDate","maxVisibleDate","minVisibleTime","maxVisibleTime","leftPrevYear","leftPrevMonth","rightNextYear","rightNextMonth","leftNextYear","leftNextMonth","rightPrevYear","rightPrevMonth","enableMonthArrow","nextMonth","yearOffset","enableYearArrow","btnDisabled","handleChangeRange","onSelect","handleConfirm","handleRangePick","close","minDate_","maxDate_","minTimePickerVisible","maxTimePickerVisible","handleMinTimeClose","handleMaxTimeClose","handleDateInput","parsedValueD","handleDateChange","handleTimeInput","isBefore","handleTimeChange","handleMinTimePick","handleMaxTimePick","handleClear","clearable","newVal","minDateYear","minDateMonth","maxDateYear","maxDateMonth","defaultArr","_hoisted_1$4","_hoisted_2$2","_hoisted_3$2","_hoisted_4$2","_hoisted_5$2","_hoisted_6$2","_hoisted_7$2","_hoisted_8$2","_hoisted_9$1","_hoisted_10$1","_hoisted_11$1","_hoisted_12$1","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","render$4","readonly","onChangerange","script$5","_hoisted_1$5","_hoisted_2$3","_hoisted_3$3","_hoisted_4$3","_hoisted_5$3","_hoisted_6$3","_hoisted_7$3","render$5","__defProp","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","extend","getPanel","DatePicker","name","install","defaultProps","provide","popperOptions","commonPicker","refProps","focus","handleFocus","expose","DEFAULT_FORMATS_DATEPICKER","DEFAULT_FORMATS_DATE","h","CommonPicker","scopedProps","_DatePicker","app","component"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar vue = require('vue');\nvar dayjs = require('dayjs');\nvar timePicker = require('../el-time-picker');\nvar locale = require('../locale');\nvar ElInput = require('../el-input');\nvar directives = require('../directives');\nvar aria = require('../utils/aria');\nvar ElButton = require('../el-button');\nvar validators = require('../utils/validators');\nvar util = require('../utils/util');\nvar dom = require('../utils/dom');\nvar customParseFormat = require('dayjs/plugin/customParseFormat');\nvar advancedFormat = require('dayjs/plugin/advancedFormat');\nvar localeData = require('dayjs/plugin/localeData');\nvar weekOfYear = require('dayjs/plugin/weekOfYear');\nvar weekYear = require('dayjs/plugin/weekYear');\nvar dayOfYear = require('dayjs/plugin/dayOfYear');\nvar isSameOrAfter = require('dayjs/plugin/isSameOrAfter');\nvar isSameOrBefore = require('dayjs/plugin/isSameOrBefore');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar dayjs__default = /*#__PURE__*/_interopDefaultLegacy(dayjs);\nvar ElInput__default = /*#__PURE__*/_interopDefaultLegacy(ElInput);\nvar ElButton__default = /*#__PURE__*/_interopDefaultLegacy(ElButton);\nvar customParseFormat__default = /*#__PURE__*/_interopDefaultLegacy(customParseFormat);\nvar advancedFormat__default = /*#__PURE__*/_interopDefaultLegacy(advancedFormat);\nvar localeData__default = /*#__PURE__*/_interopDefaultLegacy(localeData);\nvar weekOfYear__default = /*#__PURE__*/_interopDefaultLegacy(weekOfYear);\nvar weekYear__default = /*#__PURE__*/_interopDefaultLegacy(weekYear);\nvar dayOfYear__default = /*#__PURE__*/_interopDefaultLegacy(dayOfYear);\nvar isSameOrAfter__default = /*#__PURE__*/_interopDefaultLegacy(isSameOrAfter);\nvar isSameOrBefore__default = /*#__PURE__*/_interopDefaultLegacy(isSameOrBefore);\n\nvar script = vue.defineComponent({\n  props: {\n    date: {\n      type: Object\n    },\n    minDate: {\n      type: Object\n    },\n    maxDate: {\n      type: Object\n    },\n    parsedValue: {\n      type: [Object, Array]\n    },\n    selectionMode: {\n      type: String,\n      default: \"day\"\n    },\n    showWeekNumber: {\n      type: Boolean,\n      default: false\n    },\n    disabledDate: {\n      type: Function\n    },\n    cellClassName: {\n      type: Function\n    },\n    rangeState: {\n      type: Object,\n      default: () => ({\n        endDate: null,\n        selecting: false\n      })\n    }\n  },\n  emits: [\"changerange\", \"pick\", \"select\"],\n  setup(props, ctx) {\n    const lastRow = vue.ref(null);\n    const lastColumn = vue.ref(null);\n    const tableRows = vue.ref([[], [], [], [], [], []]);\n    const firstDayOfWeek = props.date.$locale().weekStart || 7;\n    const WEEKS_CONSTANT = props.date.locale(\"en\").localeData().weekdaysShort().map((_) => _.toLowerCase());\n    const offsetDay = vue.computed(() => {\n      return firstDayOfWeek > 3 ? 7 - firstDayOfWeek : -firstDayOfWeek;\n    });\n    const startDate = vue.computed(() => {\n      const startDayOfMonth = props.date.startOf(\"month\");\n      return startDayOfMonth.subtract(startDayOfMonth.day() || 7, \"day\");\n    });\n    const WEEKS = vue.computed(() => {\n      return WEEKS_CONSTANT.concat(WEEKS_CONSTANT).slice(firstDayOfWeek, firstDayOfWeek + 7);\n    });\n    const rows = vue.computed(() => {\n      var _a;\n      const startOfMonth = props.date.startOf(\"month\");\n      const startOfMonthDay = startOfMonth.day() || 7;\n      const dateCountOfMonth = startOfMonth.daysInMonth();\n      const dateCountOfLastMonth = startOfMonth.subtract(1, \"month\").daysInMonth();\n      const offset = offsetDay.value;\n      const rows_ = tableRows.value;\n      let count = 1;\n      const selectedDate = props.selectionMode === \"dates\" ? util.coerceTruthyValueToArray(props.parsedValue) : [];\n      const calNow = dayjs__default['default']().startOf(\"day\");\n      for (let i = 0; i < 6; i++) {\n        const row = rows_[i];\n        if (props.showWeekNumber) {\n          if (!row[0]) {\n            row[0] = {\n              type: \"week\",\n              text: startDate.value.add(i * 7 + 1, \"day\").week()\n            };\n          }\n        }\n        for (let j = 0; j < 7; j++) {\n          let cell = row[props.showWeekNumber ? j + 1 : j];\n          if (!cell) {\n            cell = {\n              row: i,\n              column: j,\n              type: \"normal\",\n              inRange: false,\n              start: false,\n              end: false\n            };\n          }\n          const index = i * 7 + j;\n          const calTime = startDate.value.add(index - offset, \"day\");\n          cell.type = \"normal\";\n          const calEndDate = props.rangeState.endDate || props.maxDate || props.rangeState.selecting && props.minDate;\n          cell.inRange = props.minDate && calTime.isSameOrAfter(props.minDate, \"day\") && (calEndDate && calTime.isSameOrBefore(calEndDate, \"day\")) || props.minDate && calTime.isSameOrBefore(props.minDate, \"day\") && (calEndDate && calTime.isSameOrAfter(calEndDate, \"day\"));\n          if ((_a = props.minDate) == null ? void 0 : _a.isSameOrAfter(calEndDate)) {\n            cell.start = calEndDate && calTime.isSame(calEndDate, \"day\");\n            cell.end = props.minDate && calTime.isSame(props.minDate, \"day\");\n          } else {\n            cell.start = props.minDate && calTime.isSame(props.minDate, \"day\");\n            cell.end = calEndDate && calTime.isSame(calEndDate, \"day\");\n          }\n          const isToday = calTime.isSame(calNow, \"day\");\n          if (isToday) {\n            cell.type = \"today\";\n          }\n          if (i >= 0 && i <= 1) {\n            const numberOfDaysFromPreviousMonth = startOfMonthDay + offset < 0 ? 7 + startOfMonthDay + offset : startOfMonthDay + offset;\n            if (j + i * 7 >= numberOfDaysFromPreviousMonth) {\n              cell.text = count++;\n            } else {\n              cell.text = dateCountOfLastMonth - (numberOfDaysFromPreviousMonth - j % 7) + 1 + i * 7;\n              cell.type = \"prev-month\";\n            }\n          } else {\n            if (count <= dateCountOfMonth) {\n              cell.text = count++;\n            } else {\n              cell.text = count++ - dateCountOfMonth;\n              cell.type = \"next-month\";\n            }\n          }\n          const cellDate = calTime.toDate();\n          cell.selected = selectedDate.find((_) => _.valueOf() === calTime.valueOf());\n          cell.disabled = props.disabledDate && props.disabledDate(cellDate);\n          cell.customClass = props.cellClassName && props.cellClassName(cellDate);\n          row[props.showWeekNumber ? j + 1 : j] = cell;\n        }\n        if (props.selectionMode === \"week\") {\n          const start = props.showWeekNumber ? 1 : 0;\n          const end = props.showWeekNumber ? 7 : 6;\n          const isActive = isWeekActive(row[start + 1]);\n          row[start].inRange = isActive;\n          row[start].start = isActive;\n          row[end].inRange = isActive;\n          row[end].end = isActive;\n        }\n      }\n      return rows_;\n    });\n    const cellMatchesDate = (cell, date) => {\n      if (!date)\n        return false;\n      return dayjs__default['default'](date).isSame(props.date.date(Number(cell.text)), \"day\");\n    };\n    const getCellClasses = (cell) => {\n      let classes = [];\n      if ((cell.type === \"normal\" || cell.type === \"today\") && !cell.disabled) {\n        classes.push(\"available\");\n        if (cell.type === \"today\") {\n          classes.push(\"today\");\n        }\n      } else {\n        classes.push(cell.type);\n      }\n      if (props.selectionMode === \"day\" && (cell.type === \"normal\" || cell.type === \"today\") && cellMatchesDate(cell, props.parsedValue)) {\n        classes.push(\"current\");\n      }\n      if (cell.inRange && (cell.type === \"normal\" || cell.type === \"today\" || props.selectionMode === \"week\")) {\n        classes.push(\"in-range\");\n        if (cell.start) {\n          classes.push(\"start-date\");\n        }\n        if (cell.end) {\n          classes.push(\"end-date\");\n        }\n      }\n      if (cell.disabled) {\n        classes.push(\"disabled\");\n      }\n      if (cell.selected) {\n        classes.push(\"selected\");\n      }\n      if (cell.customClass) {\n        classes.push(cell.customClass);\n      }\n      return classes.join(\" \");\n    };\n    const getDateOfCell = (row, column) => {\n      const offsetFromStart = row * 7 + (column - (props.showWeekNumber ? 1 : 0)) - offsetDay.value;\n      return startDate.value.add(offsetFromStart, \"day\");\n    };\n    const handleMouseMove = (event) => {\n      if (!props.rangeState.selecting)\n        return;\n      let target = event.target;\n      if (target.tagName === \"SPAN\") {\n        target = target.parentNode.parentNode;\n      }\n      if (target.tagName === \"DIV\") {\n        target = target.parentNode;\n      }\n      if (target.tagName !== \"TD\")\n        return;\n      const row = target.parentNode.rowIndex - 1;\n      const column = target.cellIndex;\n      if (rows.value[row][column].disabled)\n        return;\n      if (row !== lastRow.value || column !== lastColumn.value) {\n        lastRow.value = row;\n        lastColumn.value = column;\n        ctx.emit(\"changerange\", {\n          selecting: true,\n          endDate: getDateOfCell(row, column)\n        });\n      }\n    };\n    const handleClick = (event) => {\n      let target = event.target;\n      if (target.tagName === \"SPAN\") {\n        target = target.parentNode.parentNode;\n      }\n      if (target.tagName === \"DIV\") {\n        target = target.parentNode;\n      }\n      if (target.tagName !== \"TD\")\n        return;\n      const row = target.parentNode.rowIndex - 1;\n      const column = target.cellIndex;\n      const cell = rows.value[row][column];\n      if (cell.disabled || cell.type === \"week\")\n        return;\n      const newDate = getDateOfCell(row, column);\n      if (props.selectionMode === \"range\") {\n        if (!props.rangeState.selecting) {\n          ctx.emit(\"pick\", { minDate: newDate, maxDate: null });\n          ctx.emit(\"select\", true);\n        } else {\n          if (newDate >= props.minDate) {\n            ctx.emit(\"pick\", { minDate: props.minDate, maxDate: newDate });\n          } else {\n            ctx.emit(\"pick\", { minDate: newDate, maxDate: props.minDate });\n          }\n          ctx.emit(\"select\", false);\n        }\n      } else if (props.selectionMode === \"day\") {\n        ctx.emit(\"pick\", newDate);\n      } else if (props.selectionMode === \"week\") {\n        const weekNumber = newDate.week();\n        const value = newDate.year() + \"w\" + weekNumber;\n        ctx.emit(\"pick\", {\n          year: newDate.year(),\n          week: weekNumber,\n          value,\n          date: newDate.startOf(\"week\")\n        });\n      } else if (props.selectionMode === \"dates\") {\n        const newValue = cell.selected ? util.coerceTruthyValueToArray(props.parsedValue).filter((_) => _.valueOf() !== newDate.valueOf()) : util.coerceTruthyValueToArray(props.parsedValue).concat([newDate]);\n        ctx.emit(\"pick\", newValue);\n      }\n    };\n    const isWeekActive = (cell) => {\n      if (props.selectionMode !== \"week\")\n        return false;\n      let newDate = props.date.startOf(\"day\");\n      if (cell.type === \"prev-month\") {\n        newDate = newDate.subtract(1, \"month\");\n      }\n      if (cell.type === \"next-month\") {\n        newDate = newDate.add(1, \"month\");\n      }\n      newDate = newDate.date(parseInt(cell.text, 10));\n      if (props.parsedValue && !Array.isArray(props.parsedValue)) {\n        const dayOffset = (props.parsedValue.day() - firstDayOfWeek + 7) % 7 - 1;\n        const weekDate = props.parsedValue.subtract(dayOffset, \"day\");\n        return weekDate.isSame(newDate, \"day\");\n      }\n      return false;\n    };\n    return {\n      handleMouseMove,\n      t: locale.t,\n      rows,\n      isWeekActive,\n      getCellClasses,\n      WEEKS,\n      handleClick\n    };\n  }\n});\n\nconst _hoisted_1 = { key: 0 };\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return vue.openBlock(), vue.createBlock(\"table\", {\n    cellspacing: \"0\",\n    cellpadding: \"0\",\n    class: [\"el-date-table\", { \"is-week-mode\": _ctx.selectionMode === \"week\" }],\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleClick && _ctx.handleClick(...args)),\n    onMousemove: _cache[2] || (_cache[2] = (...args) => _ctx.handleMouseMove && _ctx.handleMouseMove(...args))\n  }, [\n    vue.createVNode(\"tbody\", null, [\n      vue.createVNode(\"tr\", null, [\n        _ctx.showWeekNumber ? (vue.openBlock(), vue.createBlock(\"th\", _hoisted_1, vue.toDisplayString(_ctx.t(\"el.datepicker.week\")), 1)) : vue.createCommentVNode(\"v-if\", true),\n        (vue.openBlock(true), vue.createBlock(vue.Fragment, null, vue.renderList(_ctx.WEEKS, (week, key) => {\n          return vue.openBlock(), vue.createBlock(\"th\", { key }, vue.toDisplayString(_ctx.t(\"el.datepicker.weeks.\" + week)), 1);\n        }), 128))\n      ]),\n      (vue.openBlock(true), vue.createBlock(vue.Fragment, null, vue.renderList(_ctx.rows, (row, key) => {\n        return vue.openBlock(), vue.createBlock(\"tr\", {\n          key,\n          class: [\"el-date-table__row\", { current: _ctx.isWeekActive(row[1]) }]\n        }, [\n          (vue.openBlock(true), vue.createBlock(vue.Fragment, null, vue.renderList(row, (cell, key_) => {\n            return vue.openBlock(), vue.createBlock(\"td\", {\n              key: key_,\n              class: _ctx.getCellClasses(cell)\n            }, [\n              vue.createVNode(\"div\", null, [\n                vue.createVNode(\"span\", null, vue.toDisplayString(cell.text), 1)\n              ])\n            ], 2);\n          }), 128))\n        ], 2);\n      }), 128))\n    ])\n  ], 34);\n}\n\nscript.render = render;\nscript.__file = \"packages/date-picker/src/date-picker-com/basic-date-table.vue\";\n\nconst datesInMonth = (year, month) => {\n  const firstDay = dayjs__default['default']().startOf(\"month\").month(month).year(year);\n  const numOfDays = firstDay.daysInMonth();\n  return timePicker.rangeArr(numOfDays).map((n) => firstDay.add(n, \"day\").toDate());\n};\nvar script$1 = vue.defineComponent({\n  props: {\n    disabledDate: {\n      type: Function\n    },\n    selectionMode: {\n      type: String,\n      default: \"month\"\n    },\n    minDate: {\n      type: Object\n    },\n    maxDate: {\n      type: Object\n    },\n    date: {\n      type: Object\n    },\n    parsedValue: {\n      type: Object\n    },\n    rangeState: {\n      type: Object,\n      default: () => ({\n        endDate: null,\n        selecting: false\n      })\n    }\n  },\n  emits: [\"changerange\", \"pick\", \"select\"],\n  setup(props, ctx) {\n    const months = vue.ref(props.date.locale(\"en\").localeData().monthsShort().map((_) => _.toLowerCase()));\n    const tableRows = vue.ref([[], [], []]);\n    const lastRow = vue.ref(null);\n    const lastColumn = vue.ref(null);\n    const rows = vue.computed(() => {\n      var _a;\n      const rows2 = tableRows.value;\n      const now = dayjs__default['default']().startOf(\"month\");\n      for (let i = 0; i < 3; i++) {\n        const row = rows2[i];\n        for (let j = 0; j < 4; j++) {\n          let cell = row[j];\n          if (!cell) {\n            cell = {\n              row: i,\n              column: j,\n              type: \"normal\",\n              inRange: false,\n              start: false,\n              end: false\n            };\n          }\n          cell.type = \"normal\";\n          const index = i * 4 + j;\n          const calTime = props.date.startOf(\"year\").month(index);\n          const calEndDate = props.rangeState.endDate || props.maxDate || props.rangeState.selecting && props.minDate;\n          cell.inRange = props.minDate && calTime.isSameOrAfter(props.minDate, \"month\") && (calEndDate && calTime.isSameOrBefore(calEndDate, \"month\")) || props.minDate && calTime.isSameOrBefore(props.minDate, \"month\") && (calEndDate && calTime.isSameOrAfter(calEndDate, \"month\"));\n          if ((_a = props.minDate) == null ? void 0 : _a.isSameOrAfter(calEndDate)) {\n            cell.start = calEndDate && calTime.isSame(calEndDate, \"month\");\n            cell.end = props.minDate && calTime.isSame(props.minDate, \"month\");\n          } else {\n            cell.start = props.minDate && calTime.isSame(props.minDate, \"month\");\n            cell.end = calEndDate && calTime.isSame(calEndDate, \"month\");\n          }\n          const isToday = now.isSame(calTime);\n          if (isToday) {\n            cell.type = \"today\";\n          }\n          cell.text = index;\n          let cellDate = calTime.toDate();\n          cell.disabled = props.disabledDate && props.disabledDate(cellDate);\n          row[j] = cell;\n        }\n      }\n      return rows2;\n    });\n    const getCellStyle = (cell) => {\n      const style = {};\n      const year = props.date.year();\n      const today = new Date();\n      const month = cell.text;\n      style.disabled = props.disabledDate ? datesInMonth(year, month).every(props.disabledDate) : false;\n      style.current = util.coerceTruthyValueToArray(props.parsedValue).findIndex((date) => date.year() === year && date.month() === month) >= 0;\n      style.today = today.getFullYear() === year && today.getMonth() === month;\n      if (cell.inRange) {\n        style[\"in-range\"] = true;\n        if (cell.start) {\n          style[\"start-date\"] = true;\n        }\n        if (cell.end) {\n          style[\"end-date\"] = true;\n        }\n      }\n      return style;\n    };\n    const handleMouseMove = (event) => {\n      if (!props.rangeState.selecting)\n        return;\n      let target = event.target;\n      if (target.tagName === \"A\") {\n        target = target.parentNode.parentNode;\n      }\n      if (target.tagName === \"DIV\") {\n        target = target.parentNode;\n      }\n      if (target.tagName !== \"TD\")\n        return;\n      const row = target.parentNode.rowIndex;\n      const column = target.cellIndex;\n      if (rows.value[row][column].disabled)\n        return;\n      if (row !== lastRow.value || column !== lastColumn.value) {\n        lastRow.value = row;\n        lastColumn.value = column;\n        ctx.emit(\"changerange\", {\n          selecting: true,\n          endDate: props.date.startOf(\"year\").month(row * 4 + column)\n        });\n      }\n    };\n    const handleMonthTableClick = (event) => {\n      let target = event.target;\n      if (target.tagName === \"A\") {\n        target = target.parentNode.parentNode;\n      }\n      if (target.tagName === \"DIV\") {\n        target = target.parentNode;\n      }\n      if (target.tagName !== \"TD\")\n        return;\n      if (dom.hasClass(target, \"disabled\"))\n        return;\n      const column = target.cellIndex;\n      const row = target.parentNode.rowIndex;\n      const month = row * 4 + column;\n      const newDate = props.date.startOf(\"year\").month(month);\n      if (props.selectionMode === \"range\") {\n        if (!props.rangeState.selecting) {\n          ctx.emit(\"pick\", { minDate: newDate, maxDate: null });\n          ctx.emit(\"select\", true);\n        } else {\n          if (newDate >= props.minDate) {\n            ctx.emit(\"pick\", { minDate: props.minDate, maxDate: newDate });\n          } else {\n            ctx.emit(\"pick\", { minDate: newDate, maxDate: props.minDate });\n          }\n          ctx.emit(\"select\", false);\n        }\n      } else {\n        ctx.emit(\"pick\", month);\n      }\n    };\n    return {\n      handleMouseMove,\n      handleMonthTableClick,\n      rows,\n      getCellStyle,\n      t: locale.t,\n      months\n    };\n  }\n});\n\nconst _hoisted_1$1 = { class: \"cell\" };\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return vue.openBlock(), vue.createBlock(\"table\", {\n    class: \"el-month-table\",\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleMonthTableClick && _ctx.handleMonthTableClick(...args)),\n    onMousemove: _cache[2] || (_cache[2] = (...args) => _ctx.handleMouseMove && _ctx.handleMouseMove(...args))\n  }, [\n    vue.createVNode(\"tbody\", null, [\n      (vue.openBlock(true), vue.createBlock(vue.Fragment, null, vue.renderList(_ctx.rows, (row, key) => {\n        return vue.openBlock(), vue.createBlock(\"tr\", { key }, [\n          (vue.openBlock(true), vue.createBlock(vue.Fragment, null, vue.renderList(row, (cell, key_) => {\n            return vue.openBlock(), vue.createBlock(\"td\", {\n              key: key_,\n              class: _ctx.getCellStyle(cell)\n            }, [\n              vue.createVNode(\"div\", null, [\n                vue.createVNode(\"a\", _hoisted_1$1, vue.toDisplayString(_ctx.t(\"el.datepicker.months.\" + _ctx.months[cell.text])), 1)\n              ])\n            ], 2);\n          }), 128))\n        ]);\n      }), 128))\n    ])\n  ], 32);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/date-picker/src/date-picker-com/basic-month-table.vue\";\n\nconst datesInYear = (year) => {\n  const firstDay = dayjs__default['default'](String(year)).startOf(\"year\");\n  const lastDay = firstDay.endOf(\"year\");\n  const numOfDays = lastDay.dayOfYear();\n  return timePicker.rangeArr(numOfDays).map((n) => firstDay.add(n, \"day\").toDate());\n};\nvar script$2 = vue.defineComponent({\n  props: {\n    disabledDate: {\n      type: Function\n    },\n    parsedValue: {\n      type: Object\n    },\n    date: {\n      type: Object\n    }\n  },\n  emits: [\"pick\"],\n  setup(props, ctx) {\n    const startYear = vue.computed(() => {\n      return Math.floor(props.date.year() / 10) * 10;\n    });\n    const getCellStyle = (year) => {\n      const style = {};\n      const today = dayjs__default['default']();\n      style.disabled = props.disabledDate ? datesInYear(year).every(props.disabledDate) : false;\n      style.current = util.coerceTruthyValueToArray(props.parsedValue).findIndex((_) => _.year() === year) >= 0;\n      style.today = today.year() === year;\n      return style;\n    };\n    const handleYearTableClick = (event) => {\n      const target = event.target;\n      if (target.tagName === \"A\") {\n        if (dom.hasClass(target.parentNode, \"disabled\"))\n          return;\n        const year = target.textContent || target.innerText;\n        ctx.emit(\"pick\", Number(year));\n      }\n    };\n    return {\n      startYear,\n      getCellStyle,\n      handleYearTableClick\n    };\n  }\n});\n\nconst _hoisted_1$2 = { class: \"cell\" };\nconst _hoisted_2 = { class: \"cell\" };\nconst _hoisted_3 = { class: \"cell\" };\nconst _hoisted_4 = { class: \"cell\" };\nconst _hoisted_5 = { class: \"cell\" };\nconst _hoisted_6 = { class: \"cell\" };\nconst _hoisted_7 = { class: \"cell\" };\nconst _hoisted_8 = { class: \"cell\" };\nconst _hoisted_9 = { class: \"cell\" };\nconst _hoisted_10 = { class: \"cell\" };\nconst _hoisted_11 = /* @__PURE__ */ vue.createVNode(\"td\", null, null, -1);\nconst _hoisted_12 = /* @__PURE__ */ vue.createVNode(\"td\", null, null, -1);\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return vue.openBlock(), vue.createBlock(\"table\", {\n    class: \"el-year-table\",\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleYearTableClick && _ctx.handleYearTableClick(...args))\n  }, [\n    vue.createVNode(\"tbody\", null, [\n      vue.createVNode(\"tr\", null, [\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 0)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_1$2, vue.toDisplayString(_ctx.startYear), 1)\n        ], 2),\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 1)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_2, vue.toDisplayString(_ctx.startYear + 1), 1)\n        ], 2),\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 2)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_3, vue.toDisplayString(_ctx.startYear + 2), 1)\n        ], 2),\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 3)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_4, vue.toDisplayString(_ctx.startYear + 3), 1)\n        ], 2)\n      ]),\n      vue.createVNode(\"tr\", null, [\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 4)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_5, vue.toDisplayString(_ctx.startYear + 4), 1)\n        ], 2),\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 5)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_6, vue.toDisplayString(_ctx.startYear + 5), 1)\n        ], 2),\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 6)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_7, vue.toDisplayString(_ctx.startYear + 6), 1)\n        ], 2),\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 7)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_8, vue.toDisplayString(_ctx.startYear + 7), 1)\n        ], 2)\n      ]),\n      vue.createVNode(\"tr\", null, [\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 8)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_9, vue.toDisplayString(_ctx.startYear + 8), 1)\n        ], 2),\n        vue.createVNode(\"td\", {\n          class: [\"available\", _ctx.getCellStyle(_ctx.startYear + 9)]\n        }, [\n          vue.createVNode(\"a\", _hoisted_10, vue.toDisplayString(_ctx.startYear + 9), 1)\n        ], 2),\n        _hoisted_11,\n        _hoisted_12\n      ])\n    ])\n  ]);\n}\n\nscript$2.render = render$2;\nscript$2.__file = \"packages/date-picker/src/date-picker-com/basic-year-table.vue\";\n\nconst timeWithinRange = () => true;\nvar script$3 = vue.defineComponent({\n  components: {\n    DateTable: script,\n    ElInput: ElInput__default['default'],\n    ElButton: ElButton__default['default'],\n    TimePickPanel: timePicker.TimePickPanel,\n    MonthTable: script$1,\n    YearTable: script$2\n  },\n  directives: { clickoutside: directives.ClickOutside },\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    parsedValue: {\n      type: [Object, Array]\n    },\n    format: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      required: true,\n      validator: validators.isValidDatePickType\n    }\n  },\n  emits: [\"pick\", \"set-picker-option\"],\n  setup(props, ctx) {\n    const innerDate = vue.ref(dayjs__default['default']());\n    const month = vue.computed(() => {\n      return innerDate.value.month();\n    });\n    const year = vue.computed(() => {\n      return innerDate.value.year();\n    });\n    const selectableRange = vue.ref([]);\n    const userInputDate = vue.ref(null);\n    const userInputTime = vue.ref(null);\n    const checkDateWithinRange = (date) => {\n      return selectableRange.value.length > 0 ? timeWithinRange(date, selectableRange.value, props.format || \"HH:mm:ss\") : true;\n    };\n    const formatEmit = (emitDayjs) => {\n      if (defaultTime) {\n        const defaultTimeD = dayjs__default['default'](defaultTime);\n        return defaultTimeD.year(emitDayjs.year()).month(emitDayjs.month()).date(emitDayjs.date());\n      }\n      if (showTime.value)\n        return emitDayjs.millisecond(0);\n      return emitDayjs.startOf(\"day\");\n    };\n    const emit = (value, ...args) => {\n      if (!value) {\n        ctx.emit(\"pick\", value, ...args);\n      } else if (Array.isArray(value)) {\n        const dates = value.map(formatEmit);\n        ctx.emit(\"pick\", dates, ...args);\n      } else {\n        ctx.emit(\"pick\", formatEmit(value), ...args);\n      }\n      userInputDate.value = null;\n      userInputTime.value = null;\n    };\n    const handleDatePick = (value) => {\n      if (selectionMode.value === \"day\") {\n        let newDate = props.parsedValue ? props.parsedValue.year(value.year()).month(value.month()).date(value.date()) : value;\n        if (!checkDateWithinRange(newDate)) {\n          newDate = selectableRange.value[0][0].year(value.year()).month(value.month()).date(value.date());\n        }\n        innerDate.value = newDate;\n        emit(newDate, showTime.value);\n      } else if (selectionMode.value === \"week\") {\n        emit(value.date);\n      } else if (selectionMode.value === \"dates\") {\n        emit(value, true);\n      }\n    };\n    const prevMonth_ = () => {\n      innerDate.value = innerDate.value.subtract(1, \"month\");\n    };\n    const nextMonth_ = () => {\n      innerDate.value = innerDate.value.add(1, \"month\");\n    };\n    const prevYear_ = () => {\n      if (currentView.value === \"year\") {\n        innerDate.value = innerDate.value.subtract(10, \"year\");\n      } else {\n        innerDate.value = innerDate.value.subtract(1, \"year\");\n      }\n    };\n    const nextYear_ = () => {\n      if (currentView.value === \"year\") {\n        innerDate.value = innerDate.value.add(10, \"year\");\n      } else {\n        innerDate.value = innerDate.value.add(1, \"year\");\n      }\n    };\n    const currentView = vue.ref(\"date\");\n    const yearLabel = vue.computed(() => {\n      const yearTranslation = locale.t(\"el.datepicker.year\");\n      if (currentView.value === \"year\") {\n        const startYear = Math.floor(year.value / 10) * 10;\n        if (yearTranslation) {\n          return startYear + \" \" + yearTranslation + \" - \" + (startYear + 9) + \" \" + yearTranslation;\n        }\n        return startYear + \" - \" + (startYear + 9);\n      }\n      return year.value + \" \" + yearTranslation;\n    });\n    const handleShortcutClick = (shortcut) => {\n      if (shortcut.value) {\n        emit(dayjs__default['default'](shortcut.value));\n        return;\n      }\n      if (shortcut.onClick) {\n        shortcut.onClick(ctx);\n      }\n    };\n    const selectionMode = vue.computed(() => {\n      if ([\"week\", \"month\", \"year\", \"dates\"].includes(props.type)) {\n        return props.type;\n      }\n      return \"day\";\n    });\n    vue.watch(() => selectionMode.value, (val) => {\n      if ([\"month\", \"year\"].includes(val)) {\n        currentView.value = val;\n        return;\n      }\n      currentView.value = \"date\";\n    }, { immediate: true });\n    const hasShortcuts = vue.computed(() => !!shortcuts.length);\n    const handleMonthPick = (month2) => {\n      innerDate.value = innerDate.value.startOf(\"month\").month(month2);\n      if (selectionMode.value === \"month\") {\n        emit(innerDate.value);\n      } else {\n        currentView.value = \"date\";\n      }\n    };\n    const handleYearPick = (year2) => {\n      if (selectionMode.value === \"year\") {\n        innerDate.value = innerDate.value.startOf(\"year\").year(year2);\n        emit(innerDate.value);\n      } else {\n        innerDate.value = innerDate.value.year(year2);\n        currentView.value = \"month\";\n      }\n    };\n    const showMonthPicker = () => {\n      currentView.value = \"month\";\n    };\n    const showYearPicker = () => {\n      currentView.value = \"year\";\n    };\n    const showTime = vue.computed(() => props.type === \"datetime\" || props.type === \"datetimerange\");\n    const footerVisible = vue.computed(() => {\n      return showTime.value || selectionMode.value === \"dates\";\n    });\n    const onConfirm = () => {\n      if (selectionMode.value === \"dates\") {\n        emit(props.parsedValue);\n      } else {\n        let result = props.parsedValue;\n        if (!result) {\n          const defaultTimeD = dayjs__default['default'](defaultTime);\n          const defaultValueD = getDefaultValue();\n          result = defaultTimeD.year(defaultValueD.year()).month(defaultValueD.month()).date(defaultValueD.date());\n        }\n        innerDate.value = result;\n        emit(result);\n      }\n    };\n    const changeToNow = () => {\n      const now = dayjs__default['default']();\n      const nowDate = now.toDate();\n      if ((!disabledDate || !disabledDate(nowDate)) && checkDateWithinRange(nowDate)) {\n        innerDate.value = dayjs__default['default']();\n        emit(innerDate.value);\n      }\n    };\n    const timeFormat = vue.computed(() => {\n      return timePicker.extractTimeFormat(props.format);\n    });\n    const dateFormat = vue.computed(() => {\n      return timePicker.extractDateFormat(props.format);\n    });\n    const visibleTime = vue.computed(() => {\n      if (userInputTime.value)\n        return userInputTime.value;\n      if (!props.parsedValue && !defaultValue)\n        return;\n      return (props.parsedValue || innerDate.value).format(timeFormat.value);\n    });\n    const visibleDate = vue.computed(() => {\n      if (userInputDate.value)\n        return userInputDate.value;\n      if (!props.parsedValue && !defaultValue)\n        return;\n      return (props.parsedValue || innerDate.value).format(dateFormat.value);\n    });\n    const timePickerVisible = vue.ref(false);\n    const onTimePickerInputFocus = () => {\n      timePickerVisible.value = true;\n    };\n    const handleTimePickClose = () => {\n      timePickerVisible.value = false;\n    };\n    const handleTimePick = (value, visible, first) => {\n      const newDate = props.parsedValue ? props.parsedValue.hour(value.hour()).minute(value.minute()).second(value.second()) : value;\n      innerDate.value = newDate;\n      emit(innerDate.value, true);\n      if (!first) {\n        timePickerVisible.value = visible;\n      }\n    };\n    const handleVisibleTimeChange = (value) => {\n      const newDate = dayjs__default['default'](value, timeFormat.value);\n      if (newDate.isValid() && checkDateWithinRange(newDate)) {\n        innerDate.value = newDate.year(innerDate.value.year()).month(innerDate.value.month()).date(innerDate.value.date());\n        userInputTime.value = null;\n        timePickerVisible.value = false;\n        emit(innerDate.value, true);\n      }\n    };\n    const handleVisibleDateChange = (value) => {\n      const newDate = dayjs__default['default'](value, dateFormat.value);\n      if (newDate.isValid()) {\n        if (disabledDate && disabledDate(newDate.toDate())) {\n          return;\n        }\n        innerDate.value = newDate.hour(innerDate.value.hour()).minute(innerDate.value.minute()).second(innerDate.value.second());\n        userInputDate.value = null;\n        emit(innerDate.value, true);\n      }\n    };\n    const isValidValue = (date_) => {\n      return date_.isValid() && (disabledDate ? !disabledDate(date_.toDate()) : true);\n    };\n    const formatToString = (value) => {\n      if (selectionMode.value === \"dates\") {\n        return value.map((_) => _.format(props.format));\n      }\n      return value.format(props.format);\n    };\n    const parseUserInput = (value) => {\n      return dayjs__default['default'](value, props.format);\n    };\n    const getDefaultValue = () => {\n      return dayjs__default['default'](defaultValue);\n    };\n    const handleKeydown = (event) => {\n      const { code, keyCode } = event;\n      const list = [aria.EVENT_CODE.up, aria.EVENT_CODE.down, aria.EVENT_CODE.left, aria.EVENT_CODE.right];\n      if (props.visible && !timePickerVisible.value) {\n        if (list.includes(code)) {\n          handleKeyControl(keyCode);\n          event.stopPropagation();\n          event.preventDefault();\n        }\n        if (code === aria.EVENT_CODE.enter && userInputDate.value === null && userInputTime.value === null) {\n          emit(innerDate, false);\n        }\n      }\n    };\n    const handleKeyControl = (keyCode) => {\n      const mapping = {\n        \"year\": {\n          38: -4,\n          40: 4,\n          37: -1,\n          39: 1,\n          offset: (date, step) => date.setFullYear(date.getFullYear() + step)\n        },\n        \"month\": {\n          38: -4,\n          40: 4,\n          37: -1,\n          39: 1,\n          offset: (date, step) => date.setMonth(date.getMonth() + step)\n        },\n        \"week\": {\n          38: -1,\n          40: 1,\n          37: -1,\n          39: 1,\n          offset: (date, step) => date.setDate(date.getDate() + step * 7)\n        },\n        \"day\": {\n          38: -7,\n          40: 7,\n          37: -1,\n          39: 1,\n          offset: (date, step) => date.setDate(date.getDate() + step)\n        }\n      };\n      const newDate = innerDate.value.toDate();\n      while (Math.abs(innerDate.value.diff(newDate, \"year\", true)) < 1) {\n        const map = mapping[selectionMode.value];\n        map.offset(newDate, map[keyCode]);\n        if (disabledDate && disabledDate(newDate)) {\n          continue;\n        }\n        const result = dayjs__default['default'](newDate);\n        innerDate.value = result;\n        ctx.emit(\"pick\", result, true);\n        break;\n      }\n    };\n    ctx.emit(\"set-picker-option\", [\"isValidValue\", isValidValue]);\n    ctx.emit(\"set-picker-option\", [\"formatToString\", formatToString]);\n    ctx.emit(\"set-picker-option\", [\"parseUserInput\", parseUserInput]);\n    ctx.emit(\"set-picker-option\", [\"handleKeydown\", handleKeydown]);\n    const pickerBase = vue.inject(\"EP_PICKER_BASE\");\n    const { shortcuts, disabledDate, cellClassName, defaultTime, defaultValue, arrowControl } = pickerBase.props;\n    vue.watch(() => props.parsedValue, (val) => {\n      if (val) {\n        if (selectionMode.value === \"dates\")\n          return;\n        if (Array.isArray(val))\n          return;\n        innerDate.value = val;\n      } else {\n        innerDate.value = getDefaultValue();\n      }\n    }, { immediate: true });\n    return {\n      handleTimePick,\n      handleTimePickClose,\n      onTimePickerInputFocus,\n      timePickerVisible,\n      visibleTime,\n      visibleDate,\n      showTime,\n      changeToNow,\n      onConfirm,\n      footerVisible,\n      handleYearPick,\n      showMonthPicker,\n      showYearPicker,\n      handleMonthPick,\n      hasShortcuts,\n      shortcuts,\n      arrowControl,\n      disabledDate,\n      cellClassName,\n      selectionMode,\n      handleShortcutClick,\n      prevYear_,\n      nextYear_,\n      prevMonth_,\n      nextMonth_,\n      innerDate,\n      t: locale.t,\n      yearLabel,\n      currentView,\n      month,\n      handleDatePick,\n      handleVisibleTimeChange,\n      handleVisibleDateChange,\n      timeFormat,\n      userInputTime,\n      userInputDate\n    };\n  }\n});\n\nconst _hoisted_1$3 = { class: \"el-picker-panel__body-wrapper\" };\nconst _hoisted_2$1 = {\n  key: 0,\n  class: \"el-picker-panel__sidebar\"\n};\nconst _hoisted_3$1 = { class: \"el-picker-panel__body\" };\nconst _hoisted_4$1 = {\n  key: 0,\n  class: \"el-date-picker__time-header\"\n};\nconst _hoisted_5$1 = { class: \"el-date-picker__editor-wrap\" };\nconst _hoisted_6$1 = { class: \"el-date-picker__editor-wrap\" };\nconst _hoisted_7$1 = { class: \"el-picker-panel__content\" };\nconst _hoisted_8$1 = { class: \"el-picker-panel__footer\" };\nfunction render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = vue.resolveComponent(\"el-input\");\n  const _component_time_pick_panel = vue.resolveComponent(\"time-pick-panel\");\n  const _component_date_table = vue.resolveComponent(\"date-table\");\n  const _component_year_table = vue.resolveComponent(\"year-table\");\n  const _component_month_table = vue.resolveComponent(\"month-table\");\n  const _component_el_button = vue.resolveComponent(\"el-button\");\n  const _directive_clickoutside = vue.resolveDirective(\"clickoutside\");\n  return vue.openBlock(), vue.createBlock(\"div\", {\n    class: [\"el-picker-panel el-date-picker\", [{\n      \"has-sidebar\": _ctx.$slots.sidebar || _ctx.hasShortcuts,\n      \"has-time\": _ctx.showTime\n    }]]\n  }, [\n    vue.createVNode(\"div\", _hoisted_1$3, [\n      vue.renderSlot(_ctx.$slots, \"sidebar\", { class: \"el-picker-panel__sidebar\" }),\n      _ctx.hasShortcuts ? (vue.openBlock(), vue.createBlock(\"div\", _hoisted_2$1, [\n        (vue.openBlock(true), vue.createBlock(vue.Fragment, null, vue.renderList(_ctx.shortcuts, (shortcut, key) => {\n          return vue.openBlock(), vue.createBlock(\"button\", {\n            key,\n            type: \"button\",\n            class: \"el-picker-panel__shortcut\",\n            onClick: ($event) => _ctx.handleShortcutClick(shortcut)\n          }, vue.toDisplayString(shortcut.text), 9, [\"onClick\"]);\n        }), 128))\n      ])) : vue.createCommentVNode(\"v-if\", true),\n      vue.createVNode(\"div\", _hoisted_3$1, [\n        _ctx.showTime ? (vue.openBlock(), vue.createBlock(\"div\", _hoisted_4$1, [\n          vue.createVNode(\"span\", _hoisted_5$1, [\n            vue.createVNode(_component_el_input, {\n              placeholder: _ctx.t(\"el.datepicker.selectDate\"),\n              \"model-value\": _ctx.visibleDate,\n              size: \"small\",\n              onInput: _cache[1] || (_cache[1] = (val) => _ctx.userInputDate = val),\n              onChange: _ctx.handleVisibleDateChange\n            }, null, 8, [\"placeholder\", \"model-value\", \"onChange\"])\n          ]),\n          vue.withDirectives(vue.createVNode(\"span\", _hoisted_6$1, [\n            vue.createVNode(_component_el_input, {\n              placeholder: _ctx.t(\"el.datepicker.selectTime\"),\n              \"model-value\": _ctx.visibleTime,\n              size: \"small\",\n              onFocus: _ctx.onTimePickerInputFocus,\n              onInput: _cache[2] || (_cache[2] = (val) => _ctx.userInputTime = val),\n              onChange: _ctx.handleVisibleTimeChange\n            }, null, 8, [\"placeholder\", \"model-value\", \"onFocus\", \"onChange\"]),\n            vue.createVNode(_component_time_pick_panel, {\n              visible: _ctx.timePickerVisible,\n              format: _ctx.timeFormat,\n              \"time-arrow-control\": _ctx.arrowControl,\n              \"parsed-value\": _ctx.innerDate,\n              onPick: _ctx.handleTimePick\n            }, null, 8, [\"visible\", \"format\", \"time-arrow-control\", \"parsed-value\", \"onPick\"])\n          ], 512), [\n            [_directive_clickoutside, _ctx.handleTimePickClose]\n          ])\n        ])) : vue.createCommentVNode(\"v-if\", true),\n        vue.withDirectives(vue.createVNode(\"div\", {\n          class: [\"el-date-picker__header\", { \"el-date-picker__header--bordered\": _ctx.currentView === \"year\" || _ctx.currentView === \"month\" }]\n        }, [\n          vue.createVNode(\"button\", {\n            type: \"button\",\n            \"aria-label\": _ctx.t(`el.datepicker.prevYear`),\n            class: \"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left\",\n            onClick: _cache[3] || (_cache[3] = (...args) => _ctx.prevYear_ && _ctx.prevYear_(...args))\n          }, null, 8, [\"aria-label\"]),\n          vue.withDirectives(vue.createVNode(\"button\", {\n            type: \"button\",\n            \"aria-label\": _ctx.t(`el.datepicker.prevMonth`),\n            class: \"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left\",\n            onClick: _cache[4] || (_cache[4] = (...args) => _ctx.prevMonth_ && _ctx.prevMonth_(...args))\n          }, null, 8, [\"aria-label\"]), [\n            [vue.vShow, _ctx.currentView === \"date\"]\n          ]),\n          vue.createVNode(\"span\", {\n            role: \"button\",\n            class: \"el-date-picker__header-label\",\n            onClick: _cache[5] || (_cache[5] = (...args) => _ctx.showYearPicker && _ctx.showYearPicker(...args))\n          }, vue.toDisplayString(_ctx.yearLabel), 1),\n          vue.withDirectives(vue.createVNode(\"span\", {\n            role: \"button\",\n            class: [\"el-date-picker__header-label\", { active: _ctx.currentView === \"month\" }],\n            onClick: _cache[6] || (_cache[6] = (...args) => _ctx.showMonthPicker && _ctx.showMonthPicker(...args))\n          }, vue.toDisplayString(_ctx.t(`el.datepicker.month${_ctx.month + 1}`)), 3), [\n            [vue.vShow, _ctx.currentView === \"date\"]\n          ]),\n          vue.createVNode(\"button\", {\n            type: \"button\",\n            \"aria-label\": _ctx.t(`el.datepicker.nextYear`),\n            class: \"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right\",\n            onClick: _cache[7] || (_cache[7] = (...args) => _ctx.nextYear_ && _ctx.nextYear_(...args))\n          }, null, 8, [\"aria-label\"]),\n          vue.withDirectives(vue.createVNode(\"button\", {\n            type: \"button\",\n            \"aria-label\": _ctx.t(`el.datepicker.nextMonth`),\n            class: \"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right\",\n            onClick: _cache[8] || (_cache[8] = (...args) => _ctx.nextMonth_ && _ctx.nextMonth_(...args))\n          }, null, 8, [\"aria-label\"]), [\n            [vue.vShow, _ctx.currentView === \"date\"]\n          ])\n        ], 2), [\n          [vue.vShow, _ctx.currentView !== \"time\"]\n        ]),\n        vue.createVNode(\"div\", _hoisted_7$1, [\n          _ctx.currentView === \"date\" ? (vue.openBlock(), vue.createBlock(_component_date_table, {\n            key: 0,\n            \"selection-mode\": _ctx.selectionMode,\n            date: _ctx.innerDate,\n            \"parsed-value\": _ctx.parsedValue,\n            \"disabled-date\": _ctx.disabledDate,\n            onPick: _ctx.handleDatePick\n          }, null, 8, [\"selection-mode\", \"date\", \"parsed-value\", \"disabled-date\", \"onPick\"])) : vue.createCommentVNode(\"v-if\", true),\n          _ctx.currentView === \"year\" ? (vue.openBlock(), vue.createBlock(_component_year_table, {\n            key: 1,\n            date: _ctx.innerDate,\n            \"disabled-date\": _ctx.disabledDate,\n            \"parsed-value\": _ctx.parsedValue,\n            onPick: _ctx.handleYearPick\n          }, null, 8, [\"date\", \"disabled-date\", \"parsed-value\", \"onPick\"])) : vue.createCommentVNode(\"v-if\", true),\n          _ctx.currentView === \"month\" ? (vue.openBlock(), vue.createBlock(_component_month_table, {\n            key: 2,\n            date: _ctx.innerDate,\n            \"parsed-value\": _ctx.parsedValue,\n            \"disabled-date\": _ctx.disabledDate,\n            onPick: _ctx.handleMonthPick\n          }, null, 8, [\"date\", \"parsed-value\", \"disabled-date\", \"onPick\"])) : vue.createCommentVNode(\"v-if\", true)\n        ])\n      ])\n    ]),\n    vue.withDirectives(vue.createVNode(\"div\", _hoisted_8$1, [\n      vue.withDirectives(vue.createVNode(_component_el_button, {\n        size: \"mini\",\n        type: \"text\",\n        class: \"el-picker-panel__link-btn\",\n        onClick: _ctx.changeToNow\n      }, {\n        default: vue.withCtx(() => [\n          vue.createTextVNode(vue.toDisplayString(_ctx.t(\"el.datepicker.now\")), 1)\n        ]),\n        _: 1\n      }, 8, [\"onClick\"]), [\n        [vue.vShow, _ctx.selectionMode !== \"dates\"]\n      ]),\n      vue.createVNode(_component_el_button, {\n        plain: \"\",\n        size: \"mini\",\n        class: \"el-picker-panel__link-btn\",\n        onClick: _ctx.onConfirm\n      }, {\n        default: vue.withCtx(() => [\n          vue.createTextVNode(vue.toDisplayString(_ctx.t(\"el.datepicker.confirm\")), 1)\n        ]),\n        _: 1\n      }, 8, [\"onClick\"])\n    ], 512), [\n      [vue.vShow, _ctx.footerVisible && _ctx.currentView === \"date\"]\n    ])\n  ], 2);\n}\n\nscript$3.render = render$3;\nscript$3.__file = \"packages/date-picker/src/date-picker-com/panel-date-pick.vue\";\n\nvar script$4 = vue.defineComponent({\n  directives: { clickoutside: directives.ClickOutside },\n  components: { TimePickPanel: timePicker.TimePickPanel, DateTable: script, ElInput: ElInput__default['default'], ElButton: ElButton__default['default'] },\n  props: {\n    unlinkPanels: Boolean,\n    parsedValue: {\n      type: Array\n    },\n    type: {\n      type: String,\n      required: true,\n      validator: validators.isValidDatePickType\n    }\n  },\n  emits: [\"pick\", \"set-picker-option\"],\n  setup(props, ctx) {\n    const leftDate = vue.ref(dayjs__default['default']());\n    const rightDate = vue.ref(dayjs__default['default']().add(1, \"month\"));\n    const minDate = vue.ref(null);\n    const maxDate = vue.ref(null);\n    const dateUserInput = vue.ref({\n      min: null,\n      max: null\n    });\n    const timeUserInput = vue.ref({\n      min: null,\n      max: null\n    });\n    const leftLabel = vue.computed(() => {\n      return leftDate.value.year() + \" \" + locale.t(\"el.datepicker.year\") + \" \" + locale.t(`el.datepicker.month${leftDate.value.month() + 1}`);\n    });\n    const rightLabel = vue.computed(() => {\n      return rightDate.value.year() + \" \" + locale.t(\"el.datepicker.year\") + \" \" + locale.t(`el.datepicker.month${rightDate.value.month() + 1}`);\n    });\n    const leftYear = vue.computed(() => {\n      return leftDate.value.year();\n    });\n    const leftMonth = vue.computed(() => {\n      return leftDate.value.month();\n    });\n    const rightYear = vue.computed(() => {\n      return rightDate.value.year();\n    });\n    const rightMonth = vue.computed(() => {\n      return rightDate.value.month();\n    });\n    const hasShortcuts = vue.computed(() => !!shortcuts.length);\n    const minVisibleDate = vue.computed(() => {\n      if (dateUserInput.value.min !== null)\n        return dateUserInput.value.min;\n      if (minDate.value)\n        return minDate.value.format(dateFormat.value);\n      return \"\";\n    });\n    const maxVisibleDate = vue.computed(() => {\n      if (dateUserInput.value.max !== null)\n        return dateUserInput.value.max;\n      if (maxDate.value || minDate.value)\n        return (maxDate.value || minDate.value).format(dateFormat.value);\n      return \"\";\n    });\n    const minVisibleTime = vue.computed(() => {\n      if (timeUserInput.value.min !== null)\n        return timeUserInput.value.min;\n      if (minDate.value)\n        return minDate.value.format(timeFormat.value);\n      return \"\";\n    });\n    const maxVisibleTime = vue.computed(() => {\n      if (timeUserInput.value.max !== null)\n        return timeUserInput.value.max;\n      if (maxDate.value || minDate.value)\n        return (maxDate.value || minDate.value).format(timeFormat.value);\n      return \"\";\n    });\n    const timeFormat = vue.computed(() => {\n      return timePicker.extractTimeFormat(format);\n    });\n    const dateFormat = vue.computed(() => {\n      return timePicker.extractDateFormat(format);\n    });\n    const leftPrevYear = () => {\n      leftDate.value = leftDate.value.subtract(1, \"year\");\n      if (!props.unlinkPanels) {\n        rightDate.value = leftDate.value.add(1, \"month\");\n      }\n    };\n    const leftPrevMonth = () => {\n      leftDate.value = leftDate.value.subtract(1, \"month\");\n      if (!props.unlinkPanels) {\n        rightDate.value = leftDate.value.add(1, \"month\");\n      }\n    };\n    const rightNextYear = () => {\n      if (!props.unlinkPanels) {\n        leftDate.value = leftDate.value.add(1, \"year\");\n        rightDate.value = leftDate.value.add(1, \"month\");\n      } else {\n        rightDate.value = rightDate.value.add(1, \"year\");\n      }\n    };\n    const rightNextMonth = () => {\n      if (!props.unlinkPanels) {\n        leftDate.value = leftDate.value.add(1, \"month\");\n        rightDate.value = leftDate.value.add(1, \"month\");\n      } else {\n        rightDate.value = rightDate.value.add(1, \"month\");\n      }\n    };\n    const leftNextYear = () => {\n      leftDate.value = leftDate.value.add(1, \"year\");\n    };\n    const leftNextMonth = () => {\n      leftDate.value = leftDate.value.add(1, \"month\");\n    };\n    const rightPrevYear = () => {\n      rightDate.value = rightDate.value.subtract(1, \"year\");\n    };\n    const rightPrevMonth = () => {\n      rightDate.value = rightDate.value.subtract(1, \"month\");\n    };\n    const enableMonthArrow = vue.computed(() => {\n      const nextMonth = (leftMonth.value + 1) % 12;\n      const yearOffset = leftMonth.value + 1 >= 12 ? 1 : 0;\n      return props.unlinkPanels && new Date(leftYear.value + yearOffset, nextMonth) < new Date(rightYear.value, rightMonth.value);\n    });\n    const enableYearArrow = vue.computed(() => {\n      return props.unlinkPanels && rightYear.value * 12 + rightMonth.value - (leftYear.value * 12 + leftMonth.value + 1) >= 12;\n    });\n    const isValidValue = (value) => {\n      return Array.isArray(value) && value[0] && value[1] && value[0].valueOf() <= value[1].valueOf();\n    };\n    const rangeState = vue.ref({\n      endDate: null,\n      selecting: false\n    });\n    const btnDisabled = vue.computed(() => {\n      return !(minDate.value && maxDate.value && !rangeState.value.selecting && isValidValue([minDate.value, maxDate.value]));\n    });\n    const handleChangeRange = (val) => {\n      rangeState.value = val;\n    };\n    const onSelect = (selecting) => {\n      rangeState.value.selecting = selecting;\n      if (!selecting) {\n        rangeState.value.endDate = null;\n      }\n    };\n    const showTime = vue.computed(() => props.type === \"datetime\" || props.type === \"datetimerange\");\n    const handleConfirm = (visible = false) => {\n      if (isValidValue([minDate.value, maxDate.value])) {\n        ctx.emit(\"pick\", [minDate.value, maxDate.value], visible);\n      }\n    };\n    const formatEmit = (emitDayjs, index) => {\n      if (!emitDayjs)\n        return;\n      if (defaultTime) {\n        const defaultTimeD = dayjs__default['default'](defaultTime[index] || defaultTime);\n        return defaultTimeD.year(emitDayjs.year()).month(emitDayjs.month()).date(emitDayjs.date());\n      }\n      return emitDayjs;\n    };\n    const handleRangePick = (val, close = true) => {\n      const minDate_ = formatEmit(val.minDate, 0);\n      const maxDate_ = formatEmit(val.maxDate, 1);\n      if (maxDate.value === maxDate_ && minDate.value === minDate_) {\n        return;\n      }\n      maxDate.value = maxDate_;\n      minDate.value = minDate_;\n      if (!close || showTime.value)\n        return;\n      handleConfirm();\n    };\n    const handleShortcutClick = (shortcut) => {\n      if (shortcut.value) {\n        ctx.emit(\"pick\", [dayjs__default['default'](shortcut.value[0]), dayjs__default['default'](shortcut.value[1])]);\n        return;\n      }\n      if (shortcut.onClick) {\n        shortcut.onClick(ctx);\n      }\n    };\n    const minTimePickerVisible = vue.ref(false);\n    const maxTimePickerVisible = vue.ref(false);\n    const handleMinTimeClose = () => {\n      minTimePickerVisible.value = false;\n    };\n    const handleMaxTimeClose = () => {\n      maxTimePickerVisible.value = false;\n    };\n    const handleDateInput = (value, type) => {\n      dateUserInput.value[type] = value;\n      const parsedValueD = dayjs__default['default'](value, dateFormat.value);\n      if (parsedValueD.isValid()) {\n        if (disabledDate && disabledDate(parsedValueD.toDate())) {\n          return;\n        }\n        if (type === \"min\") {\n          leftDate.value = parsedValueD;\n          minDate.value = (minDate.value || leftDate.value).year(parsedValueD.year()).month(parsedValueD.month()).date(parsedValueD.date());\n          if (!props.unlinkPanels) {\n            rightDate.value = parsedValueD.add(1, \"month\");\n            maxDate.value = minDate.value.add(1, \"month\");\n          }\n        } else {\n          rightDate.value = parsedValueD;\n          maxDate.value = (maxDate.value || rightDate.value).year(parsedValueD.year()).month(parsedValueD.month()).date(parsedValueD.date());\n          if (!props.unlinkPanels) {\n            leftDate.value = parsedValueD.subtract(1, \"month\");\n            minDate.value = maxDate.value.subtract(1, \"month\");\n          }\n        }\n      }\n    };\n    const handleDateChange = (value, type) => {\n      dateUserInput.value[type] = null;\n    };\n    const handleTimeInput = (value, type) => {\n      timeUserInput.value[type] = value;\n      const parsedValueD = dayjs__default['default'](value, timeFormat.value);\n      if (parsedValueD.isValid()) {\n        if (type === \"min\") {\n          minTimePickerVisible.value = true;\n          minDate.value = (minDate.value || leftDate.value).hour(parsedValueD.hour()).minute(parsedValueD.minute()).second(parsedValueD.second());\n          if (!maxDate.value || maxDate.value.isBefore(minDate.value)) {\n            maxDate.value = minDate.value;\n          }\n        } else {\n          maxTimePickerVisible.value = true;\n          maxDate.value = (maxDate.value || rightDate.value).hour(parsedValueD.hour()).minute(parsedValueD.minute()).second(parsedValueD.second());\n          rightDate.value = maxDate.value;\n          if (maxDate.value && maxDate.value.isBefore(minDate.value)) {\n            minDate.value = maxDate.value;\n          }\n        }\n      }\n    };\n    const handleTimeChange = (value, type) => {\n      timeUserInput.value[type] = null;\n      if (type === \"min\") {\n        leftDate.value = minDate.value;\n        minTimePickerVisible.value = false;\n      } else {\n        rightDate.value = maxDate.value;\n        maxTimePickerVisible.value = false;\n      }\n    };\n    const handleMinTimePick = (value, visible, first) => {\n      if (timeUserInput.value.min)\n        return;\n      if (value) {\n        leftDate.value = value;\n        minDate.value = (minDate.value || leftDate.value).hour(value.hour()).minute(value.minute()).second(value.second());\n      }\n      if (!first) {\n        minTimePickerVisible.value = visible;\n      }\n      if (!maxDate.value || maxDate.value.isBefore(minDate.value)) {\n        maxDate.value = minDate.value;\n      }\n    };\n    const handleMaxTimePick = (value, visible, first) => {\n      if (timeUserInput.value.max)\n        return;\n      if (value) {\n        rightDate.value = value;\n        maxDate.value = (maxDate.value || rightDate.value).hour(value.hour()).minute(value.minute()).second(value.second());\n      }\n      if (!first) {\n        maxTimePickerVisible.value = visible;\n      }\n      if (maxDate.value && maxDate.value.isBefore(minDate.value)) {\n        minDate.value = maxDate.value;\n      }\n    };\n    const handleClear = () => {\n      leftDate.value = getDefaultValue()[0];\n      rightDate.value = leftDate.value.add(1, \"month\");\n      ctx.emit(\"pick\", null);\n    };\n    const formatToString = (value) => {\n      return Array.isArray(value) ? value.map((_) => _.format(format)) : value.format(format);\n    };\n    const parseUserInput = (value) => {\n      return Array.isArray(value) ? value.map((_) => dayjs__default['default'](_, format)) : dayjs__default['default'](value, format);\n    };\n    const getDefaultValue = () => {\n      let start;\n      if (Array.isArray(defaultValue)) {\n        const left = dayjs__default['default'](defaultValue[0]);\n        let right = dayjs__default['default'](defaultValue[1]);\n        if (!props.unlinkPanels) {\n          right = left.add(1, \"month\");\n        }\n        return [left, right];\n      } else if (defaultValue) {\n        start = dayjs__default['default'](defaultValue);\n      } else {\n        start = dayjs__default['default']();\n      }\n      return [start, start.add(1, \"month\")];\n    };\n    ctx.emit(\"set-picker-option\", [\"isValidValue\", isValidValue]);\n    ctx.emit(\"set-picker-option\", [\"parseUserInput\", parseUserInput]);\n    ctx.emit(\"set-picker-option\", [\"formatToString\", formatToString]);\n    ctx.emit(\"set-picker-option\", [\"handleClear\", handleClear]);\n    const pickerBase = vue.inject(\"EP_PICKER_BASE\");\n    const { shortcuts, disabledDate, cellClassName, format, defaultTime, defaultValue, arrowControl, clearable } = pickerBase.props;\n    vue.watch(() => props.parsedValue, (newVal) => {\n      if (newVal && newVal.length === 2) {\n        minDate.value = newVal[0];\n        maxDate.value = newVal[1];\n        leftDate.value = minDate.value;\n        if (props.unlinkPanels && maxDate.value) {\n          const minDateYear = minDate.value.year();\n          const minDateMonth = minDate.value.month();\n          const maxDateYear = maxDate.value.year();\n          const maxDateMonth = maxDate.value.month();\n          rightDate.value = minDateYear === maxDateYear && minDateMonth === maxDateMonth ? maxDate.value.add(1, \"month\") : maxDate.value;\n        } else {\n          rightDate.value = leftDate.value.add(1, \"month\");\n        }\n      } else {\n        const defaultArr = getDefaultValue();\n        minDate.value = null;\n        maxDate.value = null;\n        leftDate.value = defaultArr[0];\n        rightDate.value = defaultArr[1];\n      }\n    }, { immediate: true });\n    return {\n      shortcuts,\n      disabledDate,\n      cellClassName,\n      minTimePickerVisible,\n      maxTimePickerVisible,\n      handleMinTimeClose,\n      handleMaxTimeClose,\n      handleShortcutClick,\n      rangeState,\n      minDate,\n      maxDate,\n      handleRangePick,\n      onSelect,\n      handleChangeRange,\n      btnDisabled,\n      enableYearArrow,\n      enableMonthArrow,\n      rightPrevMonth,\n      rightPrevYear,\n      rightNextMonth,\n      rightNextYear,\n      leftPrevMonth,\n      leftPrevYear,\n      leftNextMonth,\n      leftNextYear,\n      hasShortcuts,\n      leftLabel,\n      rightLabel,\n      leftDate,\n      rightDate,\n      showTime,\n      t: locale.t,\n      minVisibleDate,\n      maxVisibleDate,\n      minVisibleTime,\n      maxVisibleTime,\n      arrowControl,\n      handleDateInput,\n      handleDateChange,\n      handleTimeInput,\n      handleTimeChange,\n      handleMinTimePick,\n      handleMaxTimePick,\n      handleClear,\n      handleConfirm,\n      timeFormat,\n      clearable\n    };\n  }\n});\n\nconst _hoisted_1$4 = { class: \"el-picker-panel__body-wrapper\" };\nconst _hoisted_2$2 = {\n  key: 0,\n  class: \"el-picker-panel__sidebar\"\n};\nconst _hoisted_3$2 = { class: \"el-picker-panel__body\" };\nconst _hoisted_4$2 = {\n  key: 0,\n  class: \"el-date-range-picker__time-header\"\n};\nconst _hoisted_5$2 = { class: \"el-date-range-picker__editors-wrap\" };\nconst _hoisted_6$2 = { class: \"el-date-range-picker__time-picker-wrap\" };\nconst _hoisted_7$2 = { class: \"el-date-range-picker__time-picker-wrap\" };\nconst _hoisted_8$2 = /* @__PURE__ */ vue.createVNode(\"span\", { class: \"el-icon-arrow-right\" }, null, -1);\nconst _hoisted_9$1 = { class: \"el-date-range-picker__editors-wrap is-right\" };\nconst _hoisted_10$1 = { class: \"el-date-range-picker__time-picker-wrap\" };\nconst _hoisted_11$1 = { class: \"el-date-range-picker__time-picker-wrap\" };\nconst _hoisted_12$1 = { class: \"el-picker-panel__content el-date-range-picker__content is-left\" };\nconst _hoisted_13 = { class: \"el-date-range-picker__header\" };\nconst _hoisted_14 = { class: \"el-picker-panel__content el-date-range-picker__content is-right\" };\nconst _hoisted_15 = { class: \"el-date-range-picker__header\" };\nconst _hoisted_16 = {\n  key: 0,\n  class: \"el-picker-panel__footer\"\n};\nfunction render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = vue.resolveComponent(\"el-input\");\n  const _component_time_pick_panel = vue.resolveComponent(\"time-pick-panel\");\n  const _component_date_table = vue.resolveComponent(\"date-table\");\n  const _component_el_button = vue.resolveComponent(\"el-button\");\n  const _directive_clickoutside = vue.resolveDirective(\"clickoutside\");\n  return vue.openBlock(), vue.createBlock(\"div\", {\n    class: [\"el-picker-panel el-date-range-picker\", [{\n      \"has-sidebar\": _ctx.$slots.sidebar || _ctx.hasShortcuts,\n      \"has-time\": _ctx.showTime\n    }]]\n  }, [\n    vue.createVNode(\"div\", _hoisted_1$4, [\n      vue.renderSlot(_ctx.$slots, \"sidebar\", { class: \"el-picker-panel__sidebar\" }),\n      _ctx.hasShortcuts ? (vue.openBlock(), vue.createBlock(\"div\", _hoisted_2$2, [\n        (vue.openBlock(true), vue.createBlock(vue.Fragment, null, vue.renderList(_ctx.shortcuts, (shortcut, key) => {\n          return vue.openBlock(), vue.createBlock(\"button\", {\n            key,\n            type: \"button\",\n            class: \"el-picker-panel__shortcut\",\n            onClick: ($event) => _ctx.handleShortcutClick(shortcut)\n          }, vue.toDisplayString(shortcut.text), 9, [\"onClick\"]);\n        }), 128))\n      ])) : vue.createCommentVNode(\"v-if\", true),\n      vue.createVNode(\"div\", _hoisted_3$2, [\n        _ctx.showTime ? (vue.openBlock(), vue.createBlock(\"div\", _hoisted_4$2, [\n          vue.createVNode(\"span\", _hoisted_5$2, [\n            vue.createVNode(\"span\", _hoisted_6$2, [\n              vue.createVNode(_component_el_input, {\n                size: \"small\",\n                disabled: _ctx.rangeState.selecting,\n                placeholder: _ctx.t(\"el.datepicker.startDate\"),\n                class: \"el-date-range-picker__editor\",\n                \"model-value\": _ctx.minVisibleDate,\n                onInput: _cache[1] || (_cache[1] = (val) => _ctx.handleDateInput(val, \"min\")),\n                onChange: _cache[2] || (_cache[2] = (val) => _ctx.handleDateChange(val, \"min\"))\n              }, null, 8, [\"disabled\", \"placeholder\", \"model-value\"])\n            ]),\n            vue.withDirectives(vue.createVNode(\"span\", _hoisted_7$2, [\n              vue.createVNode(_component_el_input, {\n                size: \"small\",\n                class: \"el-date-range-picker__editor\",\n                disabled: _ctx.rangeState.selecting,\n                placeholder: _ctx.t(\"el.datepicker.startTime\"),\n                \"model-value\": _ctx.minVisibleTime,\n                onFocus: _cache[3] || (_cache[3] = ($event) => _ctx.minTimePickerVisible = true),\n                onInput: _cache[4] || (_cache[4] = (val) => _ctx.handleTimeInput(val, \"min\")),\n                onChange: _cache[5] || (_cache[5] = (val) => _ctx.handleTimeChange(val, \"min\"))\n              }, null, 8, [\"disabled\", \"placeholder\", \"model-value\"]),\n              vue.createVNode(_component_time_pick_panel, {\n                visible: _ctx.minTimePickerVisible,\n                format: _ctx.timeFormat,\n                \"datetime-role\": \"start\",\n                \"time-arrow-control\": _ctx.arrowControl,\n                \"parsed-value\": _ctx.leftDate,\n                onPick: _ctx.handleMinTimePick\n              }, null, 8, [\"visible\", \"format\", \"time-arrow-control\", \"parsed-value\", \"onPick\"])\n            ], 512), [\n              [_directive_clickoutside, _ctx.handleMinTimeClose]\n            ])\n          ]),\n          _hoisted_8$2,\n          vue.createVNode(\"span\", _hoisted_9$1, [\n            vue.createVNode(\"span\", _hoisted_10$1, [\n              vue.createVNode(_component_el_input, {\n                size: \"small\",\n                class: \"el-date-range-picker__editor\",\n                disabled: _ctx.rangeState.selecting,\n                placeholder: _ctx.t(\"el.datepicker.endDate\"),\n                \"model-value\": _ctx.maxVisibleDate,\n                readonly: !_ctx.minDate,\n                onInput: _cache[6] || (_cache[6] = (val) => _ctx.handleDateInput(val, \"max\")),\n                onChange: _cache[7] || (_cache[7] = (val) => _ctx.handleDateChange(val, \"max\"))\n              }, null, 8, [\"disabled\", \"placeholder\", \"model-value\", \"readonly\"])\n            ]),\n            vue.withDirectives(vue.createVNode(\"span\", _hoisted_11$1, [\n              vue.createVNode(_component_el_input, {\n                size: \"small\",\n                class: \"el-date-range-picker__editor\",\n                disabled: _ctx.rangeState.selecting,\n                placeholder: _ctx.t(\"el.datepicker.endTime\"),\n                \"model-value\": _ctx.maxVisibleTime,\n                readonly: !_ctx.minDate,\n                onFocus: _cache[8] || (_cache[8] = ($event) => _ctx.minDate && (_ctx.maxTimePickerVisible = true)),\n                onInput: _cache[9] || (_cache[9] = (val) => _ctx.handleTimeInput(val, \"max\")),\n                onChange: _cache[10] || (_cache[10] = (val) => _ctx.handleTimeChange(val, \"max\"))\n              }, null, 8, [\"disabled\", \"placeholder\", \"model-value\", \"readonly\"]),\n              vue.createVNode(_component_time_pick_panel, {\n                \"datetime-role\": \"end\",\n                visible: _ctx.maxTimePickerVisible,\n                format: _ctx.timeFormat,\n                \"time-arrow-control\": _ctx.arrowControl,\n                \"parsed-value\": _ctx.rightDate,\n                onPick: _ctx.handleMaxTimePick\n              }, null, 8, [\"visible\", \"format\", \"time-arrow-control\", \"parsed-value\", \"onPick\"])\n            ], 512), [\n              [_directive_clickoutside, _ctx.handleMaxTimeClose]\n            ])\n          ])\n        ])) : vue.createCommentVNode(\"v-if\", true),\n        vue.createVNode(\"div\", _hoisted_12$1, [\n          vue.createVNode(\"div\", _hoisted_13, [\n            vue.createVNode(\"button\", {\n              type: \"button\",\n              class: \"el-picker-panel__icon-btn el-icon-d-arrow-left\",\n              onClick: _cache[11] || (_cache[11] = (...args) => _ctx.leftPrevYear && _ctx.leftPrevYear(...args))\n            }),\n            vue.createVNode(\"button\", {\n              type: \"button\",\n              class: \"el-picker-panel__icon-btn el-icon-arrow-left\",\n              onClick: _cache[12] || (_cache[12] = (...args) => _ctx.leftPrevMonth && _ctx.leftPrevMonth(...args))\n            }),\n            _ctx.unlinkPanels ? (vue.openBlock(), vue.createBlock(\"button\", {\n              key: 0,\n              type: \"button\",\n              disabled: !_ctx.enableYearArrow,\n              class: [{ \"is-disabled\": !_ctx.enableYearArrow }, \"el-picker-panel__icon-btn el-icon-d-arrow-right\"],\n              onClick: _cache[13] || (_cache[13] = (...args) => _ctx.leftNextYear && _ctx.leftNextYear(...args))\n            }, null, 10, [\"disabled\"])) : vue.createCommentVNode(\"v-if\", true),\n            _ctx.unlinkPanels ? (vue.openBlock(), vue.createBlock(\"button\", {\n              key: 1,\n              type: \"button\",\n              disabled: !_ctx.enableMonthArrow,\n              class: [{ \"is-disabled\": !_ctx.enableMonthArrow }, \"el-picker-panel__icon-btn el-icon-arrow-right\"],\n              onClick: _cache[14] || (_cache[14] = (...args) => _ctx.leftNextMonth && _ctx.leftNextMonth(...args))\n            }, null, 10, [\"disabled\"])) : vue.createCommentVNode(\"v-if\", true),\n            vue.createVNode(\"div\", null, vue.toDisplayString(_ctx.leftLabel), 1)\n          ]),\n          vue.createVNode(_component_date_table, {\n            \"selection-mode\": \"range\",\n            date: _ctx.leftDate,\n            \"min-date\": _ctx.minDate,\n            \"max-date\": _ctx.maxDate,\n            \"range-state\": _ctx.rangeState,\n            \"disabled-date\": _ctx.disabledDate,\n            \"cell-class-name\": _ctx.cellClassName,\n            onChangerange: _ctx.handleChangeRange,\n            onPick: _ctx.handleRangePick,\n            onSelect: _ctx.onSelect\n          }, null, 8, [\"date\", \"min-date\", \"max-date\", \"range-state\", \"disabled-date\", \"cell-class-name\", \"onChangerange\", \"onPick\", \"onSelect\"])\n        ]),\n        vue.createVNode(\"div\", _hoisted_14, [\n          vue.createVNode(\"div\", _hoisted_15, [\n            _ctx.unlinkPanels ? (vue.openBlock(), vue.createBlock(\"button\", {\n              key: 0,\n              type: \"button\",\n              disabled: !_ctx.enableYearArrow,\n              class: [{ \"is-disabled\": !_ctx.enableYearArrow }, \"el-picker-panel__icon-btn el-icon-d-arrow-left\"],\n              onClick: _cache[15] || (_cache[15] = (...args) => _ctx.rightPrevYear && _ctx.rightPrevYear(...args))\n            }, null, 10, [\"disabled\"])) : vue.createCommentVNode(\"v-if\", true),\n            _ctx.unlinkPanels ? (vue.openBlock(), vue.createBlock(\"button\", {\n              key: 1,\n              type: \"button\",\n              disabled: !_ctx.enableMonthArrow,\n              class: [{ \"is-disabled\": !_ctx.enableMonthArrow }, \"el-picker-panel__icon-btn el-icon-arrow-left\"],\n              onClick: _cache[16] || (_cache[16] = (...args) => _ctx.rightPrevMonth && _ctx.rightPrevMonth(...args))\n            }, null, 10, [\"disabled\"])) : vue.createCommentVNode(\"v-if\", true),\n            vue.createVNode(\"button\", {\n              type: \"button\",\n              class: \"el-picker-panel__icon-btn el-icon-d-arrow-right\",\n              onClick: _cache[17] || (_cache[17] = (...args) => _ctx.rightNextYear && _ctx.rightNextYear(...args))\n            }),\n            vue.createVNode(\"button\", {\n              type: \"button\",\n              class: \"el-picker-panel__icon-btn el-icon-arrow-right\",\n              onClick: _cache[18] || (_cache[18] = (...args) => _ctx.rightNextMonth && _ctx.rightNextMonth(...args))\n            }),\n            vue.createVNode(\"div\", null, vue.toDisplayString(_ctx.rightLabel), 1)\n          ]),\n          vue.createVNode(_component_date_table, {\n            \"selection-mode\": \"range\",\n            date: _ctx.rightDate,\n            \"min-date\": _ctx.minDate,\n            \"max-date\": _ctx.maxDate,\n            \"range-state\": _ctx.rangeState,\n            \"disabled-date\": _ctx.disabledDate,\n            \"cell-class-name\": _ctx.cellClassName,\n            onChangerange: _ctx.handleChangeRange,\n            onPick: _ctx.handleRangePick,\n            onSelect: _ctx.onSelect\n          }, null, 8, [\"date\", \"min-date\", \"max-date\", \"range-state\", \"disabled-date\", \"cell-class-name\", \"onChangerange\", \"onPick\", \"onSelect\"])\n        ])\n      ])\n    ]),\n    _ctx.showTime ? (vue.openBlock(), vue.createBlock(\"div\", _hoisted_16, [\n      _ctx.clearable ? (vue.openBlock(), vue.createBlock(_component_el_button, {\n        key: 0,\n        size: \"mini\",\n        type: \"text\",\n        class: \"el-picker-panel__link-btn\",\n        onClick: _ctx.handleClear\n      }, {\n        default: vue.withCtx(() => [\n          vue.createTextVNode(vue.toDisplayString(_ctx.t(\"el.datepicker.clear\")), 1)\n        ]),\n        _: 1\n      }, 8, [\"onClick\"])) : vue.createCommentVNode(\"v-if\", true),\n      vue.createVNode(_component_el_button, {\n        plain: \"\",\n        size: \"mini\",\n        class: \"el-picker-panel__link-btn\",\n        disabled: _ctx.btnDisabled,\n        onClick: _cache[19] || (_cache[19] = ($event) => _ctx.handleConfirm(false))\n      }, {\n        default: vue.withCtx(() => [\n          vue.createTextVNode(vue.toDisplayString(_ctx.t(\"el.datepicker.confirm\")), 1)\n        ]),\n        _: 1\n      }, 8, [\"disabled\"])\n    ])) : vue.createCommentVNode(\"v-if\", true)\n  ], 2);\n}\n\nscript$4.render = render$4;\nscript$4.__file = \"packages/date-picker/src/date-picker-com/panel-date-range.vue\";\n\nvar script$5 = vue.defineComponent({\n  components: { MonthTable: script$1 },\n  props: {\n    unlinkPanels: Boolean,\n    parsedValue: {\n      type: Array\n    }\n  },\n  emits: [\"pick\", \"set-picker-option\"],\n  setup(props, ctx) {\n    const leftDate = vue.ref(dayjs__default['default']());\n    const rightDate = vue.ref(dayjs__default['default']().add(1, \"year\"));\n    const hasShortcuts = vue.computed(() => !!shortcuts.length);\n    const handleShortcutClick = (shortcut) => {\n      if (shortcut.value) {\n        ctx.emit(\"pick\", [dayjs__default['default'](shortcut.value[0]), dayjs__default['default'](shortcut.value[1])]);\n        return;\n      }\n      if (shortcut.onClick) {\n        shortcut.onClick(ctx);\n      }\n    };\n    const leftPrevYear = () => {\n      leftDate.value = leftDate.value.subtract(1, \"year\");\n      if (!props.unlinkPanels) {\n        rightDate.value = rightDate.value.subtract(1, \"year\");\n      }\n    };\n    const rightNextYear = () => {\n      if (!props.unlinkPanels) {\n        leftDate.value = leftDate.value.add(1, \"year\");\n      }\n      rightDate.value = rightDate.value.add(1, \"year\");\n    };\n    const leftNextYear = () => {\n      leftDate.value = leftDate.value.add(1, \"year\");\n    };\n    const rightPrevYear = () => {\n      rightDate.value = rightDate.value.subtract(1, \"year\");\n    };\n    const leftLabel = vue.computed(() => {\n      return `${leftDate.value.year()} ${locale.t(\"el.datepicker.year\")}`;\n    });\n    const rightLabel = vue.computed(() => {\n      return `${rightDate.value.year()} ${locale.t(\"el.datepicker.year\")}`;\n    });\n    const leftYear = vue.computed(() => {\n      return leftDate.value.year();\n    });\n    const rightYear = vue.computed(() => {\n      return rightDate.value.year() === leftDate.value.year() ? leftDate.value.year() + 1 : rightDate.value.year();\n    });\n    const enableYearArrow = vue.computed(() => {\n      return props.unlinkPanels && rightYear.value > leftYear.value + 1;\n    });\n    const minDate = vue.ref(null);\n    const maxDate = vue.ref(null);\n    const rangeState = vue.ref({\n      endDate: null,\n      selecting: false\n    });\n    const handleChangeRange = (val) => {\n      rangeState.value = val;\n    };\n    const handleRangePick = (val, close = true) => {\n      const minDate_ = val.minDate;\n      const maxDate_ = val.maxDate;\n      if (maxDate.value === maxDate_ && minDate.value === minDate_) {\n        return;\n      }\n      maxDate.value = maxDate_;\n      minDate.value = minDate_;\n      if (!close)\n        return;\n      handleConfirm();\n    };\n    const isValidValue = (value) => {\n      return Array.isArray(value) && value && value[0] && value[1] && value[0].valueOf() <= value[1].valueOf();\n    };\n    const handleConfirm = (visible = false) => {\n      if (isValidValue([minDate.value, maxDate.value])) {\n        ctx.emit(\"pick\", [minDate.value, maxDate.value], visible);\n      }\n    };\n    const onSelect = (selecting) => {\n      rangeState.value.selecting = selecting;\n      if (!selecting) {\n        rangeState.value.endDate = null;\n      }\n    };\n    const formatToString = (value) => {\n      return value.map((_) => _.format(format));\n    };\n    const getDefaultValue = () => {\n      let start;\n      if (Array.isArray(defaultValue)) {\n        const left = dayjs__default['default'](defaultValue[0]);\n        let right = dayjs__default['default'](defaultValue[1]);\n        if (!props.unlinkPanels) {\n          right = left.add(1, \"year\");\n        }\n        return [left, right];\n      } else if (defaultValue) {\n        start = dayjs__default['default'](defaultValue);\n      } else {\n        start = dayjs__default['default']();\n      }\n      return [start, start.add(1, \"year\")];\n    };\n    ctx.emit(\"set-picker-option\", [\"formatToString\", formatToString]);\n    const pickerBase = vue.inject(\"EP_PICKER_BASE\");\n    const { shortcuts, disabledDate, format, defaultValue } = pickerBase.props;\n    vue.watch(() => props.parsedValue, (newVal) => {\n      if (newVal && newVal.length === 2) {\n        minDate.value = newVal[0];\n        maxDate.value = newVal[1];\n        leftDate.value = minDate.value;\n        if (props.unlinkPanels && maxDate.value) {\n          const minDateYear = minDate.value.year();\n          const maxDateYear = maxDate.value.year();\n          rightDate.value = minDateYear === maxDateYear ? maxDate.value.add(1, \"year\") : maxDate.value;\n        } else {\n          rightDate.value = leftDate.value.add(1, \"year\");\n        }\n      } else {\n        const defaultArr = getDefaultValue();\n        leftDate.value = defaultArr[0];\n        rightDate.value = defaultArr[1];\n      }\n    }, { immediate: true });\n    return {\n      shortcuts,\n      disabledDate,\n      onSelect,\n      handleRangePick,\n      rangeState,\n      handleChangeRange,\n      minDate,\n      maxDate,\n      enableYearArrow,\n      leftLabel,\n      rightLabel,\n      leftNextYear,\n      leftPrevYear,\n      rightNextYear,\n      rightPrevYear,\n      t: locale.t,\n      leftDate,\n      rightDate,\n      hasShortcuts,\n      handleShortcutClick\n    };\n  }\n});\n\nconst _hoisted_1$5 = { class: \"el-picker-panel__body-wrapper\" };\nconst _hoisted_2$3 = {\n  key: 0,\n  class: \"el-picker-panel__sidebar\"\n};\nconst _hoisted_3$3 = { class: \"el-picker-panel__body\" };\nconst _hoisted_4$3 = { class: \"el-picker-panel__content el-date-range-picker__content is-left\" };\nconst _hoisted_5$3 = { class: \"el-date-range-picker__header\" };\nconst _hoisted_6$3 = { class: \"el-picker-panel__content el-date-range-picker__content is-right\" };\nconst _hoisted_7$3 = { class: \"el-date-range-picker__header\" };\nfunction render$5(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_month_table = vue.resolveComponent(\"month-table\");\n  return vue.openBlock(), vue.createBlock(\"div\", {\n    class: [\"el-picker-panel el-date-range-picker\", [{\n      \"has-sidebar\": _ctx.$slots.sidebar || _ctx.hasShortcuts\n    }]]\n  }, [\n    vue.createVNode(\"div\", _hoisted_1$5, [\n      vue.renderSlot(_ctx.$slots, \"sidebar\", { class: \"el-picker-panel__sidebar\" }),\n      _ctx.hasShortcuts ? (vue.openBlock(), vue.createBlock(\"div\", _hoisted_2$3, [\n        (vue.openBlock(true), vue.createBlock(vue.Fragment, null, vue.renderList(_ctx.shortcuts, (shortcut, key) => {\n          return vue.openBlock(), vue.createBlock(\"button\", {\n            key,\n            type: \"button\",\n            class: \"el-picker-panel__shortcut\",\n            onClick: ($event) => _ctx.handleShortcutClick(shortcut)\n          }, vue.toDisplayString(shortcut.text), 9, [\"onClick\"]);\n        }), 128))\n      ])) : vue.createCommentVNode(\"v-if\", true),\n      vue.createVNode(\"div\", _hoisted_3$3, [\n        vue.createVNode(\"div\", _hoisted_4$3, [\n          vue.createVNode(\"div\", _hoisted_5$3, [\n            vue.createVNode(\"button\", {\n              type: \"button\",\n              class: \"el-picker-panel__icon-btn el-icon-d-arrow-left\",\n              onClick: _cache[1] || (_cache[1] = (...args) => _ctx.leftPrevYear && _ctx.leftPrevYear(...args))\n            }),\n            _ctx.unlinkPanels ? (vue.openBlock(), vue.createBlock(\"button\", {\n              key: 0,\n              type: \"button\",\n              disabled: !_ctx.enableYearArrow,\n              class: [{ \"is-disabled\": !_ctx.enableYearArrow }, \"el-picker-panel__icon-btn el-icon-d-arrow-right\"],\n              onClick: _cache[2] || (_cache[2] = (...args) => _ctx.leftNextYear && _ctx.leftNextYear(...args))\n            }, null, 10, [\"disabled\"])) : vue.createCommentVNode(\"v-if\", true),\n            vue.createVNode(\"div\", null, vue.toDisplayString(_ctx.leftLabel), 1)\n          ]),\n          vue.createVNode(_component_month_table, {\n            \"selection-mode\": \"range\",\n            date: _ctx.leftDate,\n            \"min-date\": _ctx.minDate,\n            \"max-date\": _ctx.maxDate,\n            \"range-state\": _ctx.rangeState,\n            \"disabled-date\": _ctx.disabledDate,\n            onChangerange: _ctx.handleChangeRange,\n            onPick: _ctx.handleRangePick,\n            onSelect: _ctx.onSelect\n          }, null, 8, [\"date\", \"min-date\", \"max-date\", \"range-state\", \"disabled-date\", \"onChangerange\", \"onPick\", \"onSelect\"])\n        ]),\n        vue.createVNode(\"div\", _hoisted_6$3, [\n          vue.createVNode(\"div\", _hoisted_7$3, [\n            _ctx.unlinkPanels ? (vue.openBlock(), vue.createBlock(\"button\", {\n              key: 0,\n              type: \"button\",\n              disabled: !_ctx.enableYearArrow,\n              class: [{ \"is-disabled\": !_ctx.enableYearArrow }, \"el-picker-panel__icon-btn el-icon-d-arrow-left\"],\n              onClick: _cache[3] || (_cache[3] = (...args) => _ctx.rightPrevYear && _ctx.rightPrevYear(...args))\n            }, null, 10, [\"disabled\"])) : vue.createCommentVNode(\"v-if\", true),\n            vue.createVNode(\"button\", {\n              type: \"button\",\n              class: \"el-picker-panel__icon-btn el-icon-d-arrow-right\",\n              onClick: _cache[4] || (_cache[4] = (...args) => _ctx.rightNextYear && _ctx.rightNextYear(...args))\n            }),\n            vue.createVNode(\"div\", null, vue.toDisplayString(_ctx.rightLabel), 1)\n          ]),\n          vue.createVNode(_component_month_table, {\n            \"selection-mode\": \"range\",\n            date: _ctx.rightDate,\n            \"min-date\": _ctx.minDate,\n            \"max-date\": _ctx.maxDate,\n            \"range-state\": _ctx.rangeState,\n            \"disabled-date\": _ctx.disabledDate,\n            onChangerange: _ctx.handleChangeRange,\n            onPick: _ctx.handleRangePick,\n            onSelect: _ctx.onSelect\n          }, null, 8, [\"date\", \"min-date\", \"max-date\", \"range-state\", \"disabled-date\", \"onChangerange\", \"onPick\", \"onSelect\"])\n        ])\n      ])\n    ])\n  ], 2);\n}\n\nscript$5.render = render$5;\nscript$5.__file = \"packages/date-picker/src/date-picker-com/panel-month-range.vue\";\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\ndayjs__default['default'].extend(localeData__default['default']);\ndayjs__default['default'].extend(advancedFormat__default['default']);\ndayjs__default['default'].extend(customParseFormat__default['default']);\ndayjs__default['default'].extend(weekOfYear__default['default']);\ndayjs__default['default'].extend(weekYear__default['default']);\ndayjs__default['default'].extend(dayOfYear__default['default']);\ndayjs__default['default'].extend(isSameOrAfter__default['default']);\ndayjs__default['default'].extend(isSameOrBefore__default['default']);\nconst getPanel = function(type) {\n  if (type === \"daterange\" || type === \"datetimerange\") {\n    return script$4;\n  } else if (type === \"monthrange\") {\n    return script$5;\n  }\n  return script$3;\n};\nvar DatePicker = vue.defineComponent({\n  name: \"ElDatePicker\",\n  install: null,\n  props: __spreadProps(__spreadValues({}, timePicker.defaultProps), {\n    type: {\n      type: String,\n      default: \"date\"\n    }\n  }),\n  emits: [\"update:modelValue\"],\n  setup(props, ctx) {\n    vue.provide(\"ElPopperOptions\", props.popperOptions);\n    const commonPicker = vue.ref(null);\n    const refProps = __spreadProps(__spreadValues({}, props), {\n      focus: () => {\n        var _a;\n        (_a = commonPicker.value) == null ? void 0 : _a.handleFocus();\n      }\n    });\n    ctx.expose(refProps);\n    return () => {\n      var _a;\n      const format = (_a = props.format) != null ? _a : timePicker.DEFAULT_FORMATS_DATEPICKER[props.type] || timePicker.DEFAULT_FORMATS_DATE;\n      return vue.h(timePicker.CommonPicker, __spreadProps(__spreadValues({}, props), {\n        format,\n        type: props.type,\n        ref: commonPicker,\n        \"onUpdate:modelValue\": (value) => ctx.emit(\"update:modelValue\", value)\n      }), {\n        default: (scopedProps) => vue.h(getPanel(props.type), scopedProps)\n      });\n    };\n  }\n});\n\nconst _DatePicker = DatePicker;\n_DatePicker.install = (app) => {\n  app.component(_DatePicker.name, _DatePicker);\n};\n\nexports.default = _DatePicker;\n"]}]}